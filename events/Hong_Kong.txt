add_namespace = hongkong
add_namespace = hktriads

country_event = { #AI loading stuff
	id = hongkong.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event hongkong.1" }
	title = hongkong.1.t
	desc = hongkong.1.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = hongkong.1.a
		hidden_effect = { 
			load_oob = HKG
			country_lock_all_division_template = yes
			country_event = {
				id = hongkong.2
				days = 1
			}
		}
	}
}

country_event = { #Introduction event
	id = hongkong.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event hongkong.2" }
	title = hongkong.2.t
	desc = hongkong.2.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = hongkong.2.a
	}
}

country_event = { #Confiscating Firearms
	id = hongkong.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event hongkong.3" }
	title = hongkong.3.t
	desc = hongkong.3.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = hongkong.3.a
		hidden_effect = {
			country_event = {
				id = hongkong.4
				days = 3
			}
		}
	}
}

country_event = { #They've found a WHAT?
	id = hongkong.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event hongkong.4" }
	title = hongkong.4.t
	desc = hongkong.4.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = hongkong.4.a
		add_equipment_to_stockpile = {
				type = light_tank_equipment
				amount = 10
				producer = HKG
		}
	}
}

country_event = { #Kowloon Crisis
	id = hongkong.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event hongkong.5" }
	title = hongkong.5.t
	desc = hongkong.5.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = hongkong.5.a
		swap_ideas = {
					remove_idea = HKG_triads_idea
					add_idea = HKG_triads_idea1
				}
		add_political_power = -25
		add_popularity = { ideology = authoritarian_democrat popularity = -0.05 }
	}
}

country_event = { #Organizing countermeasures
	id = hongkong.6
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event hongkong.6"
		hidden_effect = {
			country_event = {
				id = hongkong.7
				days = 2
			}
		}
	}
	title = hongkong.6.t
	desc = hongkong.6.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = hongkong.6.a
		add_manpower = -150
		hidden_effect = {
			set_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	option = {
		name = hongkong.6.b
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -250
			producer = HKG
		}
		hidden_effect = {
			set_country_flag = HKG_triadwar_tackle_outposts
		}
	}
}

country_event = { #Countermeasures
	id = hongkong.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event hongkong.7" }
	title = {
		text = hongkong.7.t.eliminate
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	title = {
		text = hongkong.7.t.tackle
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
	}
	desc = {
		text = hongkong.7.d.eliminate
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	desc = {
		text = hongkong.7.d.tackle
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
	}
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = hongkong.7.a
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
		add_manpower = -25
		hidden_effect = {
			country_event = {
				id = hongkong.8
				days = 2
			}
		}	
	}
	option = {
		name = hongkong.7.b
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
		add_manpower = -10
		add_political_power = 5
		hidden_effect = {
			country_event = {
				id = hongkong.9
				days = 2
			}
		}
	}
	option = {
		name = hongkong.7.c
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -10
			producer = HKG
		}
		hidden_effect = {
			country_event = {
				id = hongkong.8
				days = 2
			}
		}
	}
	option = {
		name = hongkong.7.e
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -25
			producer = HKG
		}
		hidden_effect = {
			country_event = {
				id = hongkong.9
				days = 2
			}
		}
	}
}

country_event = { #Countermeasures outcome - positive!
	id = hongkong.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event hongkong.8" }
	title = {
		text = hongkong.8.t.eliminate
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	title = {
		text = hongkong.8.t.tackle
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
	}
	desc = {
		text = hongkong.8.d.eliminate
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	desc = {
		text = hongkong.8.d.tackle
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
	}
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = hongkong.8.a
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
		add_political_power = 25
		hidden_effect = {
			country_event = {
				id = hongkong.10
				days = 2
			}
		}
	}
	option = {
		name = hongkong.8.b
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
		add_political_power = 25
		hidden_effect = {
			country_event = {
				id = hongkong.10
				days = 2
			}
		}
	}
}

country_event = { #Countermeasures outcome - negative!
	id = hongkong.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event hongkong.9" }
	title = {
		text = hongkong.9.t.eliminate
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	title = {
		text = hongkong.9.t.tackle
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
	}
	desc = {
		text = hongkong.9.d.eliminate
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	desc = {
		text = hongkong.9.d.tackle
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
	}
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = hongkong.9.a
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
		add_political_power = -25
		hidden_effect = {
			country_event = {
				id = hongkong.11
				days = 2
			}
		}
	}
	option = {
		name = hongkong.9.b
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
		add_political_power = -25
		hidden_effect = {
			country_event = {
				id = hongkong.11
				days = 2
			}
		}
	}
}

country_event = { #Triads in retreat!
	id = hongkong.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event hongkong.10" }
	title = {
		text = hongkong.10.t.eliminate
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	title = {
		text = hongkong.10.t.tackle
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
	}
	desc = {
		text = hongkong.10.d.eliminate
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	desc = {
		text = hongkong.10.d.tackle
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
	}
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = hongkong.10.a
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
		swap_ideas = {
					remove_idea = HKG_triads_idea1
					add_idea = HKG_triads_idea2
		}
		add_political_power = 50
		add_popularity = { ideology = authoritarian_democrat popularity = 0.075 }
		kill_ideology_leader = national_populist
		set_party_name = {
			ideology = national_populist
			long_name = HKG_national_populist_party1_long
			name = HKG_national_populist_party1 
			}
		create_country_leader = {
			name = "Kot Siu-wong"
			desc = "POLITICS_KOT_SIUWONG"
			picture = "Portrait_HKG_Kot_Siu_Wong"
			expire = "1965.1.1"
			ideology = national_populist_subtype
			traits = { }
		}
		hidden_effect = {
			country_event = {
				id = hongkong.12
				days = 2
			}
		}
	}
	option = {
		name = hongkong.10.b
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
		swap_ideas = {
					remove_idea = HKG_triads_idea1
					add_idea = HKG_triads_idea2
		}
		add_political_power = 50
		add_popularity = { ideology = authoritarian_democrat popularity = 0.075 }
		hidden_effect = {
			country_event = {
				id = hongkong.12
				days = 2
			}
		}
	}
}

country_event = { #Triads in advance!
	id = hongkong.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event hongkong.11" }
	title = {
		text = hongkong.11.t.eliminate
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	title = {
		text = hongkong.11.t.tackle
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
	}
	desc = {
		text = hongkong.11.d.eliminate
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	desc = {
		text = hongkong.11.d.tackle
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
	}
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = hongkong.11.a
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
		swap_ideas = {
					remove_idea = HKG_triads_idea1
					add_idea = HKG_triads_idea3
		}
		add_political_power = -50
		add_popularity = { ideology = authoritarian_democrat popularity = -0.075 }
		add_popularity = { ideology = national_populist popularity = 0.05 }
		hidden_effect = {
			country_event = {
				id = hongkong.13
				days = 2
			}
		}
	}
	option = {
		name = hongkong.11.b
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
		swap_ideas = {
					remove_idea = HKG_triads_idea1
					add_idea = HKG_triads_idea3
		}
		add_political_power = -50
		add_popularity = { ideology = authoritarian_democrat popularity = -0.075 }
		add_popularity = { ideology = national_populist popularity = 0.05 }
		hidden_effect = {
			country_event = {
				id = hongkong.13
				days = 2
			}
		}
	}
}

country_event = { #Triads threat crushed!
	id = hongkong.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event hongkong.12" }
	title = {
		text = hongkong.12.t.eliminate
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	title = {
		text = hongkong.12.t.tackle
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
	}
	desc = {
		text = hongkong.12.d.eliminate
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	desc = {
		text = hongkong.12.d.tackle
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
	}
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = hongkong.12.a
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
		add_political_power = 75
		add_stability = 0.075
		add_popularity = { ideology = authoritarian_democrat popularity = 0.05 }
		hidden_effect = {
			clr_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	option = {
		name = hongkong.12.b
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
		add_political_power = 75
		add_stability = 0.075
		add_popularity = { ideology = authoritarian_democrat popularity = 0.05 }
		hidden_effect = {
			clr_country_flag = HKG_triadwar_tackle_outposts
		}
	}
}

country_event = { #Triads takeover!
	id = hongkong.13
	immediate = { log = "[GetDateText]: [Root.GetName]: event hongkong.13" }
	title = {
		text = hongkong.13.t.eliminate
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	title = {
		text = hongkong.13.t.tackle
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
	}
	desc = {
		text = hongkong.13.d.eliminate
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	desc = {
		text = hongkong.13.d.tackle
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
	}
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = hongkong.13.a
		trigger = {
			has_country_flag = HKG_triadwar_eliminate_leaders
		}
		set_party_name = {
			ideology = paternal_autocrat
			long_name = HKG_paternal_autocrat_party1_long
			name = HKG_paternal_autocrat_party1
			}
		create_country_leader = {
			name = "Heung Chin"
			desc = "POLITICS_HEUNG_DESC"
			picture = "Portrait_HKG_Heung_Chin.png"
			expire = "1965.1.1"
			ideology = paternal_autocrat_subtype
			traits = { }
		}
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		remove_all_ministers = yes
		add_popularity = { ideology = authoritarian_democrat popularity = -0.25 }
		add_popularity = { ideology = paternal_autocrat popularity = 0.20 }
		add_popularity = { ideology = national_populist popularity = 0.05 }
		remove_ideas = HKG_police_garrison_idea
		remove_ideas = HKG_triads_idea3
		remove_ideas = HKG_widespread_disorder_idea2
		add_ideas = HKG_triad_army_idea
		if = {
			limit = {
				has_idea = HKG_makeshift_administration_idea1
			}
			swap_ideas = {
				remove_idea = HKG_makeshift_administration_idea1
				add_idea = HKG_makeshift_administration_idea_triad
			}
		}
		if = {
			limit = {
				has_ideas = HKG_makeshift_administration_idea2
			}
			swap_ideas = {
				remove_idea = HKG_makeshift_administration_idea2
				add_idea = HKG_makeshift_administration_idea_triad
			}
		}
		hidden_effect = {
			set_country_flag = HKG_police_deposed
			set_country_flag = HKG_triads_in_charge
			set_country_flag = HKG_sun_yee_on_in_charge
			clr_country_flag = HKG_triadwar_eliminate_leaders
		}
	}
	option = {
		name = hongkong.13.b
		trigger = {
			has_country_flag = HKG_triadwar_tackle_outposts
		}
		add_political_power = 75
		add_stability = 0.075
		add_popularity = { ideology = authoritarian_democrat popularity = 0.05 }
		hidden_effect = {
			clr_country_flag = HKG_triadwar_tackle_outposts
		}
	}
}

### TRIAD EVENTS ###

country_event = { #Conflicted Loyalties
	id = hktriads.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event hktriads.1" }
	title = hktriads.1.t
	desc = hktriads.1.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = hktriads.1.a
		add_manpower = -400
		add_political_power = -15
	}
	option = {
		name = hktriads.1.b
		custom_effect_tooltip = HKG_loyalties_tt1
		add_timed_idea = {
			idea = HKG_loyalties_crack_idea
			days = 100
		}
		hidden_effect = {
			country_event = {
				id = hktriads.2
				days = 101
			}
		}
	}
	option = {
		name = hktriads.1.c
		custom_effect_tooltip = HKG_loyalties_tt2
		add_ideas = HKG_loyalties_appease_idea
		hidden_effect = {
			country_event = {
				id = hktriads.3
				days = 24
			}
		}
	}
}

country_event = { #Conflicted Loyalties pt. 2
	id = hktriads.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event hktriads.2" }
	title = hktriads.2.t
	desc = hktriads.2.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = hktriads.2.a
		add_ideas = HKG_loyalties_cracked_idea
	}
}

country_event = { #Conflicted Loyalties pt. 3
	id = hktriads.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event hktriads.3" }
	title = hktriads.3.t
	desc = hktriads.3.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = hktriads.3.a
		remove_ideas = HKG_loyalties_appease_idea
		add_ideas = HKG_cronies_payment_idea
	}
	option = {
		name = hktriads.3.b
		hidden_effect = {
			country_event = {
				id = hktriads.4
				days = 3
			}
		}
	}
}

country_event = { #Conflicted Loyalties pt. 4
	id = hktriads.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event hktriads.4" }
	title = hktriads.4.t
	desc = hktriads.4.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = hktriads.4.a
		add_stability = -0.15
		add_manpower = -10
		swap_ideas = {
			remove_idea = HKG_loyalties_appease_idea
			add_idea = HKG_loyalties_appeased_idea
		}
	}
}

country_event = { #Central Guoshu Institute
	id = hktriads.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event hktriads.5" }
	title = hktriads.5.t
	desc = hktriads.5.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = hktriads.5.a
		add_manpower = 1500
		add_popularity = { ideology = paternal_autocrat popularity = 0.03 }
	}
}

country_event = { #Hit-and-run tactics
	id = hktriads.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event hktriads.6" }
	title = hktriads.6.t
	desc = hktriads.6.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = hktriads.6.a
		add_war_support = 0.015
	}
}

country_event = { #Coordinated Troubleshooting System
	id = hktriads.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event hktriads.7" }
	title = hktriads.7.t
	desc = hktriads.7.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = hktriads.7.a
		add_popularity = { ideology = paternal_autocrat popularity = 0.05 }
	}
}

country_event = { #Coordinated Troubleshooting System
	id = hktriads.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event hktriads.8" }
	title = hktriads.8.t
	desc = hktriads.8.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = hktriads.8.a
		add_stability = 0.075
		add_political_power = 30
	}
}

country_event = { #hunt syndies good
	id = hktriads.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event hktriads.9" }
	title = hktriads.9.t
	desc = hktriads.9.d
	is_triggered_only = yes

	option = {
		name = hktriads.9.a
		add_manpower = -50
		add_stability = 0.025
		add_popularity = { ideology = paternal_autocrat popularity = 0.02 }
	}
}

country_event = { #hunt syndies vgood
	id = hktriads.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event hktriads.10" }
	title = hktriads.10.t
	desc = hktriads.10.d
	is_triggered_only = yes

	option = {
		name = hktriads.10.a
		add_manpower = -35
		add_stability = 0.05
		add_popularity = { ideology = paternal_autocrat popularity = 0.05 }
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 275
			producer = HKG
		}
	}
}

country_event = { #hunt syndies bad
	id = hktriads.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event hktriads.11" }
	title = hktriads.11.t
	desc = hktriads.11.d
	is_triggered_only = yes

	option = {
		name = hktriads.11.a
		add_manpower = -150
		add_stability = -0.025
		add_popularity = { ideology = paternal_autocrat popularity = -0.02 }
	}
}