###########################
# Malta Events
###########################
# By AmCath
###########################

add_namespace = mlt


country_event = {#fututre in flux
	id = mlt.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.1"
	hidden_effect = {
		load_focus_tree = generic_focus
	} }
	title = mlt.1.t
	desc = mlt.1.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = { #call elections
		name = mlt.1.a
		set_country_flag = MLT_elections
		hidden_effect = {
			remove_ideas = MLT_langaune_question
		remove_ideas = MLT_republicanismonrise
		remove_ideas = MLT_commie_cells
			country_event = {
				id = mlt.3
				days = 5
			}
		} 
		
	}
	option = { #cuck to england in exile
		name = mlt.1.b
		set_country_flag = MLT_knights_held_on
		hidden_effect = {
			remove_ideas = MLT_langaune_question
		remove_ideas = MLT_republicanismonrise
		remove_ideas = MLT_commie_cells
			country_event = {
				id = mlt.2
				days = 10
			}
		} 
	}
}
country_event = {#uprising
	id = mlt.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.2"
	hidden_effect = {
		set_country_flag = MLT_shadow_flag
	}  }
	title = mlt.2.t
	desc = mlt.2.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = { #it works
		name = mlt.2.a
		add_popularity = { ideology = radical_socialist popularity = 0.1}
		drop_cosmetic_tag = yes
		set_country_flag = MTL_commie_uprising
		clr_country_flag = MLT_knights_held_on
		set_politics = {
		ruling_party = radical_socialist
		elections_allowed = no
		}
		FRA = {
			add_to_faction = MLT
		}
	}
	option = { #it fails
		name = mlt.2.b
		hidden_effect = {
			country_event = {
				id = mlt.15
				days = 5
			}
		}
	}
	
}
country_event = {#labor leadership vote
	id = mlt.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.3" }
	title = mlt.3.t
	desc = mlt.3.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes
	trigger = {
		OR = {
			NOT = {
				has_completed_focus = MLT_march_on_valletta
				has_completed_focus = MLT_emergecy_council
				has_completed_focus = MLT_total_workers_reformation
			}
		}
	}

	

	option = { #radicals
		name = mlt.3.a
		add_popularity = { ideology = radical_socialist popularity = 0.05}
		set_country_flag = MLT_radical_labour
		country_event = {
				id = mlt.4
				days = 5
			}
	}
	option = { #BOFFA DEEZ NUTS
		name = mlt.3.b
		add_popularity = { ideology = social_democrat popularity = 0.05}
		set_country_flag = MLT_sucdem_labour
		country_event = {
				id = mlt.4
				days = 5
			}
	}
	
}
country_event = {#natioanlist vote
	id = mlt.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.4" }
	title = mlt.4.t
	desc = mlt.4.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes


	option = { #soccon
		name = mlt.4.a
		add_popularity = { ideology = social_conservative popularity = 0.2}
		set_country_flag = MLT_soccon_nat
		country_event = {
				id = mlt.5
				days = 5
			}
	}
	option = { #knights
		name = mlt.4.b
		trigger = {
			NOT = {
				has_country_flag = MLT_moar_democracy
			}
		}
		add_popularity = { ideology = authoritarian_democrat popularity = 0.2}
		set_country_flag = MLT_knight_nat
		country_event = {
				id = mlt.5
				days = 5
			}
	}
	option = { #knights
		name = mlt.4.c
		add_popularity = { ideology = national_populist popularity = 0.2}
		set_country_flag = MLT_natpop_nat
		country_event = {
				id = mlt.5
				days = 5
			}
	}
	
}

country_event = {#consititon leadership vote
	id = mlt.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.5" }
	title = mlt.5.t
	desc = mlt.5.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	option = { #mark
		name = mlt.5.a
		add_popularity = { ideology = market_liberal popularity = 0.05}
		set_country_flag = MLT_marlib_con
		country_event = {
				id = mlt.6
				days = 5
			}
	}
	option = { #soclib
		name = mlt.5.b
		add_popularity = { ideology = social_liberal popularity = 0.05}
		set_country_flag = MLT_soclib_con
		country_event = {
				id = mlt.6
				days = 5
			}
	}
	
}

country_event = {#election
	id = mlt.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.6"
	hidden_effect = {
		set_country_flag = MLT_shadow_flag
		set_country_flag = MLT_democracy
		if = {
			limit = {
				has_country_flag = MLT_moar_democracy
			}
			country_event = {
				id = mlt.3
				days = 1461
			}
		}
	} }
	title = mlt.6.t
	desc = mlt.6.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes



	option = { #nationalists
		name = mlt.6.a
		if = {
			limit = {
				has_country_flag = MLT_soccon_nat
			}
			add_popularity = { ideology = social_conservative popularity = 0.1}
			set_country_flag = MTL_nat_victory
			set_politics = {
			ruling_party = social_conservative
			elections_allowed = no
			}
			ITA = {
				puppet = MLT
			}
			clr_country_flag = MLT_soccon_nat
		}
		if = {
			limit = {
				has_country_flag = MLT_knight_nat
			}
			add_popularity = { ideology = authoritarian_democrat popularity = 0.1}
			set_country_flag = MLT_knights_held_on
			set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = no
			}
			hidden_effect = {
			country_event = {
				id = mlt.15
				days = 5
			}
		}
		clr_country_flag = MLT_knight_nat
		}
		if = {
			limit = {
				has_country_flag = MLT_natpop_nat
			}

			add_popularity = { ideology = national_populist popularity = 0.1}
			set_country_flag = MTL_nat_victory
			set_politics = {
			ruling_party = national_populist
			elections_allowed = no
			}
			clr_country_flag = MLT_natpop_nat
		}
	}
	option = { #labour
		name = mlt.6.b
		if = {
			limit = {
				has_country_flag = MLT_sucdem_labour
			}
			add_popularity = { ideology = social_democrat popularity = 0.1}
			set_country_flag = MLT_labour_victory
			set_politics = {
			ruling_party = social_democrat
			elections_allowed = no
			}
			ENT = {
			add_to_faction = MLT
			}
			clr_country_flag = MLT_sucdem_labour
		}
		if = {
			limit = {
				has_country_flag = MLT_radical_labour
			}
			add_popularity = { ideology = radical_socialist popularity = 0.1}
			set_country_flag = MLT_labour_victory
			set_politics = {
			ruling_party = radical_socialist
			elections_allowed = no
			}
			hidden_effect = {
				country_event = {
					id = mlt.7
					days = 2
				}
			}
			clr_country_flag = MLT_radical_labour
		}
	}
	option = { #conpart
		name = mlt.6.c
		ENT = {
			add_to_faction = MLT
			}
		if = {
			limit = {
				has_country_flag = MLT_marlib_con
			}
			add_popularity = { ideology = market_liberal popularity = 0.1}
			set_country_flag = MLT_con_victory
			set_politics = {
			ruling_party = market_liberal
			elections_allowed = no
			}
			clr_country_flag = MLT_marlib_con
		}
		if = {
			limit = {
				has_country_flag = MLT_soclib_con
			}
			add_popularity = { ideology = social_liberal popularity = 0.1}
			set_country_flag = MLT_con_victory
			set_politics = {
			ruling_party = social_liberal
			elections_allowed = no
			}
			clr_country_flag = MLT_soclib_con
		}
		
	}
	
}

country_event = {#kngits attempt coup
	id = mlt.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.5" }
	title = mlt.7.t
	desc = mlt.5.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = { #works
		name = mlt.7.a
		add_popularity = { ideology = paternal_autocrat popularity = 0.05}
		set_country_flag = MLT_knights_held_on
		clr_country_flag = MLT_labour_victory
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
			}
			hidden_effect = {
			country_event = {
				id = mlt.15
				days = 5
			}
			
		}
		
	}
	option = { #failed
		name = mlt.7.b
		add_popularity = { ideology = radical_socialist popularity = 0.05}
		FRA = {
			add_to_faction = MLT
			}
	}
	
}

country_event = {#intro event
	id = mlt.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.5" }
	title = mlt.8.t
	desc = mlt.8.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = { #mark
		name = mlt.8.a
		add_political_power = 50
		custom_effect_tooltip = MLT_toozer
	}
	
}

country_event = {# knight intro event
	id = mlt.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.9" }
	title = mlt.9.t
	desc = mlt.9.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = { #nice
		name = mlt.9.a
	}
	
}

country_event = {# republican intro event
	id = mlt.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.10" }
	title = mlt.10.t
	desc = mlt.10.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = { #nice
		name = mlt.10.a
	}
	
}

country_event = {# socialist intro event
	id = mlt.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.11" }
	title = mlt.11.t
	desc = mlt.11.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = { #nice
		name = mlt.11.a
	}
	
}

# malta is free !
country_event = {
	id = mlt.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.1" }
	title = mlt.12.t
	desc = mlt.12.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		name = mlt.12.a
		MLT = {
			leave_faction = yes
			drop_cosmetic_tag = yes
			overlord = {
				set_autonomy = {
					target = MLT
					autonomy_state = autonomy_free
				}
			}
			hidden_effect = {
				country_event = {
					id = mlt.13
					days = 4
				}
				swap_ideas = {
		remove_idea = MLT_blind_garrison
		add_idea = MLT_garrison
		}
			}
		}	
		
	}
}

country_event = {
	id = mlt.13
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.13" }
	title = mlt.13.t
	desc = mlt.13.d
	picture = GFX_report_event_MLT_Whisper

	major = yes

	is_triggered_only = yes
	fire_only_once = yes



	option = {
		name = mlt.13.a
		remove_ideas = MLT_sons_of_malta_base
		set_global_flag = Malta_Revealed
		hidden_effect = {
			random_other_country = {
				news_event = { id = mlt.14 days = 1 }
			}
		}
	}
}

news_event = {
	id = mlt.14
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.14" }
	title = mlt.14.t
	desc = mlt.14.d
	
	picture = GFX_news_event_Malta_2

	major = yes

	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		NOT = {
			tag = MLT
		}
	}

	option = {
		name = mlt.14.a
	}
}

country_event = {
	id = mlt.15
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.1" }
	title = mlt.15.t
	desc = mlt.15.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		name = mlt.15.a
		set_country_flag = MLT_germ_cuck_knights
		GER = {
			add_to_faction = MLT
		}
		
	}
	option = {
		name = mlt.15.b
		set_country_flag = MLT_larp_knights

		AUS = {
			add_to_faction = MLT
		}
		
	}
}

country_event = {
	id = mlt.16
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.16" }
	title = mlt.16.t
	desc = mlt.16.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		name = mlt.16.a
		create_country_leader = {
					name = "Karl I"
					desc = "POLITICS_KARL_DESC"
					picture = "gfx/leaders/AUS/Portrait_AUS_Karl_I6.png"
					expire = "1965.1.1"
					ideology = absolute_monarchy_subtype
					traits = {}
				}
		
	}
	option = {
		name = mlt.16.b
		create_country_leader = {
					name = "Victor Emmanuel I"
					picture = "gfx/leaders/ITA/Victor_Emmanuel_III.png"
					expire = "1965.1.1"
					ideology = absolute_monarchy_subtype
					traits = {}
				}
		
	}
	option = {
		name = mlt.16.c
		create_country_leader = {
					name = "Alfonso I"
					picture = "gfx/leaders/SPR/Portrait_Alfonso_XIII.png"
					expire = "1965.1.1"
					ideology = absolute_monarchy_subtype
					traits = {}
				}
		
	}
	option = {
		name = mlt.16.e
		create_country_leader = {
					name = "Luigi I"
					picture = "gfx/leaders/MLT/Portrait_MLT_Luigi_Barlassina.png"
					expire = "1965.1.1"
					ideology = absolute_monarchy_subtype
					traits = {}
				}
		
	}
	option = {
		name = mlt.16.f
		add_political_power = 100
		
	}
}

country_event = {
	id = mlt.17
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.17" }
	title = mlt.17.t
	desc = mlt.17.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		name = mlt.17.a
		create_country_leader = {
					name = "Karl I"
					desc = "POLITICS_KARL_DESC"
					picture = "gfx/leaders/AUS/Portrait_AUS_Karl_I6.png"
					expire = "1965.1.1"
					ideology = absolute_monarchy_subtype
					traits = {}
				}
		
	}
	option = {
		name = mlt.17.b
		create_country_leader = {
					name = "Victor Emmanuel I"
					picture = "gfx/leaders/ITA/Victor_Emmanuel_III.png"
					expire = "1965.1.1"
					ideology = absolute_monarchy_subtype
					traits = {}
				}
		
	}
	option = {
		name = mlt.17.c
		create_country_leader = {
					name = "Alfonso I"
					picture = "gfx/leaders/SPR/Portrait_Alfonso_XIII.png"
					expire = "1965.1.1"
					ideology = absolute_monarchy_subtype
					traits = {}
				}
		
	}
	option = {
		name = mlt.17.e
		create_country_leader = {
					name = "Luigi I"
					picture = "gfx/leaders/MLT/Portrait_MLT_Luigi_Barlassina.png"
					expire = "1965.1.1"
					ideology = absolute_monarchy_subtype
					traits = {}
				}
		
	}
	option = {
		name = mlt.17.f
		create_country_leader = {
					name = "Cheikh I"
					picture = "gfx/leaders/MLT/Portrait_MLT_Prince_Cheikh_Antonios.png"
					expire = "1965.1.1"
					ideology = absolute_monarchy_subtype
					traits = {}
				}
		
	}
	option = {
		name = mlt.17.g
		add_political_power = 100
		
	}
}

country_event = { #fate of knights
	id = mlt.18
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.1" }
	title = mlt.18.t
	desc = mlt.18.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = { #maintain getto monarchy
		name = mlt.18.a
		add_ideas = MLT_knight_monarchy
		add_stability = 0.1
		
	}
	option = {
		name = mlt.18.b
		add_political_power = 75
		
	}
}

country_event = { #commie reformation
	id = mlt.19
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.1" }
	title = mlt.19.t
	desc = mlt.19.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = { #maintain getto monarchy
		name = mlt.19.a
		set_country_flag = MTL_commie_reform
		increase_ruling_party_popularity_by_10 = yes
		
	}
	
}

country_event = { #yeet knights
	id = mlt.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.1" }
	title = mlt.20.t
	desc = mlt.20.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = { #btfo
		name = mlt.20.a
		increase_ruling_party_popularity_by_10 = yes
		
	}
	
}


country_event = { #emergecy meeting
	id = mlt.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.1" }
	title = mlt.21.t
	desc = mlt.21.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = { #btfo
		name = mlt.21.a
		increase_ruling_party_popularity_by_10 = yes
		
	}
	
}

country_event = { #pick-a-populism
	id = mlt.22
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.1" }
	title = mlt.22.t
	desc = mlt.22.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = { #btfo
		name = mlt.22.a
		set_country_leader_ideology = integralism_subtype
		set_country_flag = MLT_integ
		
	}
	option = { #btfo
		name = mlt.22.b
		set_country_leader_ideology = legionarism_subtype
		set_country_flag = MLT_leg
	}
	option = { #btfo
		name = mlt.22.c
		set_country_leader_ideology = maurrassism_subtype
		set_country_flag = MLT_muarry
		
	}
	option = { #btfo
		name = mlt.22.e
		set_country_leader_ideology = right_syndicalism_subtype
		set_country_flag = MLT_right_syn
	}
	
}

country_event = { #march on valletta
	id = mlt.23
	immediate = { log = "[GetDateText]: [Root.GetName]: event mlt.1" }
	title = mlt.23.t
	desc = mlt.23.d
	
	picture = GFX_report_event_MLT_Whisper

	is_triggered_only = yes

	fire_only_once = yes

	option = { #maintain Mizzi
		name = mlt.23.a
		if = {
			limit = {
				has_government = social_conservative
			}
			set_country_leader_ideology = moderate_authoritarianism_subtype
		}
		add_country_leader_trait = dictator
		add_political_power = 25
		
	}
	option = { #bishop
		name = mlt.23.b
		increase_ruling_party_popularity_by_10 = yes
		create_country_leader = {
				name = "Maurus Caruana"
				picture = "gfx/leaders/MLT/Portrait_MLT_Maurus_Caruana.png"
				expire = "1965.1.1"
				ideology = moderate_authoritarianism_subtype
				traits = { dictator }
			}
		if = {
			limit = {
				has_country_flag = MLT_integ
			}
			create_country_leader = {
				name = "Maurus Caruana"
				picture = "gfx/leaders/MLT/Portrait_MLT_Maurus_Caruana.png"
				expire = "1965.1.1"
				ideology = integralism_subtype
				traits = { dictator }
			}
		}	
		if = {
			limit = {
				has_country_flag = MLT_muarry
			}
			create_country_leader = {
				name = "Maurus Caruana"
				picture = "gfx/leaders/MLT/Portrait_MLT_Maurus_Caruana.png"
				expire = "1965.1.1"
				ideology = maurrassism_subtype
				traits = { dictator }
			}
		}	
		if = {
			limit = {
				has_country_flag = MLT_leg
			}
			create_country_leader = {
				name = "Maurus Caruana"
				picture = "gfx/leaders/MLT/Portrait_MLT_Maurus_Caruana.png"
				expire = "1965.1.1"
				ideology = legionarism_subtype
				traits = { dictator }
			}
		}	
		if = {
			limit = {
				has_country_flag = MLT_right_syn
			}
			create_country_leader = {
				name = "Maurus Caruana"
				picture = "gfx/leaders/MLT/Portrait_MLT_Maurus_Caruana.png"
				expire = "1965.1.1"
				ideology = right_syndicalism_subtype
				traits = { dictator }
			}
		}
	}
	option = { #bcouncil
		name = mlt.23.c
		increase_ruling_party_popularity_by_10 = yes
		create_country_leader = {
				name = "General Council of the Nationalist Party"
				picture = "gfx/leaders/MLT/Portrait_MLT_Nationalist_Party_Council.png"
				expire = "1965.1.1"
				ideology = moderate_authoritarianism_subtype
				traits = { dictator }
			}
		if = {
			limit = {
				has_country_flag = MLT_integ
			}
			create_country_leader = {
				name = "General Council of the Nationalist Party"
				picture = "gfx/leaders/MLT/Portrait_MLT_Nationalist_Party_Council.png"
				expire = "1965.1.1"
				ideology = integralism_subtype
				traits = { dictator }
			}
		}	
		if = {
			limit = {
				has_country_flag = MLT_muarry
			}
			create_country_leader = {
				name = "General Council of the Nationalist Party"
				picture = "gfx/leaders/MLT/Portrait_MLT_Nationalist_Party_Council.png"
				expire = "1965.1.1"
				ideology = maurrassism_subtype
				traits = { dictator }
			}
		}	
		if = {
			limit = {
				has_country_flag = MLT_leg
			}
			create_country_leader = {
				name = "General Council of the Nationalist Party"
				picture = "gfx/leaders/MLT/Portrait_MLT_Nationalist_Party_Council.png"
				expire = "1965.1.1"
				ideology = legionarism_subtype
				traits = { dictator }
			}
		}	
		if = {
			limit = {
				has_country_flag = MLT_right_syn
			}
			create_country_leader = {
				nname = "General Council of the Nationalist Party"
				picture = "gfx/leaders/MLT/Portrait_MLT_Nationalist_Party_Council.png"
				expire = "1965.1.1"
				ideology = right_syndicalism_subtype
				traits = { dictator }
			}
		}
		
	}
	
}