###########################
# Papal State Events
###########################

add_namespace = papalstate
add_namespace = italy

# Black Monday Hits the Papal State!
country_event = {
	id = papalstate.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.1" }
	title = papalstate.1.t
	desc = papalstate.1.d
	picture = GFX_report_event_generic_run_on_the_banks

	is_triggered_only = yes

	option = {
		name = papalstate.1.a
		add_stability = -0.10
		set_country_flag = PAP_black_monday
		add_ideas = PAP_black_monday_1
	}
}

# Father Coughlin's radio broadcast
country_event = {
	id = papalstate.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.2" }
	title = papalstate.2.t
	desc = papalstate.2.d
	picture = GFX_report_event_USA_father_coughlin

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = papalstate.2.a #Ask the President of the United States to shut down this 'Radio Priest'
		ai_chance = {
			factor = 75
		}
		add_stability = -0.04
		reverse_add_opinion_modifier = {
			target = USA
			modifier = PAP_denounced_coughlin
		}
		USA = {
			country_event = ustates.18
		}
	}
	option = {
		name = papalstate.2.b #It would be best if we did not interfere
		ai_chance = {
			factor = 25
		}
		add_stability = 0.02
		reverse_add_opinion_modifier = {
			target = USA
			modifier = PAP_did_not_denounce_coughlin
		}
	}
}

# Quadragesimo Quinto Anno
country_event = {
	id = papalstate.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.3" }
	title = papalstate.3.t
	desc = papalstate.3.d
	picture = GFX_report_event_PAP_vatican
	is_triggered_only = yes

	option = {
		name = papalstate.3.a
		add_stability = 0.04
	}
}

# Donations from the Faithful
country_event = {
	id = papalstate.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.4" }
	title = papalstate.4.t
	desc = papalstate.4.d
	picture = GFX_report_event_PAP_vatican

	fire_only_once = yes

	trigger = {
		tag = PAP
		has_war_with = SRI
	}

	mean_time_to_happen = {
		months = 1
	}

	option = {
		name = papalstate.4.a
		add_stability = 0.05
		add_equipment_to_stockpile = {
			type = infantry_equipment_1
			amount = 1000
			producer = PAP
		}
	}
}

# The Pontine Marshes begin to be cleared (This takes a year)
country_event = {
	id = papalstate.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.5" }
	title = papalstate.5.t
	desc = papalstate.5.d
	picture = GFX_report_event_PAP_marshes

	is_triggered_only = yes

	option = {
		name = papalstate.5.a
		add_political_power = 20
		set_global_flag = PAP_pontine_marshes
	}
}

# The clearing of the Pontine Marshes is finished
country_event = {
	id = papalstate.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.6" }
	title = papalstate.6.t
	desc = papalstate.6.d
	picture = GFX_report_event_PAP_marshes

	fire_only_once = yes

	trigger = {
		OR = {
			tag = PAP
			tag = SIC
			tag = ITA
			tag = SRD
		}
		2 = { is_owned_and_controlled_by = ROOT }
		has_global_flag = { flag = PAP_pontine_marshes days > 365 }
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = papalstate.6.a
		add_manpower = 30000
		if = {
			limit = { tag = PAP }
			add_stability = 0.10
		}
		else = {
			add_stability = 0.05
		}
		2 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
	}
}

# Death of Pius XI (triggered from history)
country_event = {
	id = papalstate.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.7" }
	title = worldnews.67.t
	desc = worldnews.67.d
	picture = GFX_report_event_ITA_pope_death

	is_triggered_only = yes

	option = {
		name = worldnews.67.a
		set_country_flag = PAP_Dead_Pius_XI
		remove_ideas = PAP_fading_pope_idea
		create_country_leader = {
			name = "College of Cardinals"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_College_of_Cardinals.png"
			desc = "POLITICS_COLLEGE_CARDINALS_DESC"
			expire = "1965.1.1"
			ideology = theocracy_subtype
		}
		hidden_effect = {
			country_event = { id = papalstate.39 days = 4 }
			random_other_country = {
				news_event = { id = worldnews.67 hours = 5 }
			}
		}
	}
}

# The Successor to St. Peter (triggered by focus)
country_event = {
	id = papalstate.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.8" }
	title = papalstate.8.t
	desc = papalstate.8.d
	picture = GFX_report_event_PAP_papal_conclave

	is_triggered_only = yes

	option = {
		name = papalstate.8.a #Elect the pious and popular Eugenio Cardinal Pacelli as Pius XII
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_AUTHDEM
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_SOCCON
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_SOCLIB
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_SOCDEM
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_NATPOP
					}
				}
			}
		}
		create_country_leader = {
			name = "Pius XII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
			desc = "POLITICS_PIUS_XII_DESC"
			expire = "1965.1.1"
			ideology = theocracy_subtype
			traits = { ITA_the_mfing_pope } 
		}
		hidden_effect = {
			create_country_leader = {
				name = "Pius XII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
				desc = "POLITICS_PIUS_XII_DESC"
				expire = "1965.1.1"
				ideology = oligarchy_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Pius XII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
				desc = "POLITICS_PIUS_XII_DESC"
				expire = "1965.1.1"
				ideology = fundementalism_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Pius XII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
				desc = "POLITICS_PIUS_XII_DESC"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Pius XII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
				desc = "POLITICS_PIUS_XII_DESC"
				expire = "1965.1.1"
				ideology = market_liberal_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Pius XII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
				desc = "POLITICS_PIUS_XII_DESC"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Pius XII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
				desc = "POLITICS_PIUS_XII_DESC"
				expire = "1965.1.1"
				ideology = social_democrat_subtype
				traits = { ITA_the_mfing_pope } 
			}
			set_global_flag = Pope_Pius_XII
			random_other_country = {
				news_event = { id = worldnews.223 days = 1 }
			}
		}
		set_politics = {
			ruling_party = paternal_autocrat
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.2
		}
		set_country_flag = PAP_conclave
		hidden_effect = {
			set_global_flag = PAP_pius_xii
		}
	}
	option = {
		name = papalstate.8.b #Elect the charitable Elia Cardinal dalla Costa as John XXIII
		ai_chance = {
			factor = 18
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_PATAUT
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_AUTHDEM
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_SOCLIB
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_SOCDEM
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_NATPOP
					}
				}
			}
		}
		add_stability = -0.10
		create_country_leader = {
			name = "John XXIII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
			desc = "POLITICS_JOHN_XXIII_DESC"
			expire = "1965.1.1"
			ideology = oligarchy_subtype
			traits = { ITA_the_mfing_pope } 
		}
		hidden_effect = {
			create_country_leader = {
				name = "John XXIII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
				desc = "POLITICS_JOHN_XXIII_DESC"
				expire = "1965.1.1"
				ideology = fundementalism_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "John XXIII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
				desc = "POLITICS_JOHN_XXIII_DESC"
				expire = "1965.1.1"
				ideology = theocracy_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "John XXIII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
				desc = "POLITICS_JOHN_XXIII_DESC"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "John XXIII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
				desc = "POLITICS_JOHN_XXIII_DESC"
				expire = "1965.1.1"
				ideology = market_liberal_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "John XXIII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
				desc = "POLITICS_JOHN_XXIII_DESC"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "John XXIII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
				desc = "POLITICS_JOHN_XXIII_DESC"
				expire = "1965.1.1"
				ideology = social_democrat_subtype
				traits = { ITA_the_mfing_pope } 
			}
			set_global_flag = Pope_John_XXIII
			random_other_country = {
				news_event = { id = worldnews.224 days = 1 }
			}
		}
		set_politics = {
			ruling_party = authoritarian_democrat
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.2
		}
		set_country_flag = PAP_conclave
		hidden_effect = {
			set_global_flag = PAP_john_xxiii
		}
	}
	option = {
		name = papalstate.8.c #Elect the socialist cardinal, Achille Liènart, as Leo XIV
		ai_chance = {
			factor = 2
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_PATAUT
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_AUTHDEM
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_SOCCON
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_SOCLIB
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_NATPOP
					}
				}
			}
		}
		create_country_leader = {
			name = "Leo XIV"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Leo.png"
			desc = "POLITICS_LEO_XIV_DESC"
			expire = "1965.1.1"
			ideology = oligarchy_subtype
			traits = { ITA_the_mfing_pope } 
		}
		hidden_effect = {
			create_country_leader = {
				name = "Leo XIV"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Leo.png"
				desc = "POLITICS_LEO_XIV_DESC"
				expire = "1965.1.1"
				ideology = fundementalism_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Leo XIV"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Leo.png"
				desc = "POLITICS_LEO_XIV_DESC"
				expire = "1965.1.1"
				ideology = theocracy_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Leo XIV"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Leo.png"
				desc = "POLITICS_LEO_XIV_DESC"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Leo XIV"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Leo.png"
				desc = "POLITICS_LEO_XIV_DESC"
				expire = "1965.1.1"
				ideology = market_liberal_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Leo XIV"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Leo.png"
				desc = "POLITICS_LEO_XIV_DESC"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Leo XIV"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Leo.png"
				desc = "POLITICS_LEO_XIV_DESC"
				expire = "1965.1.1"
				ideology = social_democrat_subtype
				traits = { ITA_the_mfing_pope } 
			}
			random_other_country = {
				news_event = { id = worldnews.225 days = 1 }
			}
			set_global_flag = Pope_Leo_XIV
		}
		set_politics = {
			ruling_party = authoritarian_democrat
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
		every_country = {
			limit = {
				exists = yes
				OR = {
					tag = AUS
					tag = HUN
				}
			}
			add_opinion_modifier = { target = PAP modifier = KR_hates_govt }
		}
		if = {
			limit = { country_exists = GER }
			GER = {
				add_opinion_modifier = { target = PAP modifier = KR_disapproves_of_govt }
			}
		}
		set_country_flag = PAP_conclave
		hidden_effect = {
			set_global_flag = PAP_leo_xiv
		}
	}
	option = {
		name = papalstate.8.e #Elect the progressive cardinal, George Mundelein, as Benedict XVI
		ai_chance = {
			factor = 2
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_PATAUT
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_AUTHDEM
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_SOCCON
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_SOCDEM
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_NATPOP
					}
				}
			}
		}
		create_country_leader = {
			name = "Benedict XVI"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Benedict.png"
			desc = "POLITICS_BENEDICT_XVI_DESC"
			expire = "1965.1.1"
			ideology = oligarchy_subtype
			traits = { ITA_the_mfing_pope } 
		}
		hidden_effect = {
			create_country_leader = {
				name = "Benedict XVI"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Benedict.png"
				desc = "POLITICS_BENEDICT_XVI_DESC"
				expire = "1965.1.1"
				ideology = fundementalism_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Benedict XVI"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Benedict.png"
				desc = "POLITICS_BENEDICT_XVI_DESC"
				expire = "1965.1.1"
				ideology = theocracy_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Benedict XVI"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Benedict.png"
				desc = "POLITICS_BENEDICT_XVI_DESC"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Benedict XVI"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Benedict.png"
				desc = "POLITICS_BENEDICT_XVI_DESC"
				expire = "1965.1.1"
				ideology = market_liberal_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Benedict XVI"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Benedict.png"
				desc = "POLITICS_BENEDICT_XVI_DESC"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Benedict XVI"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Benedict.png"
				desc = "POLITICS_BENEDICT_XVI_DESC"
				expire = "1965.1.1"
				ideology = social_democrat_subtype
				traits = { ITA_the_mfing_pope } 
			}
			random_other_country = {
				news_event = { id = worldnews.2251 days = 1 }
			}
			set_global_flag = Pope_Benedict_XVI
		}
		set_politics = {
			ruling_party = authoritarian_democrat
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
		if = {
			limit = { country_exists = USA }
			USA = {
				add_opinion_modifier = { target = PAP modifier = KR_approves_of_govt }
			}
		}
		set_country_flag = PAP_conclave
		hidden_effect = {
			set_global_flag = PAP_benedict_xvi
		}
	}
	option = {
		name = papalstate.8.f #Elect the populist cardinal Theodor Innitzer as Adrian VII
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_NATPOP
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_PATAUT
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_SOCCON
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_SOCLIB
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_SOCDEM
					}
				}
			}
		}
		create_country_leader = {
			name = "Adrian VII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Adrian.png"
			desc = "POLITICS_ADRIAN_VII_DESC"
			expire = "1965.1.1"
			ideology = oligarchy_subtype
			traits = { ITA_the_mfing_pope } 
		}
		hidden_effect = {
			create_country_leader = {
				name = "Adrian VII"
			    picture = "gfx/leaders/PAP/Portrait_Papal_State_Adrian.png"
			    desc = "POLITICS_ADRIAN_VII_DESC"
				expire = "1965.1.1"
				ideology = theocracy_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Adrian VII"
			    picture = "gfx/leaders/PAP/Portrait_Papal_State_Adrian.png"
			    desc = "POLITICS_ADRIAN_VII_DESC"
				expire = "1965.1.1"
				ideology = fundementalism_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Adrian VII"
			    picture = "gfx/leaders/PAP/Portrait_Papal_State_Adrian.png"
			    desc = "POLITICS_ADRIAN_VII_DESC"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Adrian VII"
			    picture = "gfx/leaders/PAP/Portrait_Papal_State_Adrian.png"
			    desc = "POLITICS_ADRIAN_VII_DESC"
				expire = "1965.1.1"
				ideology = market_liberal_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Adrian VII"
			    picture = "gfx/leaders/PAP/Portrait_Papal_State_Adrian.png"
			    desc = "POLITICS_ADRIAN_VII_DESC"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Adrian VII"
			    picture = "gfx/leaders/PAP/Portrait_Papal_State_Adrian.png"
			    desc = "POLITICS_ADRIAN_VII_DESC"
				expire = "1965.1.1"
				ideology = social_democrat_subtype
				traits = { ITA_the_mfing_pope } 
			}
			set_global_flag = Pope_Adrian_VII
			random_other_country = {
				news_event = { id = worldnews.2261 days = 1 }
			}
		}
		set_politics = {
			ruling_party = authoritarian_democrat
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.2
		}
		if = {
			limit = { country_exists = ITA }
			ITA = {
				add_opinion_modifier = { target = PAP modifier = KR_disapproves_of_govt }
			}
		}
		every_country = {
			limit = {
				exists = yes
				OR = {
					tag = CRO
					tag = HUN
					tag = SIC
					tag = AUS
				}
			}
			add_opinion_modifier = { target = PAP modifier = KR_approves_of_govt }
		}
		set_country_flag = PAP_conclave
		hidden_effect = {
			set_global_flag = PAP_adrian_vii
		}
	}
	option = {
		name = papalstate.8.g #Elect the hardline cardinal Alfredo Schuster as Julius IV
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_PATAUT
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_AUTHDEM
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_SOCCON
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_SOCLIB
					}
					has_game_rule = {
						rule = PAP_newconclave
						option = PAP_NEWCONCLAVE_SOCDEM
					}
				}
			}
		}
		create_country_leader = {
			name = "Julius IV"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
			desc = "POLITICS_JULIUS_IV_DESC"
			expire = "1965.1.1"
			ideology = fundementalism_subtype
			traits = { ITA_the_mfing_pope } 
		}
		hidden_effect = {
			create_country_leader = {
				name = "Julius IV"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
				desc = "POLITICS_JULIUS_IV_DESC"
				expire = "1965.1.1"
				ideology = theocracy_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Julius IV"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
				desc = "POLITICS_JULIUS_IV_DESC"
				expire = "1965.1.1"
				ideology = oligarchy_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Julius IV"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
				desc = "POLITICS_JULIUS_IV_DESC"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Julius IV"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
				desc = "POLITICS_JULIUS_IV_DESC"
				expire = "1965.1.1"
				ideology = market_liberal_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Julius IV"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
				desc = "POLITICS_JULIUS_IV_DESC"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
				traits = { ITA_the_mfing_pope } 
			}
			create_country_leader = {
				name = "Julius IV"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
				desc = "POLITICS_JULIUS_IV_DESC"
				expire = "1965.1.1"
				ideology = social_democrat_subtype
				traits = { ITA_the_mfing_pope } 
			}
			set_global_flag = Pope_Julius_IV
			random_other_country = {
				news_event = { id = worldnews.226 days = 1 }
			}
		}
		set_politics = {
			ruling_party = national_populist
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.2
		}
		if = {
			limit = { country_exists = GER }
			GER = {
				add_opinion_modifier = { target = PAP modifier = KR_disapproves_of_govt }
			}
		}
		every_country = {
			limit = {
				exists = yes
				OR = {
					tag = CRO
					tag = HUN
					tag = SIC
				}
			}
			add_opinion_modifier = { target = PAP modifier = KR_approves_of_govt }
		}
		set_country_flag = PAP_conclave
		hidden_effect = {
			set_global_flag = PAP_julius_iv
		}
	}
}

# The First Roman Elections (triggered by focus)
country_event = {
	id = papalstate.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.9" }
	title = papalstate.9.t
	desc = papalstate.9.d
	picture = GFX_report_event_PAP_vatican

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		name = papalstate.9.a
		ai_chance = {
			factor = 1
			modifier = {
			factor = 0
				has_game_rule = {
					rule = PAP_first_roman_election
					option = PAP_FIRST_ROMAN_ELECTION_SOCDEM
				}
			}
		}
		effect_tooltip = {
			set_politics = {
				ruling_party = social_conservative
				election_frequency = 60
				elections_allowed = yes
			}
		}
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = social_conservative
						last_election = "[CURRENT_DATE]"
						election_frequency = 60
						elections_allowed = yes
					}
				}
				CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
			}
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.2
		}
		remove_all_ministers = yes
		hidden_effect = {
			add_ideas = {
				PAP_Salvatore_Rebecchini_hog_sco
				PAP_Pietro_Quaroni_for_sco
				PAP_Mario_Cingolani_eco_sco
				PAP_Luigi_Meda_sec_sco
			}
		}
	}
	option = {
		name = papalstate.9.b
		ai_chance = {
			factor = 1
			modifier = {
			factor = 0
				has_game_rule = {
					rule = PAP_first_roman_election
					option = PAP_FIRST_ROMAN_ELECTION_SOCCON
				}
			}
		}
		effect_tooltip = {
			set_politics = {
				ruling_party = social_democrat
				election_frequency = 60
				elections_allowed = yes
			}
		}
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = social_democrat
						last_election = "[CURRENT_DATE]"
						election_frequency = 60
						elections_allowed = yes
					}
				}
				CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
			}
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.2
		}
		remove_all_ministers = yes
		hidden_effect = {
			add_ideas = {
				PAP_Romolo_Murri_hog_sde
				PAP_Sergio_Fenoaltea_for_sde
				PAP_Domenico_Marzi_eco_sde
				PAP_Alberto_Cianca_sec_sde
			}
		}
	}
}

# Regular Election Event
country_event = {
	id = papalstate.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.10" }
	title = papalstate.10.t
	desc = papalstate.10.d
	picture = GFX_report_event_PAP_vatican

	is_triggered_only = yes

	option = {
		name = papalstate.10.a
		ai_chance = {
			factor = 50
			modifier = {
			factor = 0
				has_game_rule = {
					rule = PAP_first_roman_election
					option = PAP_FIRST_ROMAN_ELECTION_SOCDEM
				}
			}
			modifier = {
				factor = 2
				has_government = social_conservative
			}
		}
		if = {
			limit = {
				NOT = { has_government = social_conservative }
			}
			remove_all_ministers = yes
			hidden_effect = {
				add_ideas = {
					PAP_Salvatore_Rebecchini_hog_sco
					PAP_Pietro_Quaroni_for_sco
					PAP_Mario_Cingolani_eco_sco
					PAP_Luigi_Meda_sec_sco
				}
			}
		}
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 60
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.2
		}
	}
	option = {
		name = papalstate.10.b
		ai_chance = {
			factor = 50
			modifier = {
			factor = 0
				has_game_rule = {
					rule = PAP_first_roman_election
					option = PAP_FIRST_ROMAN_ELECTION_SOCCON
				}
			}
			modifier = {
				factor = 2
				has_government = social_democrat
			}
		}
		if = {
			limit = {
				NOT = { has_government = social_democrat }
			}
			remove_all_ministers = yes
			hidden_effect = {
				add_ideas = {
					PAP_Romolo_Murri_hog_sde
					PAP_Sergio_Fenoaltea_for_sde
					PAP_Domenico_Marzi_eco_sde
					PAP_Alberto_Cianca_sec_sde
				}
			}
		}
		set_politics = {
			ruling_party = social_democrat
			election_frequency = 60
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.2
		}
	}
}

# Financial Aid from the Two Sicilies?
country_event = {
	id = papalstate.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.11" }
	title = papalstate.11.t
	desc = papalstate.11.d
	picture = GFX_report_event_PAP_vatican

	is_triggered_only = yes

	option = {
		name = papalstate.11.a #Ask the Sicilians to take our whole debt
		ai_chance = {
			factor = 40
		}
		if = {
			limit = { is_subject = no }
			custom_effect_tooltip = PAP_warning_puppet
		}
		if = {
			limit = { is_subject_of = SIC }
			custom_effect_tooltip = PAP_warning_annex
		}
		add_political_power = -25
		SIC = {
			country_event = { id = papalstate.12 days = 1 }
		}
	}

	option = {
		name = papalstate.11.b #Only ask them to take some of our debt
		ai_chance = {
			factor = 60
		}
		SIC = {
			country_event = { id = papalstate.16 days = 1 }
		}
	}
}

# Asking Sicily to take the whole debt - Sicily decides
country_event = {
	id = papalstate.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.12" }
	title = papalstate.12.t
	desc = papalstate.12.d
	picture = GFX_report_event_PAP_vatican

	is_triggered_only = yes

	option = {
		name = papalstate.12.a #Accept their request
		ai_chance = {
			factor = 70
		}
		add_political_power = -200
		add_stability = -0.05
		set_country_flag = PAP_all_debts
		if = {
			limit = { PAP = { is_subject = no } }
			PAP = { get_current_government_type = yes }
			puppet = PAP
			PAP = { restore_previous_government_type = yes }
		}
		else = {
			effect_tooltip = {
				annex_country = { target = PAP }
			}
		}
		PAP = {
			add_opinion_modifier = { target = SIC modifier = KR_approves_of_govt }
			country_event = papalstate.13
		}
	}
	option = {
		name = papalstate.12.b #Take on some of their debts
		ai_chance = {
			factor = 20
		}
		add_political_power = -100
		add_stability = -0.035
		set_country_flag = PAP_some_debts
		PAP = {
			add_opinion_modifier = { target = SIC modifier = KR_approves_of_govt }
			country_event = papalstate.14
		}
	}
	option = {
		name = papalstate.12.c #Refuse - our own nation must come first
		ai_chance = {
			factor = 10
		}
		PAP = {
			add_opinion_modifier = { target = SIC modifier = KR_hates_govt }
			country_event = papalstate.15
		}
	}
}

# Sicily accepted the whole debt
country_event = {
	id = papalstate.13
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.13" }
	title = papalstate.13.t
	desc = papalstate.13.d
	picture = GFX_report_event_SRI_palace

	is_triggered_only = yes

	option = {
		name = papalstate.13.a
		add_stability = 0.05
		remove_ideas = PAP_black_monday_1

		if = {
			limit = { is_subject_of = FROM }
			every_state = {
				limit = { is_claimed_by = PAP }
				remove_claim_by = PAP
			}
			every_state = {
				limit = { is_core_of = PAP }
				if = {
					limit = { is_claimed_by = SIC }
					remove_claim_by = SIC
				}
				if = {
					limit = { NOT = { is_core_of = SIC } }
					add_core_of = SIC
				}
			}
			FROM = {
				annex_country = { target = PAP transfer_troops = yes }
				change_tag_from = PAP
			}
		}
	}
}

# Sicily accepted some of the debt
country_event = {
	id = papalstate.14
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.14" }
	title = papalstate.14.t
	desc = papalstate.14.d
	picture = GFX_report_event_SRI_palace

	is_triggered_only = yes

	option = {
		name = papalstate.14.a
		add_stability = 0.025
		if = {
			limit = { has_idea = PAP_black_monday_1 }
			swap_ideas = {
				remove_idea = PAP_black_monday_1
				add_idea = PAP_black_monday_2
			}
		}
	}
}

# Sicily refused to take any debt
country_event = {
	id = papalstate.15
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.15" }
	title = papalstate.15.t
	desc = papalstate.15.d
	picture = GFX_report_event_SRI_palace

	is_triggered_only = yes

	option = {
		name = papalstate.15.a
		add_stability = -0.03
	}
}

# Sicily asked to take some of the debt - Sicily decides
country_event = {
	id = papalstate.16
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.16" }
	title = papalstate.16.t
	desc = papalstate.16.d
	picture = GFX_report_event_PAP_vatican

	is_triggered_only = yes

	option = {
		name = papalstate.16.a #Accept their request
		ai_chance = {
			factor = 90
		}
		add_political_power = -100
		add_stability = -0.035
		set_country_flag = PAP_some_debts
		PAP = {
			add_opinion_modifier = { target = SIC modifier = KR_approves_of_govt }
			country_event = papalstate.17
		}
	}

	option = {
		name = papalstate.16.b #Refuse
		ai_chance = {
			factor = 10
		}
		PAP = {
			add_opinion_modifier = { target = SIC modifier = KR_hates_govt }
			country_event = papalstate.15
		}
	}
}

# Sicily accepted some of the debt
country_event = {
	id = papalstate.17
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.17" }
	title = papalstate.17.t
	desc = papalstate.17.d
	picture = GFX_report_event_SRI_palace

	is_triggered_only = yes

	option = {
		name = papalstate.17.a
		add_stability = 0.025
		if = {
			limit = { has_idea = PAP_black_monday_1 }
			swap_ideas = {
				remove_idea = PAP_black_monday_1
				add_idea = PAP_black_monday_2
			}
		}
	}
}

# Asking SIC for military aid (from focus)
country_event = {
	id = papalstate.18
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.18" }
	title = papalstate.18.t
	desc = papalstate.18.d
	picture = GFX_report_event_PAP_vatican

	is_triggered_only = yes

	trigger = {
		PAP = {
			exists = yes
			OR = {
				is_subject_of = SIC
				is_in_faction_with = SIC
				is_guaranteed_by = SIC
			}
		}
	}

	option = {
		name = papalstate.18.a #Assist them as much as possible
		ai_chance = {
			factor = 60
		}
		set_country_flag = PAP_all_military_aid
		add_political_power = -100
		add_stability = -0.050
		PAP = {
			add_opinion_modifier = { target = SIC modifier = KR_approves_of_govt }
			country_event = papalstate.19
		}
	}
	option = {
		name = papalstate.18.b #We can spare them some help
		ai_chance = {
			factor = 30
		}
		set_country_flag = PAP_some_military_aid
		add_political_power = -50
		add_stability = -0.025
		PAP = {
			country_event = papalstate.20
		}
	}
	option = {
		name = papalstate.18.c #No need - we can protect them ourselves
		ai_chance = {
			factor = 10
		}
		PAP = {
			add_opinion_modifier = { target = SIC modifier = KR_disapproves_of_govt }
			country_event = papalstate.21
		}
	}
}

# SIC grants aid
country_event = {
	id = papalstate.19
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.19" }
	title = papalstate.19.t
	desc = papalstate.19.d
	picture = GFX_report_event_SRI_palace

	is_triggered_only = yes

	option = {
		name = papalstate.19.a
		army_experience = 25
		navy_experience = 25
		air_experience = 25
		add_tech_bonus = {
			name = papalstate.19.t
			bonus = 0.50
			uses = 1
			category = infantry_weapons
			category = artillery
		}
		add_doctrine_cost_reduction = {
			name = land_doc_bonus
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
	}
}

# SIC grants some aid
country_event = {
	id = papalstate.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.20" }
	title = papalstate.20.t
	desc = papalstate.20.d
	picture = GFX_report_event_SRI_palace

	is_triggered_only = yes

	option = {
		name = papalstate.20.a
		army_experience = 10
		navy_experience = 10
		air_experience = 10
		add_doctrine_cost_reduction = {
			name = land_doc_bonus
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
	}
}

# SIC refuses
country_event = {
	id = papalstate.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.21" }
	title = papalstate.21.t
	desc = papalstate.21.d
	picture = GFX_report_event_SRI_palace

	is_triggered_only = yes

	option = {
		name = papalstate.21.a
	}
}

# Syndicalist Guerrilla Campaign
country_event = {
	id = papalstate.22
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.22" }
	title = papalstate.22.t
	desc = papalstate.22.d
	picture = GFX_report_event_GRE_army

	trigger = {
		tag = PAP
		OR = {
			owns_state = 157
			owns_state = 161
			owns_state = 764
			owns_state = 981
		}
	}

	mean_time_to_happen = {
		days = 5
	}

	fire_only_once = yes

	option = {
		name = papalstate.22.a #These subversives must be brought to justice!
		add_stability = -0.25
		add_stability = -0.04
		set_country_flag = PAP_syndicalist_resistance
		add_ideas = PAP_resistance
	}
}

# Syndicalist Riots
country_event = {
	id = papalstate.23
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.23" }
	title = papalstate.23.t
	desc = papalstate.23.d
	picture = GFX_report_event_IRE_civil_war2

	fire_only_once = yes

	trigger = {
		tag = PAP
		has_country_flag = PAP_syndicalist_resistance
		OR = {
			157 = { is_owned_and_controlled_by = PAP }
			161 = { is_owned_and_controlled_by = PAP }
			764 = { is_owned_and_controlled_by = PAP }
			981 = { is_owned_and_controlled_by = PAP }
		}
	}

	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = papalstate.23.a
		add_stability = -0.05
		set_country_flag = PAP_had_riots
	}
}

# Syndicalist Ambushes
country_event = {
	id = papalstate.24
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.24" }
	title = papalstate.24.t
	desc = papalstate.24.d
	picture = GFX_report_event_IRE_civil_war

	fire_only_once = yes

	trigger = {
		tag = PAP
		has_country_flag = PAP_syndicalist_resistance
		has_country_flag = PAP_had_riots
		OR = {
			157 = { is_owned_and_controlled_by = PAP }
			161 = { is_owned_and_controlled_by = PAP }
			764 = { is_owned_and_controlled_by = PAP }
			981 = { is_owned_and_controlled_by = PAP }
		}
	}

	mean_time_to_happen = {
		months = 1
	}

	option = {
		name = papalstate.24.a
		add_stability = -0.015
		add_manpower = -250
		clr_country_flag = PAP_had_riots
		set_country_flag = PAP_had_ambushes
	}
}

# Syndicalist Bombing
country_event = {
	id = papalstate.25
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.25" }
	title = papalstate.25.t
	desc = papalstate.25.d
	picture = GFX_report_event_IRE_bombing

	fire_only_once = yes

	trigger = {
		tag = PAP
		has_country_flag = PAP_syndicalist_resistance
		has_country_flag = PAP_had_ambushes
		OR = {
			157 = { is_owned_and_controlled_by = PAP }
			161 = { is_owned_and_controlled_by = PAP }
			764 = { is_owned_and_controlled_by = PAP }
			981 = { is_owned_and_controlled_by = PAP }
		}
	}

	mean_time_to_happen = {
		months = 1
	}

	option = {
		name = papalstate.25.a
		clr_country_flag = PAP_had_ambushes
		set_country_flag = PAP_had_bombing
		add_stability = -0.05
		add_manpower = -500
		random_owned_controlled_state = {
			limit = {
				OR = {
					state = 157
					state = 161
					state = 764
					state = 981
					state = 2
				}
				industrial_complex > 0
			}
			damage_building = {
				type = infrastructure
				damage = 0.9
			}
		}
	}
}

# Syndicalist Sabotage
country_event = {
	id = papalstate.26
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.26" }
	title = papalstate.26.t
	desc = papalstate.26.d
	picture = GFX_report_event_IRE_fire

	fire_only_once = yes

	trigger = {
		tag = PAP
		has_country_flag = PAP_syndicalist_resistance
		has_country_flag = PAP_had_bombing
		OR = {
			157 = { is_owned_and_controlled_by = PAP }
			161 = { is_owned_and_controlled_by = PAP }
			764 = { is_owned_and_controlled_by = PAP }
			981 = { is_owned_and_controlled_by = PAP }
		}
	}

	mean_time_to_happen = {
		months = 1
	}

	option = {
		name = papalstate.26.a
		clr_country_flag = PAP_had_bombing
		set_country_flag = PAP_had_sabotage
		add_stability = -0.02
		random_owned_controlled_state = {
			limit = {
				OR = {
					state = 157
					state = 161
					state = 764
					state = 981
					state = 2
				}
				industrial_complex > 0
			}
			damage_building = {
				type = industrial_complex
				damage = 0.8
			}
		}
		add_manpower = -500
	}
}

# End of the syndicalist resistance
country_event = {
	id = papalstate.27
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.27" }
	title = papalstate.27.t
	desc = papalstate.27.d
	picture = GFX_report_event_SRI_arrests

	trigger = {
		tag = PAP
		has_country_flag = PAP_syndicalist_resistance
		has_country_flag = PAP_had_sabotage
		OR = {
			157 = { is_owned_and_controlled_by = PAP }
			161 = { is_owned_and_controlled_by = PAP }
			764 = { is_owned_and_controlled_by = PAP }
			981 = { is_owned_and_controlled_by = PAP }
		}
	}

	mean_time_to_happen = {
		months = 3
	}

	option = {
		name = papalstate.27.a
		add_stability = 0.10
		remove_ideas = PAP_resistance
		clr_country_flag = PAP_syndicalist_resistance
		clr_country_flag = PAP_had_sabotage
	}
}

# Effects of Black Monday end!
country_event = {
	id = papalstate.38
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.38" }
	title = papalstate.38.t
	desc = papalstate.38.d

	trigger = {
		tag = PAP
		has_country_flag = PAP_black_monday
		NOT = {
			has_idea = PAP_black_monday_1
			has_idea = PAP_black_monday_2
			has_idea = PAP_black_monday_3
		}
	}

	fire_only_once = yes

	option = {
		name = papalstate.38.a
		add_stability = 0.05
		clr_country_flag = PAP_black_monday
	}
}

# The Papal Conclave
country_event = {
	id = papalstate.39
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.39" }
	title = papalstate.39.t
	desc = papalstate.39.d
	picture = GFX_report_event_PAP_papal_conclave

	is_triggered_only = yes

	option = {
		name = papalstate.39.a #Godspeed
	}
}

# Intro Event
country_event = {
	id = papalstate.40
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.40" }
	title = papalstate.40.t
	desc = papalstate.40.d
	picture = GFX_report_event_PAP_vatican

	is_triggered_only = yes

	option = {
		name = papalstate.40.a #Neato
	}
}

# The Siculo-Papal Joint Planning Staff
country_event = {
	id = papalstate.41
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.41" }
	title = papalstate.41.t
	desc = papalstate.41.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	trigger = {
		OR = {
			is_subject_of = SIC
			is_in_faction_with = SIC
		}
	}

	option = {
		name = papalstate.41.a #Neato
		add_ideas = PAP_jointstaff
	}
}

# PAP declares independence from SIC
country_event = {
	id = papalstate.50
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.50" }
	title = papalstate.50.t
	picture = GFX_report_event_PAP_vatican

	desc = {
		text = papalstate.50.SRIhelped
		trigger = {
			country_exists = SRI
			OR = {
				has_country_flag = PAP_all_debts
				has_country_flag = PAP_some_debts
				has_country_flag = PAP_all_military_aid
				has_country_flag = PAP_some_military_aid
			}
		}
	}
	desc = {
		text = papalstate.50.SRInothelped
		trigger = {
			country_exists = SRI
			NOT = {
				has_country_flag = PAP_all_debts
				has_country_flag = PAP_some_debts
				has_country_flag = PAP_all_military_aid
				has_country_flag = PAP_some_military_aid
			}
		}
	}
	desc = {
		text = papalstate.50.noSRIhelped
		trigger = {
			NOT = { country_exists = SRI }
			OR = {
				has_country_flag = PAP_all_debts
				has_country_flag = PAP_some_debts
				has_country_flag = PAP_all_military_aid
				has_country_flag = PAP_some_military_aid
			}
		}
	}
	desc = {
		text = papalstate.50.noSRInothelped
		trigger = {
			NOT = { country_exists = SRI }
			NOT = {
				has_country_flag = PAP_all_debts
				has_country_flag = PAP_some_debts
				has_country_flag = PAP_all_military_aid
				has_country_flag = PAP_some_military_aid
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = papalstate.50.a # They must repay the aid we've given
		trigger = {
			OR = {
				has_country_flag = PAP_all_debts
				has_country_flag = PAP_some_debts
				has_country_flag = PAP_all_military_aid
				has_country_flag = PAP_some_military_aid
			}
		}
		ai_chance = {
			factor = 30
		}
		PAP = { country_event = papalstate.51 }
	}
	option = {
		name = papalstate.50.b # No, it can't be permitted
		trigger = { has_government = national_populist }
		ai_chance = {
			factor = 20
			modifier = {
				factor = 5
				has_country_flag = SIC_confed
			}
			modifier = {
				factor = 0.5
				has_war = yes
			}
			modifier = {
				factor = 0
				surrender_progress > 0.05
			}
		}
		PAP = { country_event = papalstate.54 }
	}
	option = {
		name = papalstate.50.c # We still offer protection
		trigger = { country_exists = SRI }
		ai_chance = {
			factor = 50
		}
		PAP = { country_event = papalstate.55 }
	}
	option = {
		name = papalstate.50.e # We wish them well
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0.5
				has_government = national_populist
			}
			modifier = {
				factor = 0.5
				has_government = social_conservative
			}
		}
		PAP = { country_event = papalstate.58 }
	}
}

# SIC demands repayment of debt
country_event = {
	id = papalstate.51
	title = papalstate.51.t
	picture = GFX_report_event_SRI_palace

	desc = {
		text = papalstate.51.d.all
		trigger = {
			OR = {
				SIC = { has_country_flag = PAP_all_debts }
				SIC = { has_country_flag = PAP_some_debts }
			}
			OR = {
				SIC = { has_country_flag = PAP_all_military_aid }
				SIC = { has_country_flag = PAP_some_military_aid }
			}
		}
	}
	desc = {
		text = papalstate.51.d.debts
		trigger = {
			OR = {
				SIC = { has_country_flag = PAP_all_debts }
				SIC = { has_country_flag = PAP_some_debts }
			}
			NOT = {
				SIC = { has_country_flag = PAP_all_military_aid }
				SIC = { has_country_flag = PAP_some_military_aid }
			}
		}
	}
	desc = {
		text = papalstate.51.d.military
		trigger = {
			NOT = {
				SIC = { has_country_flag = PAP_all_debts }
				SIC = { has_country_flag = PAP_some_debts }
			}
			OR = {
				SIC = { has_country_flag = PAP_all_military_aid }
				SIC = { has_country_flag = PAP_some_military_aid }
			}
		}
	}

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event papalstate.51"
		hidden_effect = {
			set_variable = { repaypp = 0 }
			set_variable = { repaystab = 0 }
			if = {
				limit = { SIC = { has_country_flag = PAP_all_debts } }
				add_to_variable = { repaypp = -200 }
				add_to_variable = { repaystab = -0.1 }
			}
			if = {
				limit = { SIC = { has_country_flag = PAP_some_debts } }
				add_to_variable = { repaypp = -100 }
				add_to_variable = { repaystab = -0.05 }
			}
			if = {
				limit = { SIC = { has_country_flag = PAP_all_military_aid } }
				add_to_variable = { repaypp = -100 }
				add_to_variable = { repaystab = -0.05 }
			}
			if = {
				limit = { SIC = { has_country_flag = PAP_some_military_aid } }
				add_to_variable = { repaypp = -50 }
				add_to_variable = { repaystab = -0.03 }
			}
		}
	}

	option = {
		name = papalstate.51.a #We will repay what we can
		add_political_power = var:repaypp
		add_stability = var:repaystab
		SIC = {
			add_opinion_modifier = { target = PAP modifier = KR_disapproves_of_govt }
			country_event = { id = papalstate.52 days = 1 }
		}
	}
	option = {
		name = papalstate.51.b #We thank them for their contribution
		SIC = {
			add_opinion_modifier = { target = PAP modifier = KR_outraged }
			country_event = { id = papalstate.53 days = 1 }
		}
	}
}

# Papacy repays debt
country_event = {
	id = papalstate.52
	title = papalstate.52.t
	desc = papalstate.52.d
	picture = GFX_report_event_PAP_vatican

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event papalstate.52"
		hidden_effect = {
			PAP = {
				multiply_variable = { var = repaypp value = -1 }
			}
		}
	}

	option = {
		name = papalstate.52.a
		add_political_power = var:PAP.repaypp
		PAP = {
			clear_variable = repaypp
			clear_variable = repaystab
		}
	}
}

# Papacy refuses to pay debt
country_event = {
	id = papalstate.53
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.53" }
	title = papalstate.53.t
	desc = papalstate.53.d
	picture = GFX_report_event_PAP_vatican

	is_triggered_only = yes

	option = {
		name = papalstate.53.a #So be it
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_government = national_populist
			}
		}
		add_political_power = -50
	}
	option = {
		name = papalstate.53.b #Then their land is forfeit
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.5
				has_government = social_conservative
			}
		}
		every_state = {
			limit = {
				is_core_of = PAP
				is_not_claim_or_core_of_ROOT = yes
			}
			add_claim_by = SIC
		}
	}
}

# Sicily refuses to let Papacy go
country_event = {
	id = papalstate.54
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.54" }
	title = papalstate.54.t
	desc = papalstate.54.d
	picture = GFX_report_event_SRI_palace

	is_triggered_only = yes

	option = {
		name = papalstate.54.a #Fine, have it your way
		ai_chance = {
			factor = 25
		}
		add_political_power = -200
		get_current_government_type = yes
		SIC = { puppet = PAP }
		restore_previous_government_type = yes
	}
	option = {
		name = papalstate.54.b #War it is!
		ai_chance = {
			factor = 75
		}
		add_war_support = 0.20
		SIC = {
			declare_war_on = {
				target = PAP
				type = annex_everything
			}
		}
	}
}

# Sicily offers protection
country_event = {
	id = papalstate.55
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.55" }
	title = papalstate.55.t
	desc = papalstate.55.d
	picture = GFX_report_event_SRI_palace

	is_triggered_only = yes

	option = {
		name = papalstate.55.a #Very well
		diplomatic_relation = {
			country = SIC
			relation = non_aggression_pact
			active = yes
		}
		give_military_access = SIC
		SIC = {
			give_guarantee = PAP
			country_event = { id = papalstate.57 days = 1 }
		}
	}
	option = {
		name = papalstate.55.b #Not necessary
		diplomatic_relation = {
			country = SIC
			relation = non_aggression_pact
			active = yes
		}
		SIC = {
			country_event = { id = papalstate.56 days = 1 }
		}
	}
}

# Papacy refuses protection
country_event = {
	id = papalstate.56
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.56" }
	title = papalstate.56.t
	desc = papalstate.56.d
	picture = GFX_report_event_PAP_vatican

	is_triggered_only = yes

	option = {
		name = papalstate.56.a
	}
}

# Papacy agrees to protection
country_event = {
	id = papalstate.57
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.57" }
	title = papalstate.57.t
	desc = papalstate.57.d
	picture = GFX_report_event_PAP_vatican

	is_triggered_only = yes

	option = {
		name = papalstate.57.a
	}
}

# Sicily wishes the Papacy well
country_event = {
	id = papalstate.58
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.58" }
	title = papalstate.58.t
	desc = papalstate.58.d
	picture = GFX_report_event_SRI_palace

	is_triggered_only = yes

	option = {
		name = papalstate.58.a
	}
}

# Asking permission from Two Sicilies to fund the NeoSafedisti
country_event = {
	id = papalstate.60
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.60" }
	title = papalstate.60.t
	desc = papalstate.60.d
	picture = GFX_report_event_PAP_vatican

	is_triggered_only = yes

	option = {
		name = papalstate.60.a #They have our blessing
		ai_chance = {
			factor = 60
			modifier = {
				factor = 1.5
				is_in_faction = yes
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SRI_neosanfedisti_terror
					option = SRI_NEOSANFEDISTI_TERROR_PEACE
				}
			}
		}
		add_war_support = 0.05
		PAP = {
			add_opinion_modifier = { target = ROOT modifier = KR_approves_of_govt }
			country_event = { id = papalstate.61 days = 1 }
		}
	}
	option = {
		name = papalstate.60.b #No, this is too risky
		ai_chance = {
			factor = 40
			modifier = {
				factor = 0.1
				PAP = { is_ai = no }
			}
			modifier = {
				factor = 0.25
				has_government = national_populist
			}
			modifier = {
				factor = 0
				has_war_with = SRI
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SRI_neosanfedisti_terror
						option = SRI_NEOSANFEDISTI_TERROR_WAR_ITA
					}
					has_game_rule = {
						rule = SRI_neosanfedisti_terror
						option = SRI_NEOSANFEDISTI_TERROR_WAR_NO_ITA
					}
				}
			}
		}
		add_war_support = -0.05
		PAP = {
			add_opinion_modifier = { target = ROOT modifier = KR_outraged }
			country_event = { id = papalstate.62 days = 1 }
		}
	}
}

# Two Sicilies agrees
country_event = {
	id = papalstate.61
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.61" }
	title = papalstate.61.t
	desc = papalstate.61.d
	picture = GFX_report_event_SRI_palace

	is_triggered_only = yes

	trigger = {
		is_subject_of = SIC
	}

	option = {
		name = papalstate.61.a
		set_country_flag = PAP_permission_fund_neosanfedisti
	}
}

# Two Sicilies refuses
country_event = {
	id = papalstate.62
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.62" }
	title = papalstate.62.t
	desc = papalstate.62.d
	picture = GFX_report_event_SRI_palace

	is_triggered_only = yes

	trigger = {
		is_subject_of = SIC
	}

	option = {
		name = papalstate.62.a
		set_country_flag = PAP_permission_denied_neosanfedisti
		if = {
			limit = { has_dlc = "Together for Victory" }
			set_country_flag = KR_can_raise_autonomy_level
			add_autonomy_score = {
				value = 100
				localization = PAP_permission_denied
			}
		}
	}
}

# SRI shut down the NeoSanfedisti
country_event = {
	id = papalstate.63
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.63" }
	title = papalstate.63.t
	desc = papalstate.63.d
	picture = GFX_report_event_SRI_arrests

	is_triggered_only = yes

	trigger = {
		is_ai = no
		PAP = {
			NOT = { has_country_flag = PAP_rallied_neosanfedisti }
		}
	}

	option = {
		name = papalstate.63.a
	}
}

# Pope rallies the faithful in the SRI
country_event = {
	id = papalstate.64
	immediate = { log = "[GetDateText]: [Root.GetName]: event papalstate.64" }
	title = papalstate.64.t
	desc = papalstate.64.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = papalstate.64.a
		add_stability = -0.05
	}
}

# Deleting partisan units
country_event = {
	id = papalstate.65

	hidden = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			has_template = "Partigiano NeoSanfedisti"
			has_template = "Fanteria NeoSanfedisti"
			has_template = "Partigiano Cattolico"
			has_template = "Fanteria Cattolico"
		}
	}

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event papalstate.65"
		if = {
			limit = { has_template = "Partigiano NeoSanfedisti" }
			delete_unit_template_and_units = { division_template = "Partigiano NeoSanfedisti" }
		}
		if = {
			limit = { has_template = "Fanteria NeoSanfedisti" }
			delete_unit_template_and_units = { division_template = "Fanteria NeoSanfedisti" }
		}
		if = {
			limit = { has_template = "Partigiano Cattolico" }
			delete_unit_template_and_units = { division_template = "Partigiano Cattolico" }
		}
		if = {
			limit = { has_template = "Fanteria Cattolico" }
			delete_unit_template_and_units = { division_template = "Fanteria Cattolico" }
		}
	}
}

# Death of the pope (Second time)
country_event = {
	id = italy.150
	title = italy.150.t
	desc = italy.150.d
	picture = GFX_report_event_ITA_pope_death

	fire_only_once = yes

	trigger = {
		tag = PAP
		NOT = { country_exists = SRI }
		has_country_flag = ITA_Dead_Pius_XI
	}

	mean_time_to_happen = {
		months = 3
	}

	option = {
		name = italy.150.a
		set_country_flag = ITA_new_pope_dead
		if = {
			limit = { has_country_leader = { name = "Pius XII" } }
			set_country_flag = Pius_XII_dead
			set_country_flag = Eugenio_Cardinal_Pacelli_dead
			set_politics = { ruling_party = paternal_autocrat }
		}
		if = {
			limit = { has_country_leader = { name = "John XXIII" } }
			set_country_flag = John_XXIII_dead
			set_country_flag = Elia_Cardinal_dalla_Costa_dead
			set_politics = { ruling_party = paternal_autocrat }
		}
		if = {
			limit = { has_country_leader = { name = "Benedict XVI" } }
			set_country_flag = Benedict_XVI_dead
			set_politics = { ruling_party = paternal_autocrat }
		}
		if = {
			limit = { has_country_leader = { name = "Leo XIV" } }
			set_country_flag = Leo_XIV_dead
			set_politics = { ruling_party = paternal_autocrat }
		}
		if = {
			limit = { has_country_leader = { name = "Adrian VII" } }
			set_country_flag = Adrian_VII_dead
			set_politics = { ruling_party = paternal_autocrat }
		}
		if = {
			limit = { has_country_leader = { name = "Julius IV" } }
			set_country_flag = Julius_IV_dead
			set_country_flag = Theodor_Cardinal_Innitzer_dead
			set_politics = { ruling_party = paternal_autocrat }
		}
		ITA = {	
			ITA_create_college_of_cardinals = yes
		}
		if = {
			limit = { NOT = { has_idea = ITA_The_College_of_Cardinals_hog_ade } }
			hidden_effect = { remove_ideas_with_trait = head_of_government }
			add_ideas = ITA_The_College_of_Cardinals_hog_ade
		}
		hidden_effect = {
			country_event = { id = italy.151 days = 30 }
		}
		news_event = {
			id = worldnews.4250
			days = 1
		}	
	}

	option = {#I lived H E R E T I C
		name = italy.150.b
		set_country_flag = ITA_new_pope_lived
		add_stability = -0.10
				add_political_power = -10
				news_event = {
			id = worldnews.4260
			days = 1
		}
	}
}

# The Second Papal Conclave
country_event = {
	id = italy.151
	title = italy.151.t
	desc = italy.151.d
	picture = GFX_report_event_PAP_papal_conclave

	is_triggered_only = yes

	option = {
		name = italy.55.a #Elect the pious and popular Eugenio Cardinal Pacelli as Pius XII
		trigger = {
			NOT = {
				has_country_flag = Pius_XII_dead
				has_country_flag = Eugenio_Cardinal_Pacelli_dead
				tag = NFA
			}
		}
		ai_chance = {
			factor = 20
		}
		create_country_leader = {
			name = "Pius XII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
			expire = "1965.1.1"
			ideology = theocracy_subtype
			traits = { ITA_the_mfing_pope} 
		}
		set_politics = { ruling_party = paternal_autocrat }
		add_popularity = { ideology = paternal_autocrat popularity = 0.3 }
		remove_all_ministers = yes
	}
	option = {
		name = italy.151.a #Elect Alfredo Ottaviani as Gregorius XVII
		ai_chance = {
			factor = 25
		}
		if = {
			limit = {
				tag = PAP
			}
			create_country_leader = {
			name = "Gregorius XVII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Gregorius_XVII.png"
			expire = "1965.1.1"
			ideology = theocracy_subtype
			traits = { ITA_the_mfing_pope } 
		}
		set_politics = { ruling_party = paternal_autocrat }
		add_popularity = { ideology = paternal_autocrat popularity = 0.3 }
		remove_all_ministers = yes
		}
		if = {
			limit = {
				tag = NFA
			}
			create_country_leader = {
			name = "Gregorius XVII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Gregorius_XVII.png"
			expire = "1965.1.1"
			ideology = legionarism_subtype
			traits = { NFA_the_mfing_pope} 
			}
		}
	}
	option = {
		name = italy.151.b #Elect Angelo Giuseppe Roncalli as John XXIV
		ai_chance = {
			factor = 30
			modifier = {
				factor = 1.3
				has_country_flag = Pius_XII_dead
			}
		}
		if = {
			limit = {
				tag = PAP
			}
			create_country_leader = {
			name = "John XXIV"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_John_XXIV.png"
			expire = "1965.1.1"
			ideology = social_democrat_subtype
			traits = { ITA_the_mfing_pope} 
		}
		set_politics = { ruling_party = social_democrat }
		add_popularity = { ideology = social_democrat popularity = 0.3 }
		remove_all_ministers = yes
		}
		if = {
			limit = {
				tag = NFA
			}
			create_country_leader = {
			name = "John XXIII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_John_XXIV.png"
			expire = "1965.1.1"
			ideology = legionarism_subtype
			traits = { NFA_the_mfing_pope} 
			}
		}
	}
	option = {
		name = italy.151.c #Elect Giovanni Battista Montini as Paulus VI
		ai_chance = {
			factor = 25
		}
		if = {
			limit = {
				tag = PAP
			}
			create_country_leader = {
			name = "Paulus VI"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Paulus_VI.png"
			expire = "1965.1.1"
			ideology = theocracy_subtype
			traits = { ITA_the_mfing_pope} 
		}
		set_politics = { ruling_party = authoritarian_democrat }
		add_popularity = { ideology = authoritarian_democrat popularity = 0.3 }
		remove_all_ministers = yes
		}
		if = {
			limit = {
				tag = NFA
			}
			create_country_leader = {
			name = "Paulus VI"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Paulus_VI.png"
			expire = "1965.1.1"
			ideology = legionarism_subtype
			traits = { NFA_the_mfing_pope} 
			}
		}
	}
}

### ITALIAN SWITZERLAND EVENTS

# Italy demands a referendum in Ticino (Italian Switzerland)
country_event = {
	id = italy.70
	title = italy.70.t
	desc = italy.70.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		name = italy.70.a #They must be joking, right?
		ai_chance = {
			factor = 90
		}
		add_opinion_modifier = { target = FROM modifier = ITA_outraged }
		FROM = { country_event = { id = italy.71 } }
	}
	option = {
		name = italy.70.b #Accept their proposal, call up a referendum on the matter
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					NOT = { tag = SWI }
					has_political_power < 0
				}
			}
		}
		add_opinion_modifier = { target = FROM modifier = ITA_hates_govt }
		add_political_power = -300
		FROM = { country_event = { id = italy.79 } }
	}
}

# The owner of Ticino refuses to hold the referendum
country_event = {
	id = italy.71
	title = italy.71.t
	desc = italy.71.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		name = italy.71.a #Forget about this matter, just present our territorial claims instead
		ai_chance = {
			factor = 60
			modifier = {
				factor = 1.5
				NOT = {
					has_government = syndicalist
					has_government = totalist
					has_government = radical_socialist
					has_government = national_populist
				}
			}
		}
		add_political_power = -20
		add_state_claim = 761
	}
	option = {
		name = italy.71.b #Mobilize our divisions on the border and threaten them with war
		ai_chance = {
			factor = 40
			modifier = {
				factor = 0
				OR = {
					has_opinion = { target = FROM value > 0 }
					is_in_faction_with = FROM
				}
			}
			modifier = {
				factor = 0
				FROM = { is_in_faction = yes }
				is_in_faction = no
			}
			modifier = {
				factor = 2
				FROM = { is_in_faction = no }
				is_in_faction = yes
			}
			modifier = {
				factor = 0.5
				FROM = { NOT = { tag = SWI } }
			}
		}
		add_political_power = -60
		add_state_claim = 761
		FROM = { country_event = { id = italy.72 days = 5 } }
	}
}

# Italy has threated Ticino's owner with war
country_event = {
	id = italy.72
	title = italy.72.t
	desc = italy.72.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	trigger = {
		NOT = { has_war_with = FROM }
		owns_state = 761
	}

	option = {
		name = italy.72.a #We must comply to their demands, the referendum must occur
		ai_chance = {
			factor = 30
			modifier = {
				factor = 1.5
				has_war = yes
			}
			modifier = {
				factor = 0.1
				NOT = { tag = SWI }
			}
		}
		add_political_power = -140
		FROM = { country_event = { id = italy.79 } }
	}
	option = {
		name = italy.72.b #We are ready to defend our country
		ai_chance = {
			factor = 70
			modifier = {
				factor = 2
				is_in_faction = yes
			}
		}
		add_political_power = -40
		FROM = { country_event = { id = italy.73 } }
	}
}

# The owner of Ticino has refused Italy's ultimatum
country_event = {
	id = italy.73
	title = italy.73.t
	desc = italy.73.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	option = {
		name = italy.73.a #Cancel all plans and demobilize our troops
		ai_chance = {
			factor = 40
			modifier = {
				factor = 2
				FROM = { is_guaranteed_by = GER }
			}
		}
		add_political_power = -20
	}
	option = {
		name = italy.73.b #Cross the border and seize the disputed territories
		ai_chance = {
			factor = 60
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0.5
				FROM = { is_guaranteed_by = GER }
			}
		}
		add_political_power = -40
		FROM = { country_event = { id = italy.74 hours = 5 } }
	}
}

# Italian troops have entered Ticino - crisis moment
country_event = {
	id = italy.74
	title = italy.74.t
	desc = italy.74.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	trigger = {
		NOT = { has_war_with = FROM }
		owns_state = 761
	}
	
	immediate = {
		FROM = { save_event_target_as = aggressor }
	}

	option = {
		name = italy.74.a #Lay down our arms and surrender Ticino to Italy
		ai_chance = {
			factor = 10
		}
		add_political_power = -60
		FROM = {
			transfer_state = 761
			country_event = { id = italy.75 days = 1 }
		}
	}
	option = {
		name = italy.74.b #Order our troops to resist the invasion
		ai_chance = {
			factor = 90
		}
		add_political_power = 60
		FROM = { country_event = { id = italy.78 days = 2 } }
		if = {
			limit = {
				tag = SWI
				is_in_faction = no
				NOT = {
					is_guaranteed_by = GER
					has_socialist_government = yes
				}
			}
			GER = { country_event = { id = italy.76 days = 1 } }
		}
		if = {
			limit = {
				tag = SWI
				is_in_faction = no
				NOT = { is_guaranteed_by = GER }
				has_socialist_government = yes
			}
			random_country = {
				limit = {
					capital_scope = { is_on_continent = europe }
					any_neighbor_country = { tag = SWI }
					strength_ratio = { tag = FROM ratio > 0.8 }
					NOT = {
						tag = FROM
						is_in_faction_with = FROM
						has_guaranteed = SWI
					}
					has_socialist_government = yes
				}
				country_event = { id = italy.76 days = 1 }
			}
		}
	}
}

# Ticino has been turned over to Italy
country_event = {
	id = italy.75
	title = italy.75.t
	desc = italy.75.d
	picture = GFX_report_event_finnish_letter

	is_triggered_only = yes

	option = {
		name = italy.75.a
		add_political_power = 200
		add_state_core = 761
	}
}

# Major power warned that Italy is breaching Switzerland's neutrality
country_event = {
	id = italy.76
	title = italy.76.t
	desc = italy.76.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	trigger = {
		SWI = {
			NOT = { has_war_with = event_target:aggressor }
			NOT = { is_guaranteed_by = ROOT }
			owns_state = 761
		}
	}

	option = {
		name = italy.76.a #This is not of our concern
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0.5
				has_political_power < 0
			}
			modifier = {
				factor = 4
				NOT = { tag = GER }
			}
			modifier = {
				factor = 5
				has_war = yes
			}
			modifier = {
				factor = 5
				is_in_faction_with = event_target:aggressor
			}
		}
		add_political_power = -100
		reverse_add_opinion_modifier = { target = SWI modifier = KR_disapproves_of_govt }
		reverse_add_opinion_modifier = { target = event_target:aggressor modifier = KR_approves_of_govt }
		hidden_effect = {
			random_country = {
				limit = {
					capital_scope = { is_on_continent = europe }
					any_neighbor_country = { tag = SWI }
					strength_ratio = { tag = event_target:aggressor ratio > 0.8 }
					NOT = {
						tag = event_target:aggressor
						is_in_faction_with = event_target:aggressor
						has_guaranteed = SWI
						has_socialist_government = yes
					}
				}
				country_event = { id = italy.76 }
			}
		}
	}
	option = {
		name = italy.76.b #Guarantee Switzerland's borders
		ai_chance = {
			factor = 95
			modifier = {
				factor = 0.75
				NOT = { tag = GER }
			}
		}
		give_guarantee = SWI
		diplomatic_relation = { country = event_target:aggressor relation = guarantee active = no }
		diplomatic_relation = { country = event_target:aggressor relation = non_aggression_pact active = no }
		reverse_add_opinion_modifier = { target = event_target:aggressor modifier = KR_approves_of_govt }
		reverse_add_opinion_modifier = { target = SWI modifier = KR_approves_of_govt }
		event_target:aggressor = { country_event = { id = italy.77 } }
	}
}

# Italy is warned that the major power has guaranteed Switzerland
country_event = {
	id = italy.77
	title = italy.77.t
	desc = italy.77.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	option = {
		name = italy.77.a #Pull back, we can't risk war with X
		ai_chance = {
			factor = 80
			modifier = {
				factor = 0.25
				FROM = {
					NOT = { tag = GER }
					is_in_faction = no
					strength_ratio = { tag = ROOT ratio < 1.5 }
				}
			}
			modifier = {
				factor = 4
				has_war = yes
			}
		}
		add_political_power = -50
		set_country_flag = ITA_cancel_switzerland
	}
	option = {
		name = italy.77.b #We will not respond to their threats
		ai_chance = {
			factor = 20
			modifier = {
				factor = 4
				FROM = {
					NOT = { tag = GER }
					is_in_faction = no
					strength_ratio = { tag = ROOT ratio < 1.5 }
				}
			}
		}
		if = {
			limit = { is_in_faction_with = FROM }
			remove_from_faction = ROOT
		}
	}
}

# Italy must decide whether to begin the war
country_event = {
	id = italy.78
	title = italy.78.t
	desc = italy.78.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = ITA_cancel_switzerland }
		FROM = {
			NOT = { has_war_with = ROOT }
			owns_state = 761
		}
	}

	option = {
		name = italy.78.a #Pull back, cancel the invasion
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0
				has_political_power < 0
			}
			modifier = {
				factor = 4
				has_war = yes
			}
		}
		add_political_power = -300
	}
	option = {
		name = italy.78.b #Order a general mobilization and declare war
		ai_chance = {
			factor = 80
		}
		add_state_core = 761
		set_country_flag = ITA_ticino_war
		declare_war_on = { target = FROM type = take_core_state }
		if = {
			limit = { FROM = { tag = SWI } }
			add_named_threat = { threat = 5 name = ITA_Irredentism_Tension }
		}
	}
}

# Italy informed the referendum will be held in two weeks
country_event = {
	id = italy.79
	title = italy.79.t
	desc = italy.79.d

	is_triggered_only = yes

	option = {
		name = italy.79.a
		add_state_claim = 761
		FROM = { country_event = { id = italy.80 days = 14 } }
	}
}

# The Ticino Referendum
country_event = {
	id = italy.80
	title = italy.80.t
	desc = italy.80.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	trigger = {
		NOT = { has_war_with = FROM }
		owns_state = 761
		controls_state = 761
	}

	option = {
		name = italy.80.a
		if = {
			limit = { tag = SWI }
			random_list = {
				45 = {
					add_political_power = -100
					FROM = {
						transfer_state = 761
						country_event = { id = italy.75 }
					}
				}
				55 = {
					add_political_power = 100
					FROM = { country_event = { id = italy.81 } }
				}
			}
			else = {
				random_list = {
					75 = {
						add_political_power = -100
						FROM = {
							transfer_state = 761
							country_event = { id = italy.75 }
						}
					}
					25 = {
						add_political_power = 100
						FROM = { country_event = { id = italy.81 } }
					}
				}
			}
		}
	}
}

# The Ticino Referendum - Italian Defeat
country_event = {
	id = italy.81
	title = italy.81.t
	desc = italy.81.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		name = italy.81.a #Respect the results
		add_political_power = -40
	}
	option = {
		name = italy.81.b #Cross the border and seize Ticino
		FROM = { country_event = { id = italy.74 days = 1 } }
	}
}

# The Italians control Ticino - white peace?
country_event = {
	id = italy.82
	title = italy.82.t
	desc = italy.82.d
	picture = GFX_report_event_generic_towar

	fire_only_once = yes

	trigger = {
		OR = {
			AND = {
				has_war_with = ITA
				owns_state = 761
				surrender_progress > 0.1
				ITA = {
					has_country_flag = ITA_ticino_war
					controls_state = 761
					NOT = { surrender_progress > 0.1 }
				}
			}
			AND = {
				has_war_with = SRI
				owns_state = 761
				surrender_progress > 0.1
				SRI = {
					has_country_flag = ITA_ticino_war
					controls_state = 761
					NOT = { surrender_progress > 0.1 }
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 5
	}

	immediate = {
		random_country = {
			limit = { has_country_flag = ITA_ticino_war }
			clr_country_flag = ITA_ticino_war
			save_event_target_as = aggressor
		}
	}

	option = {
		name = italy.82.a #Send the envoys and offer to surrender Ticino
		ai_chance = { factor = 100 }
		add_political_power = -140
		event_target:aggressor = { country_event = { id = italy.83 } }
	}
	option = {
		name = italy.82.b #This war won't stop until we're marching on Rome!
		ai_chance = { factor = 0 }
		add_political_power = -100
	}
}

# Sued for peace: Ticino is surrendered
country_event = {
	id = italy.83
	title = italy.83.t
	desc = italy.83.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	option = {
		name = italy.83.a #Yes, let's end this now
		ai_chance = { factor = 75 }
		add_political_power = 100
		FROM = { white_peace_with_ROOT = yes }
		transfer_state = 761
	}
	option = {
		name = italy.83.b #This war won't be over until we're marching on [From.Capital.GetName]!
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				FROM = { NOT = { tag = SWI } }
			}
		}
		add_political_power = -100
	}
}

# The Italians are losing the war - white peace?
country_event = {
	id = italy.84
	title = italy.84.t
	desc = italy.84.d
	picture = GFX_report_event_generic_towar

	fire_only_once = yes

	trigger = {
		OR = {
			is_italian_federation = yes
			tag = SRI
		}
		has_war = yes
		surrender_progress > 0.1
		has_country_flag = ITA_ticino_war
		any_enemy_country = {
			has_war_with = ROOT
			owns_state = 761
			controls_state = 761
			NOT = { any_owned_state = { is_controlled_by = ROOT } }
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		clr_country_flag = ITA_ticino_war
	}

	option = {
		name = italy.82.a #Send the envoys and offer white peace
		ai_chance = { factor = 100 }
		add_political_power = -300
		random_enemy_country = {
			limit = {
				has_war_with = ROOT
				owns_state = 761
				controls_state = 761
				NOT = { any_owned_state = { is_controlled_by = ROOT } }
			}
			country_event = { id = italy.85 }
		}
	}
	option = {
		name = italy.82.b #We can still win this!
		ai_chance = { factor = 0 }
		add_political_power = -200
	}
}

# Sued for peace: white peace with Italy?
country_event = {
	id = italy.85
	title = italy.85.t
	desc = italy.85.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	option = {
		name = italy.83.a #Yes, let's end this now
		ai_chance = { factor = 75 }
		add_political_power = 200
		FROM = { white_peace_with_ROOT = yes }
	}
	option = {
		name = italy.83.b #This war won't be over until we're marching on [From.Capital.GetName]!
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				tag = SWI
			}
		}
		add_political_power = -100
	}
}

### MALTA EVENTS

# Italy offers to buy Malta
country_event = {
	id = italy.90
	title = italy.90.t
	desc = italy.90.d
	picture = GFX_report_event_malta

	is_triggered_only = yes

	immediate = {
		random_country = {
			limit = {
				owns_state = 116
				is_subject_of = ROOT
			}
			save_event_target_as = puppet_owner
		}
	}

	option = {
		name = italy.90.a #Accept their offer, we don't need Malta that much anymore
		ai_chance = {
			factor = 5
			modifier = {
				factor = 5
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 2
				has_opinion = { target = FROM value > 20 }
			}
			modifier = {
				factor = 2
				has_opinion = { target = FROM value > 50 }
			}
			modifier = {
				factor = 0
				has_opinion = { target = FROM value < -20 }
			}
		}
		add_political_power = -50
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = ITA_sold_us_malta }
			effect_tooltip = {
				send_equipment = { target = ROOT type = infantry_equipment amount = 1000 }
				diplomatic_relation = { country = ROOT relation = non_aggression_pact }
				if = {
					limit = { NOT = { gives_military_access_to = ROOT } }
					ROOT = { give_military_access = PREV }
				}
				if = {
					limit = { event_target:puppet_owner = { owns_state = 116 } }
					puppet = event_target:puppet_owner
					else = { transfer_state = 116 } #Malta
				}
			}
			country_event = italy.91
		}
	}
	option = {
		name = italy.90.b #They're joking, right?
		ai_chance = {
			factor = 95
			modifier = {
				factor = 0.5
				FROM = { gives_military_access_to = ROOT }
			}
		}
		add_political_power = 20
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_hates_govt }
			diplomatic_relation = { country = ROOT relation = non_aggression_pact active = no }
			if = {
				limit = { gives_military_access_to = ROOT }
				diplomatic_relation = { country = ROOT relation = military_access active = no }
			}
			country_event = italy.92
		}
	}
}

# Malta has been bought
country_event = {
	id = italy.91
	title = italy.91.t
	desc = italy.91.d
	picture = GFX_report_event_malta

	is_triggered_only = yes

	option = {
		name = italy.91.a
		send_equipment = { target = FROM type = infantry_equipment amount = 1000 }
		diplomatic_relation = { country = FROM relation = non_aggression_pact }
		if = {
			limit = { NOT = { gives_military_access_to = FROM } }
			FROM = { give_military_access = ROOT }
		}
		if = {
			limit = { event_target:puppet_owner = { owns_state = 116 } }
			puppet = event_target:puppet_owner
			event_target:puppet_owner = { country_event = italy.141 }
			else = { transfer_state = 116 } #Malta
		}
	}
}

# Malta's sale has been refused
country_event = {
	id = italy.92
	title = italy.92.t
	desc = italy.92.d
	picture = GFX_report_event_malta

	is_triggered_only = yes

	option = {
		name = italy.92.a #Threaten them with war
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				OR = {
					has_socialist_government = yes
					has_government = national_populist
				}
			}
			modifier = {
				factor = 0.1
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 0.25
				is_in_faction = no
				FROM = {
					has_war = no
					OR = {
						is_in_faction = yes
						strength_ratio = { tag = ROOT ratio > 1.5 }
					}
				}
			}
		}
		if = {
			limit = { is_in_faction_with = FROM }
			remove_from_faction = ROOT
		}
		add_political_power = -60
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = ITA_outraged }
			country_event = { id = italy.93 hours = 3 }
		}
	}
	option = {
		name = italy.92.b #It is too risky...
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0.3
				strength_ratio = { tag = FROM ratio > 1.0 }
			}
			modifier = {
				factor = 0.3
				strength_ratio = { tag = FROM ratio > 1.5 }
			}
			modifier = {
				factor = 0.5
				FROM = { has_war = yes }
			}
		}
		add_political_power = -40
	}
}

# Italy makes an ultimatum: turn over Malta or else...
country_event = {
	id = italy.93
	title = italy.93.t
	desc = italy.93.d
	picture = GFX_report_event_malta

	is_triggered_only = yes

	trigger = {
		OR = {
			owns_state = 116
			any_country = {
				owns_state = 116
				is_subject_of = ROOT
			}
		}
	}

	option = {
		name = italy.93.a #Right, right, we don't even need Malta that much anyway...
		ai_chance = {
			factor = 5
			modifier = {
				factor = 5
				has_war = yes
				surrender_progress > 0.20
			}
		}
		add_political_power = -200
		FROM = {
			effect_tooltip = {
				if = {
					limit = { event_target:puppet_owner = { owns_state = 116 } }
					puppet = event_target:puppet_owner
					else = { transfer_state = 116 } #Malta
				}
			}
			country_event = { id = italy.94 hours = 3 }
		}
	}
	option = {
		name = italy.93.b #Such insolence will be punished!
		ai_chance = {
			factor = 95
			modifier = {
				factor = 0.5
				has_war = yes
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 0.75 }
			}
		}
		FROM = { set_country_flag = ITA_malta_war }
		add_political_power = 100
		diplomatic_relation = { country = FROM relation = non_aggression_pact active = no }
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
}

# The ultimatum succeeds: Malta is surrendered
country_event = {
	id = italy.94
	title = italy.94.t
	desc = italy.94.d
	picture = GFX_report_event_malta

	is_triggered_only = yes

	option = {
		name = italy.94.a
		add_political_power = 100
		if = {
			limit = { event_target:puppet_owner = { owns_state = 116 } }
			puppet = event_target:puppet_owner
			event_target:puppet_owner = { country_event = italy.141 }
			else = { transfer_state = 116 } #Malta
		}
	}
}

# Italy has taken Malta - white peace?
country_event = {
	id = italy.95
	title = italy.95.t
	desc = italy.95.d
	picture = GFX_report_event_generic_towar

	fire_only_once = yes

	trigger = {
		has_war = yes
		surrender_progress > 0.10
		OR = {
			owns_state = 116
			MLT = {
				owns_state = 116
				is_subject_of = ROOT
			}
		}
		any_enemy_country = {
			has_war_with = ROOT
			has_country_flag = ITA_malta_war
			controls_state = 116
			NOT = { surrender_progress > 0.2 }
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		random_enemy_country = {
			limit = { has_country_flag = ITA_malta_war }
			clr_country_flag = ITA_malta_war
			save_event_target_as = aggressor
		}
		random_country = {
			limit = {
				owns_state = 116
				is_subject_of = ROOT
			}
			save_event_target_as = puppet_owner
		}
	}

	option = {
		name = italy.95.a #Pull back our forces, sign a peace treaty and cede Malta to the Italians
		ai_chance = {
			factor = 70
			modifier = {
				factor = 1.5
				event_target:aggressor = { NOT = { surrender_progress > 0.05 } }
			}
		}
		add_political_power = -100
		event_target:aggressor = { country_event = { id = italy.96 } }
	}
	option = {
		name = italy.95.b #This war won't be over until we're marching on Rome!
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0.5
				event_target:aggressor = { NOT = { surrender_progress > 0.05 } }
			}
		}
		add_political_power = -200
	}
}

# Sued for peace: Malta is surrendered
country_event = {
	id = italy.96
	title = italy.96.t
	desc = italy.96.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	option = {
		name = italy.96.a #Yes, let's end this now
		ai_chance = { factor = 100 }
		add_political_power = 100
		FROM = { white_peace_with_ROOT = yes }
		if = {
			limit = { event_target:puppet_owner = { owns_state = 116 } }
			event_target:puppet_owner = { white_peace_with_ROOT = yes }
			puppet = event_target:puppet_owner
			else = { transfer_state = 116 } #Malta
		}
	}
	option = {
		name = italy.96.b #This war won't be over until we're marching on [From.Capital.GetName]!
		ai_chance = { factor = 0 }
		add_political_power = -100
	}
}

# Malta is integrated into Italy
country_event = {
	id = italy.97
	title = italy.97.t
	desc = italy.97.d
	picture = GFX_report_event_malta

	fire_only_once = yes

	trigger = {
		OR = {
			is_italian_federation = yes
			tag = SRI
		}
		controls_state = 116
		116 = { NOT = { is_core_of = ROOT } }
		has_war = no
	}

	mean_time_to_happen = {
		months = 12
		modifier = {
			factor = 0.5
			116 = { is_claimed_by = ROOT }
		}
	}

	option = {
		name = italy.97.a
		clr_country_flag = ITA_malta_war
		add_political_power = -50
		add_state_core = 116
	}
}

# Italy failed to take Malta in the war
country_event = {
	id = italy.98
	title = italy.98.t
	desc = italy.98.d
	picture = GFX_report_event_malta

	fire_only_once = yes

	trigger = {
		OR = {
			is_italian_federation = yes
			tag = SRI
		}
		has_country_flag = ITA_malta_war
		has_war = no
		NOT = {
			owns_state = 116
			any_country = {
				is_subject_of = ROOT
				owns_state = 116
			}
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	option = {
		name = italy.98.a
		clr_country_flag = ITA_malta_war
		add_political_power = -100
	}
}

### TUNISIA EVENTS

# Italy offers to buy Tunisia
country_event = {
	id = italy.100
	title = italy.100.t
	desc = italy.100.d
	picture = GFX_report_event_libya

	is_triggered_only = yes

	immediate = {
		random_country = {
			limit = {
				owns_state = 458
				is_subject_of = ROOT
			}
			save_event_target_as = puppet_owner
		}
	}

	option = {
		name = italy.100.a #Accept their offer and give them Tunisia
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 2
				has_opinion = { target = FROM value > 20 }
			}
			modifier = {
				factor = 2
				has_opinion = { target = FROM value > 50 }
			}
			modifier = {
				factor = 0
				has_opinion = { target = FROM value < -20 }
			}
			modifier = {
				factor = 0
				458 = { is_core_of = ROOT }
			}
			modifier = {
				factor = 0
				has_government = national_populist
			}
			modifier = {
				factor = 0
				has_socialist_government = yes
				FROM = { NOT = { has_socialist_government = yes } }
			}
			modifier = {
				factor = 0
				NOT = { has_socialist_government = yes }
				FROM = { has_socialist_government = yes }
			}
		}
		add_political_power = -100
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = ITA_sold_us_tunisia }
			effect_tooltip = {
				send_equipment = { target = ROOT type = infantry_equipment amount = 2500 }
				diplomatic_relation = { country = ROOT relation = non_aggression_pact }
				if = {
					limit = { NOT = { gives_military_access_to = ROOT } }
					ROOT = { give_military_access = PREV }
				}
				if = {
					limit = { event_target:puppet_owner = { owns_state = 458 } }
					puppet = event_target:puppet_owner
				}
				if = {
					limit = { ROOT = { owns_state = 458 } }
					transfer_state = 458
				}
				if = {
					limit = { ROOT = { owns_state = 665 } }
					transfer_state = 665
				}
			}
			country_event = { id = italy.101 }
		}
	}
	option = {
		name = italy.100.b #They're joking, right?
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0.5
				FROM = { gives_military_access_to = ROOT }
			}
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = ITA_hates_govt }
			diplomatic_relation = { country = ROOT relation = non_aggression_pact active = no }
			if = {
				limit = { gives_military_access_to = ROOT }
				diplomatic_relation = { country = ROOT relation = military_access active = no }
			}
			country_event = { id = italy.102 }
		}
	}
}

# Tunisia has been bought
country_event = {
	id = italy.101
	title = italy.101.t
	desc = italy.101.d
	picture = GFX_report_event_libya

	is_triggered_only = yes

	option = {
		name = italy.101.a
		send_equipment = { target = FROM type = infantry_equipment amount = 2500 }
		diplomatic_relation = { country = FROM relation = non_aggression_pact }
		if = {
			limit = { NOT = { gives_military_access_to = FROM } }
			FROM = { give_military_access = ROOT }
		}
		if = {
			limit = { event_target:puppet_owner = { owns_state = 458 } }
			puppet = event_target:puppet_owner
			event_target:puppet_owner = { country_event = italy.141 }
		}
		if = {
			limit = { FROM = { owns_state = 458 } } #Tunisia
			transfer_state = 458
		}
		if = {
			limit = { FROM = { owns_state = 665 } } #Gabes
			transfer_state = 665
		}
	}
}

# Tunisia's sale has been refused
country_event = {
	id = italy.102
	title = italy.102.t
	desc = italy.102.d
	picture = GFX_report_event_libya

	is_triggered_only = yes

	option = {
		name = italy.102.a #Threaten them with war
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				OR = {
					has_socialist_government = yes
					has_government = national_populist
				}
			}
			modifier = {
				factor = 0.1
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 0.25
				is_in_faction = no
				FROM = {
					has_war = no
					OR = {
						is_in_faction = yes
						strength_ratio = { tag = ROOT ratio > 1.5 }
					}
				}
			}
		}
		if = {
			limit = { is_in_faction_with = FROM }
			remove_from_faction = ROOT
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = ITA_outraged }
			country_event = { id = italy.103 hours = 3 }
		}
	}
	option = {
		name = italy.102.b #It is too risky...
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0.3
				strength_ratio = { tag = FROM ratio > 1.0 }
			}
			modifier = {
				factor = 0.3
				strength_ratio = { tag = FROM ratio > 1.5 }
			}
			modifier = {
				factor = 0.5
				FROM = { has_war = yes }
			}
		}
		add_political_power = -100
	}
}

# Italy makes an ultimatum: turn over Tunisia or else...
country_event = {
	id = italy.103
	title = italy.103.t
	desc = italy.103.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	trigger = {
		OR = {
			owns_state = 458
			any_country = {
				owns_state = 458
				is_subject_of = ROOT
			}
		}
	}

	option = {
		name = italy.103.a #Right, right, we don't even need Tunisia that much anyway...
		ai_chance = {
			factor = 5
			modifier = {
				factor = 5
				has_war = yes
				surrender_progress > 0.20
			}
		}
		add_political_power = -300
		FROM = {
			effect_tooltip = {
				if = {
					limit = { event_target:puppet_owner = { owns_state = 458 } }
					puppet = event_target:puppet_owner
				}
				if = {
					limit = { ROOT = { owns_state = 458 } }
					transfer_state = 458
				}
				if = {
					limit = { ROOT = { owns_state = 665 } }
					transfer_state = 665
				}
			}
			country_event = { id = italy.104 hours = 3 }
		}
	}
	option = {
		name = italy.103.b #Such insolence will be punished!
		ai_chance = {
			factor = 95
			modifier = {
				factor = 0.5
				has_war = yes
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 0.75 }
			}
		}
		FROM = { set_country_flag = ITA_tunisia_war }
		add_political_power = 100
		diplomatic_relation = { country = FROM relation = non_aggression_pact active = no }
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
}

# The ultimatum succeeds: Tunisia is surrendered
country_event = {
	id = italy.104
	title = italy.104.t
	desc = italy.104.d
	picture = GFX_report_event_libya

	is_triggered_only = yes

	option = {
		name = italy.104.a
		add_political_power = 100
		if = {
			limit = { event_target:puppet_owner = { owns_state = 458 } }
			puppet = event_target:puppet_owner
			event_target:puppet_owner = { country_event = italy.141 }
		}
		if = {
			limit = { FROM = { owns_state = 458 } }
			transfer_state = 458
		}
		if = {
			limit = { FROM = { owns_state = 665 } }
			transfer_state = 665
		}
	}
}

# Italy has taken Malta - white peace?
country_event = {
	id = italy.105
	title = italy.105.t
	desc = italy.105.d
	picture = GFX_report_event_generic_towar

	fire_only_once = yes

	trigger = {
		has_war = yes
		surrender_progress > 0.10
		OR = {
			owns_state = 458
			any_country = {
				owns_state = 458
				is_subject_of = ROOT
			}
		}
		any_enemy_country = {
			has_war_with = ROOT
			NOT = { surrender_progress > 0.1 }
			has_country_flag = ITA_tunisia_war
			controls_state = 458
			OR = {
				controls_state = 665
				NOT = {
					ROOT = { owns_state = 665 }
					any_country = {
						owns_state = 665
						is_subject_of = ROOT
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		random_enemy_country = {
			limit = { has_country_flag = ITA_tunisia_war }
			clr_country_flag = ITA_tunisia_war
			save_event_target_as = aggressor
		}
		random_country = {
			limit = {
				owns_state = 458
				is_subject_of = ROOT
			}
			save_event_target_as = puppet_owner
		}
	}

	option = {
		name = italy.105.a #Pull back our forces, sign a peace treaty and cede Tunisia to the Italians
		ai_chance = {
			factor = 70
			modifier = {
				factor = 1.5
				event_target:aggressor = { NOT = { surrender_progress > 0.05 } }
			}
		}
		add_political_power = -200
		event_target:aggressor = { country_event = { id = italy.106 } }
	}
	option = {
		name = italy.105.b #This war won't be over until we're marching on Rome!
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0.5
				event_target:aggressor = { NOT = { surrender_progress > 0.05 } }
			}
		}
		add_political_power = -300
	}
}

# Sued for peace: Tunisia is surrendered
country_event = {
	id = italy.106
	title = italy.106.t
	desc = italy.106.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	option = {
		name = italy.106.a #Yes, let's end this now
		ai_chance = { factor = 100 }
		add_political_power = 100
		FROM = { white_peace_with_ROOT = yes }
		if = {
			limit = { event_target:puppet_owner = { owns_state = 458 } }
			event_target:puppet_owner = { white_peace_with_ROOT = yes }
			puppet = event_target:puppet_owner
		}
		if = {
			limit = { FROM = { owns_state = 458 } }
			transfer_state = 458
		}
		if = {
			limit = { FROM = { owns_state = 665 } }
			transfer_state = 665
		}
	}
	option = {
		name = italy.106.b #This war won't be over until we're marching on [From.Capital.GetName]!
		ai_chance = { factor = 0 }
		add_political_power = -100
	}
}

# Tunisia is integrated into Italy
country_event = {
	id = italy.107
	title = italy.107.t
	desc = italy.107.d
	picture = GFX_report_event_libya

	fire_only_once = yes

	trigger = {
		OR = {
			is_italian_federation = yes
			tag = SRI
		}
		owns_state = 458
		458 = { NOT = { is_core_of = ROOT } }
		has_war = no
	}

	mean_time_to_happen = {
		months = 12
		modifier = {
			factor = 0.5
			458 = { is_claimed_by = ROOT }
		}
	}

	immediate = { clr_country_flag = ITA_tunisia_war }

	option = {
		name = italy.107.a #Integrate Tunisia into Italy proper
		ai_chance = { factor = 5 }
		add_political_power = -50
		add_state_core = 458
		if = {
			limit = { owns_state = 665 }
			add_state_core = 665
		}
	}
	option = {
		name = italy.107.b #Create Italian Tunisia
		trigger = { NOT = { country_exists = TUN } }
		ai_chance = { factor = 50 }
		add_political_power = 100
		every_state = {
			limit = {
				is_core_of = TUN
				is_owned_by = ROOT
			}
			ROOT = { remove_state_claim = PREV }
			TUN = { transfer_state = PREV }
		}
		puppet = TUN

	}
	option = {
		name = italy.107.c #Make Tunisia part of Italian North Africa
		trigger = {
			owns_state = 665
			LBA = {
				is_subject_of = ROOT
				owns_state = 448
			}
		}
		ai_chance = { factor = 50 }
		add_political_power = 100
		every_state = {
			limit = {
				is_core_of = TUN
				is_owned_by = ROOT
			}
			ROOT = { remove_state_claim = PREV }
			LBA = {
				add_state_core = PREV
				transfer_state = PREV
			}
		}
	}
}

# Italy failed to take Tunisia in the war
country_event = {
	id = italy.108
	title = italy.108.t
	desc = italy.108.d
	picture = GFX_report_event_libya

	fire_only_once = yes

	trigger = {
		OR = {
			is_italian_federation = yes
			tag = SRI
		}
		has_country_flag = ITA_tunisia_war
		has_war = no
		NOT = {
			owns_state = 458
			any_country = {
				is_subject_of = ROOT
				owns_state = 458
			}
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	option = {
		name = italy.108.a
		clr_country_flag = ITA_tunisia_war
		add_political_power = -100
	}
}

### NORTHEAST ITALY EVENTS

# Italy demands an Austrian referendum in Italian provinces
country_event = {
	id = italy.110
	title = italy.110.t
	desc = italy.110.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		name = italy.110.a #They must be joking, right?
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0.5
				is_in_faction_with = FROM
			}
		}
		add_opinion_modifier = { target = FROM modifier = KR_outraged }
		FROM = { country_event = { id = italy.111 } }
	}
	option = {
		name = italy.110.b #Accept their proposal, call up a referendum on the matter
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0.1
				has_political_power < 0
			}
			modifier = {
				factor = 3
				NOT = {
					has_socialist_government = yes
					has_authoritarian_government = yes
				}
			}
			modifier = {
				factor = 1.5
				OR = {
					has_government = social_liberal
					has_government = market_liberal
				}
			}
		}
		every_owned_state = {
			limit = { is_core_of = FROM }
			custom_effect_tooltip = ITA_referendum_possible
		}
		add_opinion_modifier = { target = FROM modifier = KR_disapproves_of_govt }
		add_political_power = -200
		FROM = { country_event = { id = italy.113 } }
	}
}

# Austria refuses to hold the referendum
country_event = {
	id = italy.111
	title = italy.111.t
	desc = italy.111.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		name = italy.111.a #Forget about this matter, just present our territorial claims instead
		ai_chance = {
			factor = 60
			modifier = {
				factor = 1.5
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 1.0 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 0.75 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 0.5 }
			}
		}
		add_opinion_modifier = { target = FROM modifier = KR_disapproves_of_govt }
		add_political_power = -80
	}
	option = {
		name = italy.111.b #Threaten them with war if they do not hold the referendum
		ai_chance = {
			factor = 40
			modifier = {
				factor = 0
				OR = {
					has_opinion = { target = FROM value > 20 }
					is_in_faction_with = FROM
				}
			}
			modifier = {
				factor = 0
				FROM = { is_in_faction = yes }
				is_in_faction = no
			}
			modifier = {
				factor = 2
				FROM = { is_in_faction = no }
				is_in_faction = yes
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 1.0 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 1.5 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 2.0 }
			}
		}
		if = {
			limit = { is_in_faction_with = FROM }
			remove_from_faction = ROOT
		}
		add_opinion_modifier = { target = AUS modifier = ITA_outraged }
		diplomatic_relation = { country = FROM relation = non_aggression_pact active = no }
		if = {
			limit = { gives_military_access_to = FROM }
			diplomatic_relation = { country = FROM relation = military_access active = no }
		}
		FROM = { country_event = { id = italy.112 days = 5 } }
	}
}

# Italy issues an ultimatum: perform the referendum, or else
country_event = {
	id = italy.112
	title = italy.112.t
	desc = italy.112.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	trigger = {
		NOT = { has_war_with = FROM }
		any_owned_state = { is_core_of = FROM }
	}

	option = {
		name = italy.112.a #Very well, the referendum will take place
		ai_chance = {
			factor = 30
			modifier = {
				factor = 1.5
				has_war = yes
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 1.0 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 0.75 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 0.5 }
			}
		}
		add_political_power = -300
		every_owned_state = {
			limit = { is_core_of = FROM }
			custom_effect_tooltip = ITA_referendum_possible
		}
		FROM = { country_event = { id = italy.113 } }
	}
	option = {
		name = italy.112.b #We must attack them first! Declare war!
		ai_chance = {
			factor = 70
			modifier = {
				factor = 2
				is_in_faction = yes
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 1.0 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 1.5 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 2.0 }
			}
		}
		diplomatic_relation = { country = FROM relation = non_aggression_pact active = no }
		if = {
			limit = { gives_military_access_to = FROM }
			diplomatic_relation = { country = FROM relation = military_access active = no }
		}
		FROM = { set_country_flag = ITA_austrian_war }
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
}

# Italy informed the Austrian referendum will be held in two weeks
country_event = {
	id = italy.113
	title = italy.113.t
	desc = italy.113.d

	is_triggered_only = yes

	option = {
		name = italy.113.a
		add_political_power = 100
		add_opinion_modifier = { target = FROM modifier = ITA_likes_govt }
		FROM = { country_event = { id = italy.114 days = 14 } }
	}
}

# The Austrian Referendum
country_event = {
	id = italy.114
	title = italy.114.t
	desc = italy.114.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	trigger = {
		NOT = { has_war_with = FROM }
		any_owned_state = { is_core_of = FROM }
	}

	option = {
		name = italy.114.a
		random_list = {
			50 = {
				add_political_power = 100
				FROM = { country_event = { id = italy.115 } }
			}
			50 = {
				add_political_power = -100
				FROM = { country_event = { id = italy.116 } }
			}
		}
	}
}

# The Austrian Referendum - Italian Defeat
country_event = {
	id = italy.115
	title = italy.115.t
	desc = italy.115.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		name = italy.115.a #Respect the results
		ai_chance = {
			factor = 70
			modifier = {
				factor = 0.5
				OR = {
					has_socialist_government = yes
					has_government = national_populist
				}
			}
			modifier = {
				factor = 1.2
				strength_ratio = { tag = FROM ratio < 1.0 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 0.75 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 0.5 }
			}
		}
		add_political_power = -100
	}
	option = {
		name = italy.115.b #Declare war and take the territories by force!
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0
				FROM = { is_in_faction = yes }
				is_in_faction = no
			}
			modifier = {
				factor = 2
				FROM = { is_in_faction = no }
				is_in_faction = yes
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 1.0 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 1.5 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 2.0 }
			}
		}
		set_country_flag = ITA_austrian_war
		declare_war_on = {
			target = FROM
			type = take_core_state
		}
	}
}

# The Austrian Referendum - Italian Success
country_event = {
	id = italy.116
	title = italy.116.t
	desc = italy.116.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		name = italy.116.a #Huzzah!
		FROM = {
			every_owned_state = {
				limit = { is_core_of = ROOT }
				if = {
					limit = { is_core_of = AUS }
					AUS = { remove_state_core = PREV }
				}
				ROOT = { transfer_state = PREV }
			}
		}
	}
}

# Italy has taken South Austria - white peace?
country_event = {
	id = italy.117
	title = italy.117.t
	desc = italy.117.d
	picture = GFX_report_event_generic_towar

	fire_only_once = yes

	trigger = {
		OR = {
			has_war_with = ITA
			has_war_with = SRI
		}
		OR = {
			AND = {
				has_war_with = ITA
				surrender_progress > 0.20
				ITA = {
					NOT = { surrender_progress > 0.20 }
					has_country_flag = ITA_austrian_war
				}
				any_owned_state = { is_core_of = ITA }
				NOT = {
					any_owned_state = {
						is_core_of = ITA
						is_controlled_by = ROOT
					}
				}
			}
			AND = {
				has_war_with = SRI
				surrender_progress > 0.20
				SRI = {
					NOT = { surrender_progress > 0.20 }
					has_country_flag = ITA_austrian_war
				}
				any_owned_state = { is_core_of = SRI }
				NOT = {
					any_owned_state = {
						is_core_of = SRI
						is_controlled_by = ROOT
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		random_enemy_country = {
			limit = { has_country_flag = ITA_austrian_war }
			clr_country_flag = ITA_austrian_war
			save_event_target_as = aggressor
		}
	}

	option = {
		name = italy.117.a #Sign a peace treaty and cede all disputed territory to the Italians
		ai_chance = { factor = 90 }
		add_political_power = -100
		event_target:aggressor = { country_event = { id = italy.118 } }
	}
	option = {
		name = italy.117.b #This war won't be over until we're marching on Rome!
		ai_chance = { factor = 10 }
		add_political_power = 100
	}
}

# Sued for peace: South Austria is surrendered
country_event = {
	id = italy.118
	title = italy.118.t
	desc = italy.118.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	option = {
		name = italy.118.a #Yes, let's end this now
		ai_chance = { factor = 100 }
		add_political_power = 100
		FROM = {
			white_peace_with_ROOT = yes
			every_owned_state = {
				limit = { is_core_of = ROOT }
				if = {
					limit = { is_core_of = AUS }
					AUS = { remove_state_core = PREV }
				}
				ROOT = { transfer_state = PREV }
			}
		}
	}
	option = {
		name = italy.118.b #This war won't be over until we're marching on [From.Capital.GetName]!
		ai_chance = { factor = 0 }
		add_political_power = -100
	}
}

# Austria is winning - white peace?
country_event = {
	id = italy.119
	title = italy.119.t
	desc = italy.119.d
	picture = GFX_report_event_generic_towar

	fire_only_once = yes

	trigger = {
		OR = {
			is_italian_federation = yes
			tag = SRI
		}
		has_country_flag = ITA_austrian_war
		has_war_with = AUS
		surrender_progress > 0.20
		AUS = {
			NOT = {
				surrender_progress > 0.10
				any_owned_state = {
					is_core_of = ROOT
					is_controlled_by = ROOT
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		clr_country_flag = ITA_austrian_war
	}

	option = {
		name = italy.119.a #Sign a peace treaty and give up all our claims
		ai_chance = { factor = 90 }
		add_political_power = -100
		AUS = { country_event = { id = italy.120 } }
	}
	option = {
		name = italy.119.b #This war won't be over until we're marching on Vienna!
		ai_chance = { factor = 10 }
		add_political_power = 100
	}
}

# Sued for peace: Italy gives up claims
country_event = {
	id = italy.120
	title = italy.120.t
	desc = italy.120.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	option = {
		name = italy.120.a #Yes, let's end this now
		ai_chance = { factor = 100 }
		add_political_power = 100
		FROM = { white_peace_with_ROOT = yes }
		every_owned_state = {
			limit = { is_core_of = FROM }
			remove_core_of = FROM
		}
	}
	option = {
		name = italy.120.b #This war won't be over until we're marching on [From.Capital.GetName]!
		ai_chance = { factor = 0 }
		add_political_power = -100
	}
}

# Italy failed to take South Austria in the war
country_event = {
	id = italy.121
	title = italy.121.t
	desc = italy.121.d

	fire_only_once = yes

	trigger = {
		OR = {
			is_italian_federation = yes
			tag = SRI
		}
		has_country_flag = ITA_austrian_war
		has_war = no
		AUS = { any_owned_state = { is_core_of = ROOT } }
	}

	mean_time_to_happen = {
		days = 30
	}

	option = {
		name = italy.121.a
		clr_country_flag = ITA_austrian_war
		add_political_power = -100
	}
}

### NORTHEAST ITALY EVENTS

# Italy demands an Austrian referendum in Italian provinces
country_event = {
	id = italy.110
	title = italy.110.t
	desc = italy.110.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		name = italy.110.a #They must be joking, right?
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0.5
				is_in_faction_with = FROM
			}
		}
		add_opinion_modifier = { target = FROM modifier = KR_outraged }
		FROM = { country_event = { id = italy.111 } }
	}
	option = {
		name = italy.110.b #Accept their proposal, call up a referendum on the matter
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0.1
				has_political_power < 0
			}
			modifier = {
				factor = 3
				NOT = {
					has_socialist_government = yes
					has_authoritarian_government = yes
				}
			}
			modifier = {
				factor = 1.5
				OR = {
					has_government = social_liberal
					has_government = market_liberal
				}
			}
		}
		every_owned_state = {
			limit = { is_core_of = FROM }
			custom_effect_tooltip = ITA_referendum_possible
		}
		add_opinion_modifier = { target = FROM modifier = KR_disapproves_of_govt }
		add_political_power = -200
		FROM = { country_event = { id = italy.113 } }
	}
}

# Austria refuses to hold the referendum
country_event = {
	id = italy.111
	title = italy.111.t
	desc = italy.111.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		name = italy.111.a #Forget about this matter, just present our territorial claims instead
		ai_chance = {
			factor = 60
			modifier = {
				factor = 1.5
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 1.0 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 0.75 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 0.5 }
			}
		}
		add_opinion_modifier = { target = FROM modifier = KR_disapproves_of_govt }
		add_political_power = -80
	}
	option = {
		name = italy.111.b #Threaten them with war if they do not hold the referendum
		ai_chance = {
			factor = 40
			modifier = {
				factor = 0
				OR = {
					has_opinion = { target = FROM value > 20 }
					is_in_faction_with = FROM
				}
			}
			modifier = {
				factor = 0
				FROM = { is_in_faction = yes }
				is_in_faction = no
			}
			modifier = {
				factor = 2
				FROM = { is_in_faction = no }
				is_in_faction = yes
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 1.0 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 1.5 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 2.0 }
			}
		}
		if = {
			limit = { is_in_faction_with = FROM }
			remove_from_faction = ROOT
		}
		add_opinion_modifier = { target = AUS modifier = ITA_outraged }
		diplomatic_relation = { country = FROM relation = non_aggression_pact active = no }
		if = {
			limit = { gives_military_access_to = FROM }
			diplomatic_relation = { country = FROM relation = military_access active = no }
		}
		FROM = { country_event = { id = italy.112 days = 5 } }
	}
}

# Italy issues an ultimatum: perform the referendum, or else
country_event = {
	id = italy.112
	title = italy.112.t
	desc = italy.112.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	trigger = {
		NOT = { has_war_with = FROM }
		any_owned_state = { is_core_of = FROM }
	}

	option = {
		name = italy.112.a #Very well, the referendum will take place
		ai_chance = {
			factor = 30
			modifier = {
				factor = 1.5
				has_war = yes
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 1.0 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 0.75 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 0.5 }
			}
		}
		add_political_power = -300
		every_owned_state = {
			limit = { is_core_of = FROM }
			custom_effect_tooltip = ITA_referendum_possible
		}
		FROM = { country_event = { id = italy.113 } }
	}
	option = {
		name = italy.112.b #We must attack them first! Declare war!
		ai_chance = {
			factor = 70
			modifier = {
				factor = 2
				is_in_faction = yes
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 1.0 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 1.5 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 2.0 }
			}
		}
		diplomatic_relation = { country = FROM relation = non_aggression_pact active = no }
		if = {
			limit = { gives_military_access_to = FROM }
			diplomatic_relation = { country = FROM relation = military_access active = no }
		}
		FROM = { set_country_flag = ITA_austrian_war }
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
}

# Italy informed the Austrian referendum will be held in two weeks
country_event = {
	id = italy.113
	title = italy.113.t
	desc = italy.113.d

	is_triggered_only = yes

	option = {
		name = italy.113.a
		add_political_power = 100
		add_opinion_modifier = { target = FROM modifier = ITA_likes_govt }
		FROM = { country_event = { id = italy.114 days = 14 } }
	}
}

# The Austrian Referendum
country_event = {
	id = italy.114
	title = italy.114.t
	desc = italy.114.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	trigger = {
		NOT = { has_war_with = FROM }
		any_owned_state = { is_core_of = FROM }
	}

	option = {
		name = italy.114.a
		random_list = {
			50 = {
				add_political_power = 100
				FROM = { country_event = { id = italy.115 } }
			}
			50 = {
				add_political_power = -100
				FROM = { country_event = { id = italy.116 } }
			}
		}
	}
}

# The Austrian Referendum - Italian Defeat
country_event = {
	id = italy.115
	title = italy.115.t
	desc = italy.115.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		name = italy.115.a #Respect the results
		ai_chance = {
			factor = 70
			modifier = {
				factor = 0.5
				OR = {
					has_socialist_government = yes
					has_government = national_populist
				}
			}
			modifier = {
				factor = 1.2
				strength_ratio = { tag = FROM ratio < 1.0 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 0.75 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 0.5 }
			}
		}
		add_political_power = -100
	}
	option = {
		name = italy.115.b #Declare war and take the territories by force!
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0
				FROM = { is_in_faction = yes }
				is_in_faction = no
			}
			modifier = {
				factor = 2
				FROM = { is_in_faction = no }
				is_in_faction = yes
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 1.0 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 1.5 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 2.0 }
			}
		}
		set_country_flag = ITA_austrian_war
		declare_war_on = {
			target = FROM
			type = take_core_state
		}
	}
}

# The Austrian Referendum - Italian Success
country_event = {
	id = italy.116
	title = italy.116.t
	desc = italy.116.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		name = italy.116.a #Huzzah!
		FROM = {
			every_owned_state = {
				limit = { is_core_of = ROOT }
				if = {
					limit = { is_core_of = AUS }
					AUS = { remove_state_core = PREV }
				}
				ROOT = { transfer_state = PREV }
			}
		}
	}
}

# Italy has taken South Austria - white peace?
country_event = {
	id = italy.117
	title = italy.117.t
	desc = italy.117.d
	picture = GFX_report_event_generic_towar

	fire_only_once = yes

	trigger = {
		OR = {
			has_war_with = ITA
			has_war_with = SRI
		}
		OR = {
			AND = {
				has_war_with = ITA
				surrender_progress > 0.20
				ITA = {
					NOT = { surrender_progress > 0.20 }
					has_country_flag = ITA_austrian_war
				}
				any_owned_state = { is_core_of = ITA }
				NOT = {
					any_owned_state = {
						is_core_of = ITA
						is_controlled_by = ROOT
					}
				}
			}
			AND = {
				has_war_with = SRI
				surrender_progress > 0.20
				SRI = {
					NOT = { surrender_progress > 0.20 }
					has_country_flag = ITA_austrian_war
				}
				any_owned_state = { is_core_of = SRI }
				NOT = {
					any_owned_state = {
						is_core_of = SRI
						is_controlled_by = ROOT
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		random_enemy_country = {
			limit = { has_country_flag = ITA_austrian_war }
			clr_country_flag = ITA_austrian_war
			save_event_target_as = aggressor
		}
	}

	option = {
		name = italy.117.a #Sign a peace treaty and cede all disputed territory to the Italians
		ai_chance = { factor = 90 }
		add_political_power = -100
		event_target:aggressor = { country_event = { id = italy.118 } }
	}
	option = {
		name = italy.117.b #This war won't be over until we're marching on Rome!
		ai_chance = { factor = 10 }
		add_political_power = 100
	}
}

# Sued for peace: South Austria is surrendered
country_event = {
	id = italy.118
	title = italy.118.t
	desc = italy.118.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	option = {
		name = italy.118.a #Yes, let's end this now
		ai_chance = { factor = 100 }
		add_political_power = 100
		FROM = {
			white_peace_with_ROOT = yes
			every_owned_state = {
				limit = { is_core_of = ROOT }
				if = {
					limit = { is_core_of = AUS }
					AUS = { remove_state_core = PREV }
				}
				ROOT = { transfer_state = PREV }
			}
		}
	}
	option = {
		name = italy.118.b #This war won't be over until we're marching on [From.Capital.GetName]!
		ai_chance = { factor = 0 }
		add_political_power = -100
	}
}

# Austria is winning - white peace?
country_event = {
	id = italy.119
	title = italy.119.t
	desc = italy.119.d
	picture = GFX_report_event_generic_towar

	fire_only_once = yes

	trigger = {
		OR = {
			is_italian_federation = yes
			tag = SRI
		}
		has_country_flag = ITA_austrian_war
		has_war_with = AUS
		surrender_progress > 0.20
		AUS = {
			NOT = {
				surrender_progress > 0.10
				any_owned_state = {
					is_core_of = ROOT
					is_controlled_by = ROOT
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		clr_country_flag = ITA_austrian_war
	}

	option = {
		name = italy.119.a #Sign a peace treaty and give up all our claims
		ai_chance = { factor = 90 }
		add_political_power = -100
		AUS = { country_event = { id = italy.120 } }
	}
	option = {
		name = italy.119.b #This war won't be over until we're marching on Vienna!
		ai_chance = { factor = 10 }
		add_political_power = 100
	}
}

# Sued for peace: Italy gives up claims
country_event = {
	id = italy.120
	title = italy.120.t
	desc = italy.120.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	option = {
		name = italy.120.a #Yes, let's end this now
		ai_chance = { factor = 100 }
		add_political_power = 100
		FROM = { white_peace_with_ROOT = yes }
		every_owned_state = {
			limit = { is_core_of = FROM }
			remove_core_of = FROM
		}
	}
	option = {
		name = italy.120.b #This war won't be over until we're marching on [From.Capital.GetName]!
		ai_chance = { factor = 0 }
		add_political_power = -100
	}
}

# Italy failed to take South Austria in the war
country_event = {
	id = italy.121
	title = italy.121.t
	desc = italy.121.d

	fire_only_once = yes

	trigger = {
		OR = {
			is_italian_federation = yes
			tag = SRI
		}
		has_country_flag = ITA_austrian_war
		has_war = no
		AUS = { any_owned_state = { is_core_of = ROOT } }
	}

	mean_time_to_happen = {
		days = 30
	}

	option = {
		name = italy.121.a
		clr_country_flag = ITA_austrian_war
		add_political_power = -100
	}
}

# LIBYA EVENTS

# Italy offers to buy Libya
country_event = {
	id = italy.130
	title = italy.130.t
	desc = italy.130.d
	picture = GFX_LBA_Timbuktu

	is_triggered_only = yes

	immediate = {
		random_country = {
			limit = {
				owns_state = 448 #Tripoli
				is_subject_of = ROOT
			}
			save_event_target_as = puppet_owner
		}
	}

	option = {
		name = italy.130.a #Accept their offer and give them Libya
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 2
				has_opinion = { target = FROM value > 20 }
			}
			modifier = {
				factor = 2
				has_opinion = { target = FROM value > 50 }
			}
			modifier = {
				factor = 0
				has_opinion = { target = FROM value < -20 }
			}
			modifier = {
				factor = 0
				458 = { is_core_of = ROOT }
			}
			modifier = {
				factor = 0
				has_government = national_populist
			}
			modifier = {
				factor = 0
				has_socialist_government = yes
				FROM = { NOT = { has_socialist_government = yes } }
			}
			modifier = {
				factor = 0
				NOT = { has_socialist_government = yes }
				FROM = { has_socialist_government = yes }
			}
		}
		add_political_power = -100
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = ITA_sold_us_libya }
			effect_tooltip = {
				send_equipment = { target = ROOT type = infantry_equipment amount = 2500 }
				diplomatic_relation = { country = ROOT relation = non_aggression_pact }
				if = {
					limit = { NOT = { gives_military_access_to = ROOT } }
					ROOT = { give_military_access = PREV }
				}
				if = {
					limit = { event_target:puppet_owner = { owns_state = 448 } }
					puppet = event_target:puppet_owner
				}
				ROOT = {
					every_owned_state = {
						limit = { is_core_of = LBA }
						FROM = { transfer_state = PREV }
					}
				}
			}
			country_event = { id = italy.131 }
		}
	}
	option = {
		name = italy.130.b #They're joking, right?
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0.5
				FROM = { gives_military_access_to = ROOT }
			}
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = ITA_hates_govt }
			diplomatic_relation = { country = ROOT relation = non_aggression_pact active = no }
			if = {
				limit = { gives_military_access_to = ROOT }
				diplomatic_relation = { country = ROOT relation = military_access active = no }
			}
			country_event = { id = italy.132 }
		}
	}
}

# Libya has been bought
country_event = {
	id = italy.131
	title = italy.131.t
	desc = italy.131.d
	picture = GFX_LBA_Camel2

	is_triggered_only = yes

	option = {
		name = italy.131.a
		send_equipment = { target = FROM type = infantry_equipment amount = 2500 }
		diplomatic_relation = { country = FROM relation = non_aggression_pact }
		if = {
			limit = { NOT = { gives_military_access_to = FROM } }
			FROM = { give_military_access = ROOT }
		}
		if = {
			limit = { event_target:puppet_owner = { owns_state = 448 } }
			puppet = event_target:puppet_owner
			event_target:puppet_owner = { country_event = italy.141 }
		}
		FROM = {
			every_owned_state = {
				limit = { is_core_of = LBA }
				ROOT = { transfer_state = PREV }
			}
		}
	}
}

# Libya's sale has been refused
country_event = {
	id = italy.132
	title = italy.132.t
	desc = italy.132.d
	picture = GFX_LBA_Camel2

	is_triggered_only = yes

	option = {
		name = italy.132.a #Threaten them with war
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				OR = {
					has_socialist_government = yes
					has_government = national_populist
				}
			}
			modifier = {
				factor = 0.1
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 0.25
				is_in_faction = no
				FROM = {
					has_war = no
					OR = {
						is_in_faction = yes
						strength_ratio = { tag = ROOT ratio > 1.5 }
					}
				}
			}
		}
		if = {
			limit = { is_in_faction_with = FROM }
			remove_from_faction = ROOT
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = ITA_outraged }
			country_event = { id = italy.133 days = 3 }
		}
	}
	option = {
		name = italy.132.b #It is too risky...
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0.3
				strength_ratio = { tag = FROM ratio > 1.0 }
			}
			modifier = {
				factor = 0.3
				strength_ratio = { tag = FROM ratio > 1.5 }
			}
			modifier = {
				factor = 0.5
				FROM = { has_war = yes }
			}
		}
		add_political_power = -100
	}
}

# Italy makes an ultimatum: turn over Libya or else...
country_event = {
	id = italy.133
	title = italy.133.t
	desc = italy.133.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	trigger = {
		OR = {
			owns_state = 448 #Tripoli
			any_country = {
				owns_state = 448
				is_subject_of = ROOT
			}
		}
	}
	
	immediate = {
		FROM = { save_event_target_as = aggressor }
	}

	option = {
		name = italy.133.a #Right, right, we don't even need Libya that much anyway...
		ai_chance = {
			factor = 5
			modifier = {
				factor = 5
				has_war = yes
				surrender_progress > 0.10
			}
		}
		add_political_power = -300
		FROM = {
			effect_tooltip = {
				if = {
					limit = { event_target:puppet_owner = { owns_state = 448 } }
					puppet = event_target:puppet_owner
				}
				ROOT = {
					every_owned_state = {
						limit = { is_core_of = LBA }
						event_target:aggressor = { transfer_state = PREV }
					}
				}
			}
			country_event = { id = italy.134 hours = 3 }
		}
	}
	option = {
		name = italy.133.b #Such insolence will be punished!
		ai_chance = {
			factor = 95
			modifier = {
				factor = 0.5
				has_war = yes
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 0.75 }
			}
		}
		FROM = { set_country_flag = ITA_libya_war }
		add_political_power = 100
		diplomatic_relation = { country = FROM relation = non_aggression_pact active = no }
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
}

# The ultimatum succeeds: Libya is surrendered
country_event = {
	id = italy.134
	title = italy.134.t
	desc = italy.134.d
	picture = GFX_report_event_libya

	is_triggered_only = yes

	immediate = {
		random_country = {
			limit = {
				owns_state = 448 #Tripoli
				is_subject_of = FROM
			}
			save_event_target_as = puppet_owner
		}
	}

	option = {
		name = italy.134.a
		add_political_power = 100
		if = {
			limit = { event_target:puppet_owner = { owns_state = 448 } }
			puppet = event_target:puppet_owner
			event_target:puppet_owner = { country_event = italy.141 }
		}
		FROM = {
			every_owned_state = {
				limit = { is_core_of = LBA }
				ROOT = { transfer_state = PREV }
			}
		}
	}
}

# Libya's owner is winning - white peace?
country_event = {
	id = italy.135
	title = italy.135.t
	desc = italy.135.d
	picture = GFX_report_event_generic_towar

	fire_only_once = yes

	trigger = {
		has_war = yes
		NOT = { surrender_progress > 0.10 }
		any_enemy_country = {
			has_war_with = ROOT
			has_country_flag = ITA_libya_war
			surrender_progress > 0.20
		}
		OR = {
			AND = {
				owns_state = 448
				controls_state = 448
			}
			any_country = {
				is_subject_of = ROOT
				owns_state = 448
				controls_state = 448
			}
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		random_enemy_country = {
			limit = { has_country_flag = ITA_libya_war }
			clr_country_flag = ITA_libya_war
			save_event_target_as = aggressor
		}
	}

	option = {
		name = italy.135.a #Send an envoy to demand peace and concessions
		ai_chance = {
			factor = 70
			modifier = {
				factor = 1.5
				event_target:aggressor = { NOT = { surrender_progress > 0.10 } }
			}
		}
		add_political_power = 100
		event_target:aggressor = { country_event = { id = italy.136 } }
	}
	option = {
		name = italy.135.b #This war won't be over until we're marching on Rome!
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0.5
				event_target:aggressor = { NOT = { surrender_progress > 0.10 } }
			}
		}
		add_political_power = -100
	}
}

# Sued for peace: Italy gives up claims
country_event = {
	id = italy.136
	title = italy.136.t
	desc = italy.136.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	option = {
		name = italy.136.a #Yes, let's end this now
		ai_chance = { factor = 100 }
		add_political_power = -300
		FROM = { white_peace_with_ROOT = yes }
		every_state = {
			limit = {
				is_claimed_by = ROOT
				is_core_of = LBA
			}
			ROOT = { remove_state_claim = PREV }
		}
		if = {
			limit = { owns_state = 115 } #Sicily
			FROM = { transfer_state = 115 }
		}
		if = {
			limit = { owns_state = 116 } #Malta
			FROM = { transfer_state = 116 }
		}
		if = {
			limit = { any_owned_state = { is_core_of = TUN } }
			every_owned_state = {
				limit = { is_core_of = TUN }
				FROM = { transfer_state = PREV }
			}
		}
		if = {
			limit = { MLT = { is_subject_of = ROOT } }
			FROM = { puppet = MLT }
		}
		if = {
			limit = { TUN = { is_subject_of = ROOT } }
			FROM = { puppet = TUN }
		}
	}
	option = {
		name = italy.136.b #No, we can still win this!
		ai_chance = { factor = 0 }
		add_political_power = -100
	}
}

# Italy has taken Libya - white peace?
country_event = {
	id = italy.137
	title = italy.137.t
	desc = italy.137.d
	picture = GFX_report_event_generic_towar

	fire_only_once = yes

	trigger = {
		has_war = yes
		any_enemy_country = {
			has_war_with = ROOT
			NOT = { any_owned_state = { is_controlled_by = ROOT } }
			NOT = { surrender_progress > 0.10 }
			has_country_flag = ITA_libya_war
			OR = {
				controls_state = 448
				any_allied_country = { controls_state = 448 }
			}
		}
		OR = {
			owns_state = 448
			any_country = {
				is_subject_of = ROOT
				owns_state = 448
			}
		}
		NOT = {
			any_owned_state = {
				is_core_of = LBA
				is_controlled_by = ROOT
			}
			any_country = {
				is_subject_of = ROOT
				any_owned_state = {
					is_core_of = LBA
					is_controlled_by = PREV
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		random_enemy_country = {
			limit = { has_country_flag = ITA_libya_war }
			clr_country_flag = ITA_libya_war
			save_event_target_as = aggressor
		}
	}

	option = {
		name = italy.137.a #Sign a peace treaty and cede Libya to the Italians
		ai_chance = { factor = 90 }
		add_political_power = -100
		event_target:aggressor = { country_event = { id = italy.138 } }
	}
	option = {
		name = italy.137.b #This war won't be over until we're marching on Rome!
		ai_chance = { factor = 10 }
		add_political_power = 100
	}
}

# Sued for peace: Libya is surrendered
country_event = {
	id = italy.138
	title = italy.138.t
	desc = italy.138.d
	picture = GFX_report_event_generic_towar

	is_triggered_only = yes

	option = {
		name = italy.138.a #Yes, let's end this now
		ai_chance = { factor = 100 }
		add_political_power = 100
		FROM = { white_peace_with_ROOT = yes }
		if = {
			limit = { event_target:puppet_owner = { owns_state = 448 } }
			puppet = event_target:puppet_owner
			else = {
				FROM = {
					every_owned_state = {
						limit = { is_core_of = LBA }
						ROOT = { transfer_state = PREV }
					}
				}
			}
		}
	}
	option = {
		name = italy.138.b #This war won't be over until we're marching on [From.Capital.GetName]!
		ai_chance = { factor = 0 }
		add_political_power = -100
	}
}

# Libya is integrated into Italy
country_event = {
	id = italy.139
	title = italy.139.t
	desc = italy.139.d
	picture = GFX_report_event_libya

	fire_only_once = yes

	trigger = {
		OR = {
			is_italian_federation = yes
			tag = SRI
		}
		has_war = no
		any_owned_state = {
			is_core_of = LBA
			NOT = { is_core_of = ROOT }
		}
	}

	mean_time_to_happen = {
		months = 6
		modifier = {
			factor = 0.5
			any_owned_state = {
				is_core_of = LBA
				NOT = { is_core_of = ROOT }
				is_claimed_by = ROOT
			}
		}
	}

	immediate = { clr_country_flag = ITA_libya_war }

	option = {
		name = italy.139.a #Integrate Libya into Italy proper
		ai_chance = { factor = 5 }
		add_political_power = -50
		every_owned_state = {
			limit = { is_core_of = LBA }
			add_core_of = ROOT
		}
	}
	option = {
		name = italy.139.b #Create Italian North Africa
		trigger = {
			owns_state = 448
			NOT = { country_exists = LBA }
		}
		ai_chance = { factor = 50 }
		add_political_power = 100
		every_state = {
			limit = {
				is_core_of = LBA
				is_owned_by = ROOT
			}
			remove_core_of = ROOT
			remove_claim_by = ROOT
			LBA = { transfer_state = PREV }
		}
		puppet = LBA
	}
	option = {
		name = italy.139.c #Integrate the lands into Italian North Africa
		trigger = {
			LBA = { is_subject_of = ROOT }
		}
		ai_chance = { factor = 50 }
		add_political_power = 100
		every_state = {
			limit = {
				is_core_of = LBA
				is_owned_by = ROOT
			}
			remove_core_of = ROOT
			remove_claim_by = ROOT
			LBA = { transfer_state = PREV }
		}
	}
}

# Italy failed to take Libya in the war
country_event = {
	id = italy.140
	title = italy.140.t
	desc = italy.140.d
	picture = GFX_report_event_libya

	fire_only_once = yes

	trigger = {
		OR = {
			is_italian_federation = yes
			tag = SRI
		}
		has_country_flag = ITA_libya_war
		has_war = no
		NOT = {
			any_owned_state = { is_core_of = LBA }
			any_country = {
				is_subject_of = ROOT
				any_owned_state = { is_core_of = LBA }
			}
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	option = {
		name = italy.140.a
		clr_country_flag = ITA_libya_war
		add_political_power = -100
	}
}

# Puppet has been 'sold' to the Italians - do we submit
country_event = {
	id = italy.141
	title = italy.141.t
	desc = italy.141.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				is_in_faction = yes
				NOT = { is_in_faction_with = FROM }
			}
			remove_from_faction = ROOT
		}
	}

	option = {
		name = italy.141.a #We will submit to our new masters
		ai_chance = {
			factor = 75
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 0.5 }
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 0.25 }
			}
		}
		add_political_power = -100
	}
	option = {
		name = italy.141.b #Never! We will fight for our independence!
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				tag = LBA
			}
			modifier = {
				factor = 0
				tag = MLT
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = FROM ratio > 0.75 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = FROM ratio > 1.00 }
			}
		}
		add_political_power = 100
		FROM = { end_puppet = ROOT }
		if = {
			limit = { is_in_faction_with = FROM }
			random_country = {
				limit = {
					is_in_faction_with = ROOT
					is_faction_leader = yes
				}
				remove_from_faction = ROOT
			}
		}
		FROM = {
			country_event = { id = italy.142 days = 3  }
		}
	}
}

# New puppet resists being purchased
country_event = {
	id = italy.142
	title = italy.142.t
	desc = italy.142.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		name = italy.142.a #Let them go
		ai_chance = {
			factor = 5
			modifier = {
				factor = 5
				has_war = yes
			}
		}
		add_political_power = -100
	}
	option = {
		name = italy.142.b #Oh, really?
		ai_chance = {
			factor = 95
		}
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
}

# Italy attempts to join a faction
country_event = {
	id = italy.18
	title = italy.18.t
	desc = italy.18.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		name = italy.18.a #Admit them into the faction
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				has_guaranteed = FROM
			}
			modifier = {
				factor = 1.5
				tag = AUS
			}
			modifier = {
				factor = 0.5
				tag = CAN
				FROM = { NOT = { has_cosmetic_tag = ITA_republic } }
			}
		}
		effect_tooltip = { add_to_faction = FROM }
		FROM = { country_event = { id = italy.20 } }
	}
	option = {
		name = italy.18.b #We will guarantee their independence instead
		trigger = {
			NOT = {
				original_tag = RUS
				original_tag = TRM
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = ITA_forpol
						option = ITA_FORPOL_REICHSPAKT
					}
					has_game_rule = {
						rule = ITA_forpol
						option = ITA_FORPOL_AUSTRIA
					}
					has_game_rule = {
						rule = ITA_forpol
						option = ITA_FORPOL_ENTENTE
					}
				}
			}
			modifier = {
				factor = 1.5
				tag = AUS
			}
			modifier = {
				factor = 0.5
				tag = CAN
				FROM = { NOT = { has_cosmetic_tag = ITA_republic } }
			}
		}
		effect_tooltip = {
			give_guarantee = FROM
			give_military_access = FROM
		}
		FROM = { country_event = { id = italy.21 } }
	}
	option = {
		name = italy.18.c #They are on their own
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = ITA_forpol option = ITA_FORPOL_REICHSPAKT }
					has_game_rule = { rule = ITA_forpol option = ITA_FORPOL_AUSTRIA }
					has_game_rule = { rule = ITA_forpol option = ITA_FORPOL_ENTENTE }
					has_game_rule = { rule = ITA_forpol option = ITA_FORPOL_RUSSIA }
				}
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = FROM value > 20 }
			}
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value > 50 }
			}
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value > 100 }
			}
			modifier = {
				factor = 1.2
				has_opinion = { target = FROM value < 0 }
			}
			modifier = {
				factor = 1.5
				has_opinion = { target = FROM value < -50 }
			}
			modifier = {
				factor = 2
				has_opinion = { target = FROM value < -100 }
			}
			modifier = {
				factor = 0.5
				tag = AUS
			}
			modifier = {
				factor = 1.5
				tag = CAN
				FROM = { NOT = { has_cosmetic_tag = ITA_republic } }
			}
			modifier = {
				factor = 1.5
				FROM = { has_government = national_populist }
				NOT = { original_tag = RUS }
			}
		}
		FROM = { country_event = { id = italy.22 } }
	}
}

# Italy seeks a country's protection
country_event = {
	id = italy.19
	title = italy.19.t
	desc = italy.19.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		name = italy.19.a #That sounds like an excellent deal
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				tag = AUS
			}
			modifier = {
				factor = 0.5
				tag = CAN
				FROM = { NOT = { has_cosmetic_tag = ITA_republic } }
			}
		}
		effect_tooltip = {
			give_guarantee = FROM
			give_military_access = FROM
		}
		FROM = { country_event = { id = italy.21 } }
	}
	option = {
		name = italy.19.b #They are on their own
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = FROM value > 20 }
			}
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value > 50 }
			}
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value > 100 }
			}
			modifier = {
				factor = 1.2
				has_opinion = { target = FROM value < 0 }
			}
			modifier = {
				factor = 1.5
				has_opinion = { target = FROM value < -50 }
			}
			modifier = {
				factor = 2
				has_opinion = { target = FROM value < -100 }
			}
			modifier = {
				factor = 0.5
				tag = AUS
			}
			modifier = {
				factor = 1.5
				tag = CAN
				FROM = { NOT = { has_cosmetic_tag = ITA_republic } }
			}
			modifier = {
				factor = 1.5
				FROM = { has_government = national_populist }
			}
		}
		FROM = { country_event = { id = italy.22 } }
	}
}

# Italy is admitted to a faction
country_event = {
	id = italy.20
	title = italy.20.t
	desc = italy.20.d
	picture = diplomacy3

	is_triggered_only = yes

	option = {
		name = italy.20.a
		add_political_power = 40
		FROM = { add_to_faction = ROOT }
	}
}

# Italy is given guarantee rather than admission to a faction
country_event = {
	id = italy.21
	title = italy.21.t
	desc = italy.21.d
	picture = diplomacy3

	is_triggered_only = yes

	option = {
		name = italy.21.a
		add_political_power = 20
		FROM = { give_guarantee = ROOT }
		FROM = { give_military_access = ROOT }
		hidden_effect = {
			every_country = {
				limit = { is_in_faction_with = FROM }
				give_military_access = ROOT
			}
		}
	}
	
	option = { #Let us spit on this guarantee, Tfu Tfu
		name = italy.21.b
		FROM = { country_event = { id = italy.24 } }
		custom_effect_tooltip = ITA_choose_different_faction
		hidden_effect = {
			country_event = { id = italy.25 days = 3 }
		}
	}
}

# Italy is turned down
country_event = {
	id = italy.22
	title = italy.22.t
	desc = italy.22.d
	picture = GFX_report_event_worried_french

	is_triggered_only = yes

	option = {
		name = italy.22.a
		add_political_power = -20
		hidden_effect = {
			country_event = { id = italy.25 days = 3 }
		}
	}
}

# The spread of Italian cores
country_event = {
	id = italy.23
	title = italy.23.t
	desc = italy.23.d

	trigger = {
		is_italian_federation = yes
		any_owned_state = {
			NOT = { is_core_of = ITA }
			OR = {
				any_neighbor_state = { is_core_of = ITA }
				state = 1 #Corsica
				state = 153 #Dalmatia
			}
			OR = {
				is_core_of = SRI
				state = 1 #Corsica
				state = 39 #Sudtirol
				state = 160 #Veneto
				state = 153 #Dalmatia
				state = 735 #Savoy
				state = 943 #Alta Savoya
				state = 736 #Kustenland
				state = 1100 #Kustenland
				state = 1144 #Kustenland
				state = 759 #Friuli
				state = 761 #Ticino
				state = 762 #Nice
				state = 783 #Trentino
				state = 794 #Trieste
			}
		}
	}

	mean_time_to_happen = {
		months = 4
		modifier = {
			factor = 0.5
			any_owned_state = {
				NOT = { is_core_of = ITA }
				is_claimed_by = ITA
				OR = {
					any_neighbor_state = { is_core_of = ITA }
					state = 1 #Corsica
					state = 153 #Dalmatia
				}
				OR = {
					is_core_of = SRI
					state = 1 #Corsica
					state = 39 #Sudtirol
					state = 160 #Veneto
					state = 153 #Dalmatia
					state = 735 #Savoy
					state = 943 #Alta Savoya
					state = 736 #Kustenland
					state = 1100 #Kustenland
					state = 1144 #Kustenland
					state = 759 #Friuli
					state = 761 #Ticino
					state = 762 #Nice
					state = 783 #Trentino
					state = 794 #Trieste
				}
			}
		}
	}

	immediate = {
		#First check for claimed states
		random_owned_state = {
			limit = {
				NOT = { is_core_of = ITA }
				is_claimed_by = ITA
				OR = {
					any_neighbor_state = { is_core_of = ITA }
					state = 1 #Corsica
					state = 153 #Dalmatia
				}
				OR = {
					is_core_of = SRI
					state = 1 #Corsica
					state = 39 #Sudtirol
					state = 160 #Veneto
					state = 153 #Dalmatia
					state = 735 #Savoy
					state = 943 #Alta Savoya
					state = 736 #Kustenland
					state = 1100 #Kustenland
					state = 1144 #Kustenland
					state = 759 #Friuli
					state = 761 #Ticino
					state = 762 #Nice
					state = 783 #Trentino
					state = 794 #Trieste
				}
			}
			save_event_target_as = new_italian_core
		}
		#Failing that, any remaining states will do
		random_owned_state = {
			limit = {
				NOT = { event_target:new_italian_core = { always = yes } }
				NOT = { is_core_of = ITA }
				OR = {
					any_neighbor_state = { is_core_of = ITA }
					state = 1 #Corsica
					state = 153 #Dalmatia
				}
				OR = {
					is_core_of = SRI
					state = 1 #Corsica
					state = 39 #Sudtirol
					state = 160 #Veneto
					state = 153 #Dalmatia
					state = 735 #Savoy
					state = 943 #Alta Savoya
					state = 736 #Kustenland
					state = 1100 #Kustenland
					state = 1144 #Kustenland
					state = 759 #Friuli
					state = 761 #Ticino
					state = 762 #Nice
					state = 783 #Trentino
					state = 794 #Trieste
				}
			}
			save_event_target_as = new_italian_core
		}
	}

	option = {
		name = italy.23.a
		event_target:new_italian_core = { add_core_of = ITA }
	}
}

#Italian Rejection
country_event = {
	id = italy.24
	title = italy.24.t
	desc = italy.24.d
	picture = diplomacy3

	is_triggered_only = yes

	option = {
		name = italy.24.a
	}
}

#Find new option
country_event = {
	id = italy.25
	title = italy.25.t
	desc = italy.25.d
	picture = diplomacy3

	is_triggered_only = yes

	option = {#Try Austria
		name = italy.25.a
		trigger = {
			NOT = { has_country_flag = ITA_austria_faction_asked }
			country_exists = AUS
			OR = {
				has_country_leader = { name = "Julius IV" }
				NOT = { has_government = national_populist }
			}
			NOT = { any_owned_state = { is_core_of = AUS } }
			OR = {
				has_socialist_government = no
				has_completed_focus = ITA_reconcile_german
			}
		}
		ai_chance = {
			factor = 2
			modifier = {
				factor = 2
				has_cosmetic_tag = ITA_kingdom
				NOT = { has_country_flag = ITA_savoyard_on_throne }
			}
			modifier = {
				factor = 0
				AUS = {
					has_war = yes
					surrender_progress > 0.25
				}
			}
			modifier = {
				factor = 0
				AUS = {
					strength_ratio = {
						tag = ITA
						ratio < 1.0
					}
				}
			}
			modifier = {
				factor = 0
				OR = {
					AUS = { any_owned_state = { is_core_of = ITA } }
					any_country = {
						is_in_faction_with = AUS
						any_owned_state = { is_core_of = ITA }
					}
				}
			}
		}
		set_country_flag = ITA_austria_faction_asked
		add_opinion_modifier = {
			target = AUS
			modifier = KR_approves_of_govt
		}
		reverse_add_opinion_modifier = {
			target = AUS
			modifier = KR_approves_of_govt
		}
		if = {
			limit = { AUS = { is_faction_leader = yes } }
			AUS = { country_event = italy.18 }
		}
		else = { AUS = { country_event = italy.19 } }
	}
	
	option = { #Try Germany
		name = italy.25.b
		trigger = {
			NOT = { has_country_flag = ITA_germany_faction_asked }
			country_exists = GER
			GER = {
				is_faction_leader = yes
				NOT = { any_owned_state = { is_core_of = ITA } }
			}
			OR = {
				has_socialist_government = no
				has_completed_focus = ITA_reconcile_german
			}
		}
		ai_chance = {
			factor = 3
			modifier = {
				factor = 0.1
				GER = {
					has_war = yes
					surrender_progress > 0.25
				}
			}
			modifier = {
				factor = 0.1
				strength_ratio = {
					tag = GER
					ratio > 1.0
				}
			}
			modifier = {
				factor = 0
				OR = {
					GER = { any_owned_state = { is_core_of = ITA } }
					any_country = {
						is_in_faction_with = GER
						any_owned_state = { is_core_of = ITA }
					}
				}
			}
		}
		hidden_effect = {
			set_country_flag = ITA_germany_faction_asked
			add_opinion_modifier = {
				target = GER
				modifier = KR_approves_of_govt
			}
			reverse_add_opinion_modifier = {
				target = GER
				modifier = KR_approves_of_govt
			}
			GER = { country_event = italy.18 }
		}
	}
	
	option = { #Try Entente
		name = italy.25.c
		trigger = {
			NOT = { has_country_flag = ITA_canada_faction_asked }
			country_exists = ENT
			ENT = { is_faction_leader = yes }
			has_socialist_government = no
		}
		ai_chance = {
			factor = 2
			modifier = {
				factor = 1.5
				OR = {
					has_cosmetic_tag = ITA_republic
					has_country_flag = ITA_bourbon_on_throne
					has_country_flag = ITA_savoyard_on_throne
				}
			}
			modifier = {
				factor = 0.1
				ENT = {
					has_war = yes
					surrender_progress > 0.25
				}
			}
			modifier = {
				factor = 0.1
				OR = {
					ENT = { any_owned_state = { is_core_of = ITA } }
					any_country = {
						is_in_faction_with = ENT
						any_owned_state = { is_core_of = ITA }
					}
				}
			}
		}
		hidden_effect = {
			set_country_flag = ITA_canada_faction_asked
			add_opinion_modifier = {
				target = ENT
				modifier = KR_approves_of_govt
			}
			reverse_add_opinion_modifier = {
				target = ENT
				modifier = KR_approves_of_govt
			}
			ENT = { country_event = italy.18 }
		}
	}
	
	option = { #Try Russia
		name = italy.25.f
		trigger = {
			NOT = { 
				has_country_flag = ITA_russia_faction_asked
				tag = SRI
			}
			has_completed_focus = ITA_Irredentism
			OR = {
				custom_trigger_tooltip = {
					tooltip = ITA_is_republic
					has_cosmetic_tag = ITA_republic
				}
				has_country_flag = ITA_bourbon_on_throne
				has_country_flag = ITA_savoyard_on_throne
			}
			OR = {
				AND = {
					RUS = {
						NOT = { has_country_flag = soviet_russia_restored }
						is_faction_leader = yes
						exists = yes
					}
					OR = {
						AND = {
							has_socialist_government = yes
							RUS = { has_socialist_government = yes }
						}
						AND = {
							has_socialist_government = no
							RUS = { has_socialist_government = no }
						}
					}
				}
				TRM = {
					NOT = { 
						has_country_flag = soviet_russia_restored
						has_socialist_government = yes
					}
					is_faction_leader = yes
					exists = yes
					has_country_flag = TRM_become_russia
				}
			}
		}
		ai_chance = {
			factor = 2
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = ITA_forpol
						option = ITA_FORPOL_ENTENTE
					}
					has_game_rule = {
						rule = ITA_forpol
						option = ITA_FORPOL_REICHSPAKT
					}
					has_game_rule = {
						rule = ITA_forpol
						option = ITA_FORPOL_AUSTRIA
					}
				}
			}
			modifier = {
				factor = 0.25
				NOT = {
					has_government = paternal_autocrat
					has_government = national_populist
					AND = {
						has_government = radical_socialist
						RUS = {
							OR = {
								has_government = social_democrat
								has_government = radical_socialist
							}
						}
					}
				}
			}
		}
		hidden_effect = {
			set_country_flag = ITA_russia_faction_asked
			if = {
				limit = {
					TRM = { 
						is_faction_leader = yes
						has_country_flag = TRM_become_russia
						owns_state = 3290
					}
					RUS = {
						OR = {
							exists = no
							is_subject = yes
						}
					}
				}
				TRM = { country_event = italy.18 }
				add_opinion_modifier = {
					target = TRM
					modifier = KR_approves_of_govt
				}
				reverse_add_opinion_modifier = {
					target = TRM
					modifier = KR_approves_of_govt
				}
			}
			else = {
				RUS = { country_event = italy.18 }
				add_opinion_modifier = {
					target = RUS
					modifier = KR_approves_of_govt
				}
				reverse_add_opinion_modifier = {
					target = RUS
					modifier = KR_approves_of_govt
				}
			}
		}
	}
	
	option = { #insert blackjack and hookers joke
		name = italy.25.e
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				has_government = national_populist
			}
			modifier = {
				factor = 2
				is_actual_major = yes
			}
		}
		country_event = itaforpol.1
		add_political_power = 30
		add_stability = 0.05
	}
}