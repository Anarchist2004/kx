UKR_Rad_minor_increase = {
	custom_effect_tooltip = UKR_Rad_minor_increase
	add_to_variable = { var = UKR_Land_Reform_Popularity value = 5 }
}
UKR_Rad_major_increase = {
	custom_effect_tooltip = UKR_Rad_major_increase
	add_to_variable = { var = UKR_Land_Reform_Popularity value = 10 }
}
UKR_Rad_extreme_increase = {
	custom_effect_tooltip = UKR_Rad_extreme_increase
	add_to_variable = { var = UKR_Land_Reform_Popularity value = 20 }
}
UKR_Rad_minor_decrease = {
	custom_effect_tooltip = UKR_Rad_minor_decrease
	add_to_variable = { var = UKR_Land_Reform_Popularity value = -5 }
}
UKR_Rad_major_decrease = {
	custom_effect_tooltip = UKR_Rad_major_decrease
	add_to_variable = { var = UKR_Land_Reform_Popularity value = -10 }
}
UKR_Rad_extreme_decrease = {
	custom_effect_tooltip = UKR_Rad_extreme_decrease
	add_to_variable = { var = UKR_Land_Reform_Popularity value = -20 }
}
UKR_Mod_minor_increase = {
	custom_effect_tooltip = UKR_Mod_minor_increase
	add_to_variable = { var = UKR_Land_Reform_Success value = 5 }
}
UKR_Mod_major_increase = {
	custom_effect_tooltip = UKR_Mod_major_increase
	add_to_variable = { var = UKR_Land_Reform_Success value = 10 }
}
UKR_Mod_extreme_increase = {
	custom_effect_tooltip = UKR_Mod_extreme_increase
	add_to_variable = { var = UKR_Land_Reform_Success value = 20 }
}
UKR_Mod_minor_decrease = {
	custom_effect_tooltip = UKR_Mod_minor_decrease
	add_to_variable = { var = UKR_Land_Reform_Success value = -5 }
}
UKR_Mod_major_decrease = {
	custom_effect_tooltip = UKR_Mod_major_decrease
	add_to_variable = { var = UKR_Land_Reform_Success value = -10 }
}
UKR_Mod_extreme_decrease = {
	custom_effect_tooltip = UKR_Mod_extreme_decrease
	add_to_variable = { var = UKR_Land_Reform_Success value = -20 }
}
UKR_land_reform_borotbysts_weaken = {
	custom_effect_tooltip = UKR_land_reform_borotbysts_weaken
	add_to_variable = { var = UKR_Land_Reform_Borotbysts_extra value = -2 }
}
UKR_setup_cooperative_movement = {
	set_variable = { UKR.cooperatives_upper_limit = 0.4 }
	set_variable = { UKR.cooperatives_workers_level = 0.08 }
	set_variable = { UKR.cooperatives_agrarian_level = 0.12 }
	set_variable = { UKR.cooperatives_consumer_level = 0.15 }
	set_variable = { UKR.cooperatives_credit_level = 0.05 }
	
	
	set_variable = { UKR.cooperatives_political_power_cost = 0 }
	set_variable = { UKR.cooperatives_stability_factor = 0 }
	set_variable = { UKR.cooperatives_war_support_factor = 0 }
	set_variable = { UKR.cooperatives_consumer_goods_factor = -0.05 }
	set_variable = { UKR.cooperatives_production_factory_start_efficiency_factor = 0.03 }
	set_variable = { UKR.cooperatives_line_change_production_efficiency_factor = 0.02 }
	set_variable = { UKR.cooperatives_production_factory_efficiency_gain_factor = 0.03 }
	set_variable = { UKR.cooperatives_production_factory_max_efficiency_factor = 0.05 }
	set_variable = { UKR.cooperatives_production_speed_buildings_factor = 0.05 }
	set_variable = { UKR.cooperatives_global_building_slots_factor = 0 }
		
	add_dynamic_modifier = { modifier = UKR_cooperative_movement }
	
	UKR_recalculate_cooperatives = yes
}
UKR_recalculate_cooperatives_economic_law = {
	if = {
		limit = { has_idea = undisturbed_isolation }
		set_variable = { UKR.cooperatives_econ_law = 1 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = 0.02 }
	}
	else_if = {
		limit = { has_idea = isolation }
		set_variable = { UKR.cooperatives_econ_law = 2 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = 0.03 }
	}
	else_if = {
		limit = { has_idea = low_economic_mobilisation }
		set_variable = { UKR.cooperatives_econ_law = 1 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = 0.05 }
		set_variable = { UKR.additional_cooperatives_war_support_factor = -0.05 }
	}
	else_if = {
		limit = { has_idea = partial_economic_mobilisation }
		set_variable = { UKR.cooperatives_econ_law = 1 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = 0.1 }
		set_variable = { UKR.additional_cooperatives_stability_factor = -0.05 }
		set_variable = { UKR.additional_cooperatives_war_support_factor = -0.05 }
	}
	else_if = {
		limit = { has_idea = war_economy }
		set_variable = { UKR.cooperatives_econ_law = 1 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = 0.1 }
		set_variable = { UKR.additional_cooperatives_stability_factor = -0.1 }
		set_variable = { UKR.additional_cooperatives_war_support_factor = -0.1 }
	}
	else_if = {
		limit = { has_idea = tot_economic_mobilisation }
		set_variable = { cooperatives_econ_law_to_change = 6 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = 0.15 }
		set_variable = { UKR.additional_cooperatives_stability_factor = -0.15 }
		set_variable = { UKR.additional_cooperatives_war_support_factor = -0.15 }
	}	
	add_to_variable = { UKR.cooperatives_consumer_goods_factor = UKR.additional_cooperatives_econ_law }
	add_to_variable = { UKR.cooperatives_stability_factor = UKR.additional_cooperatives_stability_factor }
	add_to_variable = { UKR.cooperatives_war_support_factor = UKR.additional_cooperatives_war_support_factor }
}
UKR_recalculate_cooperatives_trade_law = {
	if = {
		limit = { has_idea = command_economy }
		set_variable = { UKR.cooperatives_trade_law = 0.05 }
	}
	else_if = {
		limit = { has_idea = free_trade }
		set_variable = { UKR.cooperatives_trade_law = -0.07 }
	}
	else_if = {
		limit = { has_idea = export_focus }
		set_variable = { UKR.cooperatives_trade_law =  -0.03 }
	}
	else_if = {
		limit = { has_idea = limited_exports }
		set_variable = { UKR.cooperatives_trade_law = 0.03 }
	}
	else_if = {
		limit = { has_idea = closed_economy }
		set_variable = { UKR.cooperatives_trade_law = 0.07 }
	}
	add_to_variable = { UKR.cooperatives_consumer_goods_factor = UKR.cooperatives_trade_law }
}
UKR_recalculate_cooperatives_workers = {
	if = {
		limit = {
			check_variable = { cooperatives_workers_level > cooperatives_upper_limit }
		}
		set_variable = { UKR.additional_cooperatives_production_factory_max_efficiency_factor = -0.1 }
		set_variable = { UKR.additional_cooperatives_production_factory_start_efficiency_factor = -0.1 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.1 }
		set_variable = { UKR.additional_cooperatives_line_change_production_efficiency_factor = -0.1 }
		set_variable = { UKR.additional_cooperatives_production_factory_efficiency_gain_factor = -0.1 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_workers_level < 0.81 }
			check_variable = { cooperatives_workers_level > 0.69 }
		}
		set_variable = { UKR.cooperatives_workers_level_id = 1 }
		set_variable = { UKR.additional_cooperatives_production_factory_start_efficiency_factor = 0.12 }
		set_variable = { UKR.additional_cooperatives_line_change_production_efficiency_factor = 0.12 }
		set_variable = { UKR.additional_cooperatives_production_factory_efficiency_gain_factor = 0.12 }
		set_variable = { UKR.additional_cooperatives_production_factory_max_efficiency_factor = 0.12 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.1 }
		set_variable = { UKR.additional_cooperatives_agrarian_level = 0.1 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_workers_level < 0.71 }
			check_variable = { cooperatives_workers_level > 0.59 }
		}
		set_variable = { UKR.cooperatives_workers_level_id = 2 }
		set_variable = { UKR.additional_cooperatives_production_factory_start_efficiency_factor = 0.1 }
		set_variable = { UKR.additional_cooperatives_line_change_production_efficiency_factor = 0.1 }
		set_variable = { UKR.additional_cooperatives_production_factory_efficiency_gain_factor = 0.1 }
		set_variable = { UKR.additional_cooperatives_production_factory_max_efficiency_factor = 0.1 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.08 }
		set_variable = { UKR.additional_cooperatives_agrarian_level = 0.08 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_workers_level < 0.61 }
			check_variable = { cooperatives_workers_level > 0.49 }
		}
		set_variable = { UKR.cooperatives_workers_level_id = 3 }
		set_variable = { UKR.additional_cooperatives_production_factory_start_efficiency_factor = 0.08 }
		set_variable = { UKR.additional_cooperatives_line_change_production_efficiency_factor = 0.08 }
		set_variable = { UKR.additional_cooperatives_production_factory_efficiency_gain_factor = 0.08 }
		set_variable = { UKR.additional_cooperatives_production_factory_max_efficiency_factor = 0.08 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.06 }
		set_variable = { UKR.additional_cooperatives_agrarian_level = 0.07 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_workers_level < 0.51 }
			check_variable = { cooperatives_workers_level > 0.39 }
		}
		set_variable = { UKR.cooperatives_workers_level_id = 4 }
		set_variable = { UKR.additional_cooperatives_production_factory_max_efficiency_factor = 0.07 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.04 }
		set_variable = { UKR.additional_cooperatives_agrarian_level = 0.06 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_workers_level < 0.41 }
			check_variable = { cooperatives_workers_level > 0.29 }
		}
		set_variable = { UKR.cooperatives_workers_level_id = 5 }
		set_variable = { UKR.additional_cooperatives_production_factory_max_efficiency_factor = 0.05 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.03 }
		set_variable = { UKR.additional_cooperatives_agrarian_level = 0.05 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_workers_level < 0.31 }
			check_variable = { cooperatives_workers_level > 0.19 }
		}
		set_variable = { UKR.cooperatives_workers_level_id = 6 }
		set_variable = { UKR.additional_cooperatives_production_factory_max_efficiency_factor = 0.03 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.03 }
	}
	else = {
		set_variable = { UKR.cooperatives_workers_level_id = 7 }
		set_variable = { UKR.additional_cooperatives_production_factory_max_efficiency_factor = 0.02 }
	}
	add_to_variable = { UKR.cooperatives_agrarian_level = UKR.additional_cooperatives_agrarian_level }
	add_to_variable = { UKR.cooperatives_political_power_cost = UKR.additional_cooperatives_political_power_cost }
	add_to_variable = { UKR.cooperatives_production_factory_max_efficiency_factor = UKR.additional_cooperatives_production_factory_max_efficiency_factor }
	add_to_variable = { UKR.cooperatives_production_factory_start_efficiency_factor = UKR.additional_cooperatives_production_factory_start_efficiency_factor }
	add_to_variable = { UKR.cooperatives_line_change_production_efficiency_factor = UKR.additional_cooperatives_line_change_production_efficiency_factor }
	add_to_variable = { UKR.cooperatives_production_factory_efficiency_gain_factor = UKR.additional_cooperatives_production_factory_efficiency_gain_factor }
}
UKR_recalculate_cooperatives_agrarian = {
	if = {
		limit = {
			check_variable = { cooperatives_agrarian_level > cooperatives_upper_limit }
		}
		set_variable = { UKR.additional_cooperatives_global_building_slots_factor = -0.1 }
		set_variable = { UKR.additional_cooperatives_stability_factor = -0.1 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.1 }
		set_variable = { UKR.additional_cooperatives_production_factory_efficiency_gain_factor = -0.1 }
	}
	else_if = {
		limit = {
			check_variable = { cooperatives_agrarian_level < 0.81 }
			check_variable = { cooperatives_agrarian_level > 0.59 }
		}
		set_variable = { UKR.cooperatives_agrarian_level_id = 1 }
		set_variable = { UKR.additional_cooperatives_consumer_level = 0.1 }
		set_variable = { UKR.additional_cooperatives_global_building_slots_factor = 0.2 }
		set_variable = { UKR.additional_cooperatives_stability_factor = 0.1 }
		set_variable = { UKR.additional_cooperatives_production_factory_efficiency_gain_factor = -0.07 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.07 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_agrarian_level < 0.61 }
			check_variable = { cooperatives_agrarian_level > 0.49 }
		}
		set_variable = { UKR.cooperatives_agrarian_level_id = 2 }
		set_variable = { UKR.additional_cooperatives_consumer_level = 0.05 }
		set_variable = { UKR.additional_cooperatives_global_building_slots_factor = 0.1 }
		set_variable = { UKR.additional_cooperatives_stability_factor = 0.08 }
		set_variable = { UKR.additional_cooperatives_production_factory_efficiency_gain_factor = -0.05 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.05 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_agrarian_level < 0.41 }
			check_variable = { cooperatives_agrarian_level > 0.29 }
		}
		set_variable = { UKR.cooperatives_agrarian_level_id = 3 }
		set_variable = { UKR.additional_cooperatives_consumer_level = 0.03 }
		set_variable = { UKR.additional_cooperatives_stability_factor = 0.08 }
		set_variable = { UKR.additional_cooperatives_production_factory_efficiency_gain_factor = -0.03 }
	}
	else = { 
		set_variable = { UKR.cooperatives_agrarian_level_id = 4 }
		set_variable = { UKR.additional_cooperatives_consumer_level = 0.02 }
		set_variable = { UKR.additional_cooperatives_stability_factor = 0.05 }
		set_variable = { UKR.additional_cooperatives_production_factory_efficiency_gain_factor = -0.02 }
	}
	add_to_variable = { UKR.cooperatives_consumer_level = UKR.additional_cooperatives_consumer_level }
	add_to_variable = { UKR.cooperatives_global_building_slots_factor = UKR.additional_cooperatives_global_building_slots_factor }
	add_to_variable = { UKR.cooperatives_stability_factor = UKR.additional_cooperatives_stability_factor }
	add_to_variable = { UKR.cooperatives_political_power_cost = UKR.additional_cooperatives_political_power_cost }
	add_to_variable = { UKR.cooperatives_production_factory_efficiency_gain_factor = UKR.additional_cooperatives_production_factory_efficiency_gain_factor }
}
UKR_recalculate_cooperatives_consumer = {
	if = {
		limit = {
			check_variable = { cooperatives_consumer_level > cooperatives_upper_limit }
		}
		set_variable = { UKR.additional_cooperatives_war_support_factor = -0.1 }
		set_variable = { UKR.additional_cooperatives_stability_factor = -0.1 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.1 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_consumer_level < 0.81 }
			check_variable = { cooperatives_consumer_level > 0.69 }
		}
		set_variable = { UKR.cooperatives_consumer_level_id = 1 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = 0.2 }
		set_variable = { UKR.additional_cooperatives_stability_factor = 0.2 }
		set_variable = { UKR.additional_cooperatives_war_support_factor = -0.25 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.2 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_consumer_level < 0.71 }
			check_variable = { cooperatives_consumer_level > 0.59 }
		}
		set_variable = { UKR.cooperatives_consumer_level_id = 2 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = 0.175 }
		set_variable = { UKR.additional_cooperatives_stability_factor = 0.15 }
		set_variable = { UKR.additional_cooperatives_war_support_factor = -0.2 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.15 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_consumer_level < 0.61 }
			check_variable = { cooperatives_consumer_level > 0.49 }
		}
		set_variable = { UKR.cooperatives_consumer_level_id = 3 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = 0.15 }
		set_variable = { UKR.additional_cooperatives_stability_factor = 0.1 }
		set_variable = { UKR.additional_cooperatives_war_support_factor = -0.1 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.1 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_consumer_level < 0.51 }
			check_variable = { cooperatives_consumer_level > 0.39 }
		}
		set_variable = { UKR.cooperatives_consumer_level_id = 4 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = 0.125 }
		set_variable = { UKR.additional_cooperatives_stability_factor = 0.075 }
		set_variable = { UKR.additional_cooperatives_war_support_factor = -0.05 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.05 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_consumer_level < 0.41 }
			check_variable = { cooperatives_consumer_level > 0.29 }
		}
		set_variable = { UKR.cooperatives_consumer_level_id = 5 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = 0.1 }
		set_variable = { UKR.additional_cooperatives_stability_factor = 0.075 }
		set_variable = { UKR.additional_cooperatives_war_support_factor = -0.025 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.025 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_consumer_level < 0.31 }
			check_variable = { cooperatives_consumer_level > 0.19 }
		}
		set_variable = { UKR.cooperatives_consumer_level_id = 6 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = 0.075 }
		set_variable = { UKR.additional_cooperatives_stability_factor = 0.075 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.015 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_consumer_level < 0.21 }
			check_variable = { cooperatives_consumer_level > 0.09 }
		}
		set_variable = { UKR.cooperatives_consumer_level_id = 7 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = 0.05 }
		set_variable = { UKR.additional_cooperatives_stability_factor = 0.075 }
		set_variable = { UKR.additional_cooperatives_war_support_factor = 0.025 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.01 }
	}
	else = {
		set_variable = { UKR.cooperatives_consumer_level_id = 8 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = 0.025 }
		set_variable = { UKR.additional_cooperatives_stability_factor = 0.05 }
		set_variable = { UKR.additional_cooperatives_war_support_factor = 0.05 }
	}
	add_to_variable = { UKR.cooperatives_consumer_goods_factor = UKR.additional_cooperatives_consumer_goods_factor }
	add_to_variable = { UKR.cooperatives_war_support_factor = UKR.additional_cooperatives_war_support_factor }
	add_to_variable = { UKR.cooperatives_stability_factor = UKR.additional_cooperatives_stability_factor }
	add_to_variable = { UKR.cooperatives_political_power_cost = UKR.additional_cooperatives_political_power_cost }
}
UKR_recalculate_cooperatives_credit = {
	if = {
		limit = {
			check_variable = { cooperatives_credit_level > cooperatives_upper_limit }
		}
		set_variable = { UKR.additional_cooperatives_production_speed_buildings_factor = -0.1 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = 0.1 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.1 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_credit_level < 0.81 }
			check_variable = { cooperatives_credit_level > 0.69 }
		} 		
		set_variable = { UKR.cooperatives_credit_level_id = 1 }
		set_variable = { UKR.additional_cooperatives_consumer_level = 0.1 }
		set_variable = { UKR.additional_cooperatives_workers_level = 0.1 }
		set_variable = { UKR.additional_cooperatives_agrarian_level = 0.1 }
		set_variable = { UKR.additional_cooperatives_production_speed_buildings_factor = 0.12 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = -0.1 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.15 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_credit_level < 0.71 }
			check_variable = { cooperatives_credit_level > 0.59 }
		}
		set_variable = { UKR.cooperatives_credit_level_id = 2 }
		set_variable = { UKR.additional_cooperatives_consumer_level = 0.08 }
		set_variable = { UKR.additional_cooperatives_workers_level = 0.08 }
		set_variable = { UKR.additional_cooperatives_agrarian_level = 0.08 }
		set_variable = { UKR.additional_cooperatives_production_speed_buildings_factor = 0.09 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = -0.07 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.08 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_credit_level < 0.61 }
			check_variable = { cooperatives_credit_level > 0.49 }
		}
		set_variable = { UKR.cooperatives_credit_level_id = 4 }
		set_variable = { UKR.additional_cooperatives_consumer_level = 0.06 }
		set_variable = { UKR.additional_cooperatives_workers_level = 0.06 }
		set_variable = { UKR.additional_cooperatives_agrarian_level = 0.06 }
		set_variable = { UKR.additional_cooperatives_production_speed_buildings_factor = 0.07 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = -0.04 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.07 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_credit_level < 0.51 }
			check_variable = { cooperatives_credit_level > 0.39 }
		}
		set_variable = { UKR.cooperatives_credit_level_id = 5 }
		set_variable = { UKR.additional_cooperatives_consumer_level = 0.04 }
		set_variable = { UKR.additional_cooperatives_workers_level = 0.04 }
		set_variable = { UKR.additional_cooperatives_agrarian_level = 0.04 }
		set_variable = { UKR.additional_cooperatives_production_speed_buildings_factor = 0.05 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = -0.02 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.07 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_credit_level < 0.41 }
			check_variable = { cooperatives_credit_level > 0.19 }
		}
		set_variable = { UKR.cooperatives_credit_level_id = 6 }
		set_variable = { UKR.additional_cooperatives_consumer_level = 0.02 }
		set_variable = { UKR.additional_cooperatives_workers_level = 0.02 }
		set_variable = { UKR.additional_cooperatives_agrarian_level = 0.02 }
		set_variable = { UKR.additional_cooperatives_production_speed_buildings_factor = 0.03 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = -0.02 }
		set_variable = { UKR.additional_cooperatives_political_power_cost = 0.05 }
	}
	else = {
		set_variable = { UKR.cooperatives_credit_level_id = 6 }
		set_variable = { UKR.additional_cooperatives_production_speed_buildings_factor = 0.03 }
		set_variable = { UKR.additional_cooperatives_consumer_goods_factor = -0.02 }
	}
	add_to_variable = { UKR.cooperatives_consumer_level = UKR.additional_cooperatives_consumer_level }
	add_to_variable = { UKR.cooperatives_workers_level = UKR.additional_cooperatives_workers_level }
	add_to_variable = { UKR.cooperatives_agrarian_level = UKR.additional_cooperatives_agrarian_level }
	add_to_variable = { UKR.cooperatives_production_speed_buildings_factor = UKR.additional_cooperatives_production_speed_buildings_factor }
	add_to_variable = { UKR.cooperatives_consumer_goods_factor = UKR.additional_cooperatives_consumer_goods_factor }
	add_to_variable = { UKR.cooperatives_political_power_cost = UKR.additional_cooperatives_political_power_cost }
}
UKR_recalculate_cooperatives_upper_limit_level = {
	if = {
		limit = { 
			check_variable = { cooperatives_upper_limit < 0.81 }
			check_variable = { cooperatives_upper_limit > 0.59 }
		}
		set_variable = { UKR.cooperatives_upper_limit_id = 1 }
		set_variable = { UKR.additional_cooperatives_production_factory_max_efficiency_factor = 0.05 }
		set_variable = { UKR.additional_cooperatives_production_factory_start_efficiency_factor = 0.05 }
		set_variable = { UKR.additional_cooperatives_line_change_production_efficiency_factor = 0.05 }
		set_variable = { UKR.additional_cooperatives_production_factory_efficiency_gain_factor = 0.05 }
		set_variable = { UKR.additional_cooperatives_stability_factor = 0.15 }
		set_variable = { UKR.additional_cooperatives_production_speed_buildings_factor = -0.15 }
		set_variable = { UKR.additional_cooperatives_war_support_factor = -0.1 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_upper_limit < 0.61 }
			check_variable = { cooperatives_upper_limit > 0.49 }
		}
		set_variable = { UKR.cooperatives_upper_limit_id = 2 }
		set_variable = { UKR.additional_cooperatives_stability_factor = 0.1 }
		set_variable = { UKR.additional_cooperatives_production_speed_buildings_factor = -0.1 }
		set_variable = { UKR.additional_cooperatives_war_support_factor = -0.05 }
	}
	else_if = {
		limit = { 
			check_variable = { cooperatives_upper_limit < 0.41 }
			check_variable = { cooperatives_upper_limit > 0.29 }
		}
		set_variable = { UKR.cooperatives_upper_limit_id = 3 }
		set_variable = { UKR.additional_cooperatives_stability_factor = 0.05 }
		set_variable = { UKR.additional_cooperatives_production_speed_buildings_factor = -0.05 }
		set_variable = { UKR.additional_cooperatives_war_support_factor = -0.05 }
	}
	add_to_variable = { UKR.cooperatives_production_factory_max_efficiency_factor = UKR.additional_cooperatives_production_factory_max_efficiency_factor }
	add_to_variable = { UKR.cooperatives_production_factory_start_efficiency_factor = UKR.additional_cooperatives_production_factory_start_efficiency_factor }
	add_to_variable = { UKR.cooperatives_line_change_production_efficiency_factor = UKR.additional_cooperatives_line_change_production_efficiency_factor }
	add_to_variable = { UKR.cooperatives_production_factory_efficiency_gain_factor = UKR.additional_cooperatives_production_factory_efficiency_gain_factor }
	add_to_variable = { UKR.cooperatives_production_speed_buildings_factor = UKR.additional_cooperatives_production_speed_buildings_factor }
	add_to_variable = { UKR.cooperatives_stability_factor = UKR.additional_cooperatives_stability_factor }
	add_to_variable = { UKR.cooperatives_war_support_factor = UKR.additional_cooperatives_war_support_factor }
}
UKR_recalculate_cooperatives = {
	set_variable = { UKR.cooperatives_political_power_cost = 0 }
	set_variable = { UKR.cooperatives_stability_factor = 0 }
	set_variable = { UKR.cooperatives_war_support_factor = 0 }
	set_variable = { UKR.cooperatives_consumer_goods_factor = 0 }
	set_variable = { UKR.cooperatives_production_factory_start_efficiency_factor = 0 }
	set_variable = { UKR.cooperatives_line_change_production_efficiency_factor = 0 }
	set_variable = { UKR.cooperatives_production_factory_efficiency_gain_factor = 0 }
	set_variable = { UKR.cooperatives_production_factory_max_efficiency_factor = 0 }
	set_variable = { UKR.cooperatives_production_speed_buildings_factor = 0 }
	set_variable = { UKR.cooperatives_global_building_slots_factor = 0 }
	
	add_to_variable = { UKR.cooperatives_political_power_cost = manual_modifiers_cooperatives_political_power_cost }
	add_to_variable = { UKR.cooperatives_stability_factor = manual_modifiers_cooperatives_stability_factor }
	add_to_variable = { UKR.cooperatives_war_support_factor = manual_modifiers_cooperatives_war_support_factor }
	add_to_variable = { UKR.cooperatives_consumer_goods_factor = manual_modifiers_cooperatives_consumer_goods_factor }
	add_to_variable = { UKR.cooperatives_production_factory_start_efficiency_factor = manual_modifiers_cooperatives_production_factory_start_efficiency_factor }
	add_to_variable = { UKR.cooperatives_line_change_production_efficiency_factor = manual_modifiers_cooperatives_line_change_production_efficiency_factor }
	add_to_variable = { UKR.cooperatives_production_factory_efficiency_gain_factor = manual_modifiers_cooperatives_production_factory_efficiency_gain_factor }
	add_to_variable = { UKR.cooperatives_production_factory_max_efficiency_factor = manual_modifiers_cooperatives_production_factory_max_efficiency_factor }
	add_to_variable = { UKR.cooperatives_production_speed_buildings_factor = manual_modifiers_cooperatives_production_speed_buildings_factor }
	add_to_variable = { UKR.cooperatives_global_building_slots_factor = manual_modifiers_cooperatives_global_building_slots_factor }
	
	UKR_recalculate_cooperatives_upper_limit_level = yes
	UKR_recalculate_cooperatives_economic_law = yes
	UKR_recalculate_cooperatives_trade_law = yes
	UKR_recalculate_cooperatives_workers = yes
	UKR_recalculate_cooperatives_agrarian = yes
	UKR_recalculate_cooperatives_consumer = yes
	UKR_recalculate_cooperatives_credit = yes
	
	clamp_variable = { var = cooperatives_agrarian_level min = 0 max = 1 }	
	clamp_variable = { var = cooperatives_workers_level min = 0 max = 1 }	
	clamp_variable = { var = cooperatives_consumer_level min = 0 max = 1 }	
	clamp_variable = { var = cooperatives_credit_level min = 0 max = 1 }	
	clamp_variable = { var = cooperatives_upper_limit min = 0 max = 0.8 }	
	force_update_dynamic_modifier = yes
}


UKR_recalculate_land_reform = {
	#Ranges
	clamp_variable = {
		var = UKR_Land_Reform_Success
		min = 0
		max = 100
	}
	clamp_variable = {
		var = UKR_Land_Reform_Popularity
		min = 0
		max = 100
	}
	clamp_variable = {
		var = UKR_Land_Reform_Borotbysts
		min = 0
		max = 100
	}

	#Success effect
	if = {
		limit = {
			check_variable = { UKR_Land_Reform_Success < 31 }
		}
		set_temp_variable = { UKR_Land_Reform_Success_factor = UKR_Land_Reform_Success }
		divide_temp_variable = { UKR_Land_Reform_Success_factor = 30 }

		set_variable = { UKR_land_reform_monthly_population = -0.2 }
		multiply_variable = { UKR_land_reform_monthly_population = UKR_Land_Reform_Success_factor }
	}
	else = {
		set_temp_variable = { UKR_Land_Reform_Success_factor = UKR_Land_Reform_Success }
		subtract_from_temp_variable = { UKR_Land_Reform_Success_factor = 30 }
		divide_temp_variable = { UKR_Land_Reform_Success_factor = 70 }

		set_variable = { UKR_land_reform_monthly_population = 0.5 }
		multiply_variable = { UKR_land_reform_monthly_population = UKR_Land_Reform_Success_factor }
	}

	#Popularity effect
	if = {
		limit = {
			check_variable = { UKR_Land_Reform_Popularity < 31 }
		}
		set_temp_variable = { UKR_Land_Reform_Popularity_factor = UKR_Land_Reform_Popularity }
		divide_temp_variable = { UKR_Land_Reform_Popularity_factor = 30 }

		set_variable = { UKR_land_reform_stability_factor = -0.2 }
		multiply_variable = { UKR_land_reform_stability_factor = UKR_Land_Reform_Popularity_factor }
	}
	else = {
		set_temp_variable = { UKR_Land_Reform_Popularity_factor = UKR_Land_Reform_Popularity }
		subtract_from_temp_variable = { UKR_Land_Reform_Popularity_factor = 30 }
		divide_temp_variable = { UKR_Land_Reform_Popularity_factor = 70 }

		set_variable = { UKR_land_reform_stability_factor = 0.3 }
		multiply_variable = { UKR_land_reform_stability_factor = UKR_Land_Reform_Popularity_factor }
	}
	
	#Borotbysts Effect
	set_variable = { UKR_Land_Reform_Borotbysts = UKR_Land_Reform_Success }
	add_to_variable = { UKR_Land_Reform_Borotbysts = UKR_Land_Reform_Popularity }
	add_to_variable = { UKR_Land_Reform_Borotbysts = -175 }
	divide_variable = { UKR_Land_Reform_Borotbysts = -2 }
	
	add_to_variable = { UKR_Land_Reform_Borotbysts = UKR_Land_Reform_Borotbysts_extra }
	
	set_temp_variable = { UKR_Land_Reform_Borotbysts_factor = UKR_Land_Reform_Borotbysts }
	divide_temp_variable = { UKR_Land_Reform_Borotbysts_factor = -500 }
	
	add_to_temp_variable = { UKR_land_reform_stability_factor = UKR_Land_Reform_Borotbysts_factor }
		
	if = {
		limit = {
			check_variable = { UKR_Land_Reform_Borotbysts > 99 }
		}
		country_event = ukrsoc.200
	}
	if = {
		limit = {
			OR = {
				check_variable = { UKR_Land_Reform_Popularity < 10 }
				check_variable = { UKR_Land_Reform_Success < 10 }
			}
		}
		activate_mission = UKR_Land_Reform_Plan_Danger
	}
}
UKR_land_reform_initiate_borotbyst_riot = {
	random_list = {
		20 = {
			modifier = {
				set_temp_variable = { UKR_nothing_happens_factor = 1 }
				set_temp_variable = { UKR_nothing_happens_chance = UKR_Land_Reform_Borotbysts }
				divide_temp_variable = { UKR_nothing_happens_chance = 100 }
				subtract_from_temp_variable = { UKR_nothing_happens_factor = UKR_nothing_happens_chance }
				factor = UKR_nothing_happens_factor #0% at 100% threat
			}
		}
		10 = {
			modifier = {
				set_temp_variable = { UKR_major_attack_factor = UKR_Land_Reform_Borotbysts }
				divide_temp_variable = { UKR_major_attack_factor = 20 }
				clamp_temp_variable = { var = UKR_major_attack_factor min = 1 }
				factor = UKR_major_attack_factor #10% at 100% threat
			}
			country_event = ukrsoc.195 #Official Lynching
		}
		10 = {
			modifier = {
				set_temp_variable = { UKR_minor_attack_factor = UKR_Land_Reform_Borotbysts }
				divide_temp_variable = { UKR_minor_attack_factor = 20 }
				clamp_temp_variable = { var = UKR_minor_attack_factor min = 1 }
				factor = UKR_minor_attack_factor #15% at 100% threat
			}
			country_event = ukrsoc.191 #Mass Expropriations
		}
		10 = {
			modifier = {
				set_temp_variable = { UKR_street_shootings_factor = UKR_Land_Reform_Borotbysts }
				divide_temp_variable = { UKR_street_shootings_factor = 25 }
				clamp_temp_variable = { var = UKR_street_shootings_factor min = 1 }
				factor = UKR_street_shootings_factor #20% at 100% threat
			}
			country_event = ukrsoc.190 #Street Shootings
		}
		10 = {
			modifier = {
				set_temp_variable = { UKR_civilian_sabotage_factor = UKR_Land_Reform_Borotbysts }
				divide_temp_variable = { UKR_civilian_sabotage_factor = 50 }
				clamp_temp_variable = { var = UKR_civilian_sabotage_factor min = 1 }
				factor = UKR_civilian_sabotage_factor #20% at 100% threat
			}
			country_event = ukrsoc.194 #Industry Sabotage
		}
		10 = {
			modifier = {
				set_temp_variable = { UKR_infrastructure_sabotage_factor = UKR_Land_Reform_Borotbysts }
				divide_temp_variable = { UKR_infrastructure_sabotage_factor = 50 }
				clamp_temp_variable = { var = UKR_infrastructure_sabotage_factor min = 1 }
				factor = UKR_infrastructure_sabotage_factor #20% at 100% threat
			}
			country_event = ukrsoc.193 #Railway Bombing
		}
		10 = {
			modifier = {
				set_temp_variable = { UKR_burzhuy_flees_factor = UKR_Land_Reform_Borotbysts }
				divide_temp_variable = { UKR_burzhuy_flees_factor = 20 }
				clamp_temp_variable = { var = UKR_burzhuy_flees_factor min = 1 }
				factor = UKR_burzhuy_flees_factor #10% at 100% threat
			}
			country_event = ukrsoc.192 #Bourgeousie Flees the Country
		}
		20 = {
			modifier = {
				set_temp_variable = { UKR_supply_shortfall_factor = UKR_Land_Reform_Borotbysts }
				divide_temp_variable = { UKR_supply_shortfall_factor = 400 }
				set_temp_variable = { UKR_supply_shortfall_fail_factor = 1 }
				subtract_from_temp_variable = { UKR_supply_shortfall_fail_factor = UKR_supply_shortfall_factor }
				factor = UKR_supply_shortfall_fail_factor #15% at 100% threat
			}
			country_event = ukrsoc.196 #Supply Shortfall
		}
	}
	random_owned_controlled_state = {
		prioritize = { 221 225 1232 1233 226 197 196 1234 200 1286 228 1283 227 1284 1282 1285 259 }
		limit = {
			OR = {
				has_state_category = four
				has_state_category = three
				has_state_category = two
				has_state_category = one
			}
			NOT = { 
				has_dynamic_modifier = {
					modifier = UKR_borotbyst_uprising_state
					scope = THIS
				}
			}
		}
		set_border_war = yes
		add_dynamic_modifier = {
			modifier = UKR_borotbyst_uprising_state
		}
		hidden_effect = {
			ROOT = { 
				activate_targeted_decision = { target = PREV decision = UKR_deal_with_borotbyst_riot } 
			}
		}
	}
	add_popularity = {
		ideology = syndicalist
		popularity = 0.03
	}
	add_stability = -0.05
}

UKR_fire_agricultural_crisis = {
	custom_effect_tooltip = UKR_agricultural_crisis_tt
	set_variable = { UKR_breadbasket_of_europe_pp = -0.15 } #0.15 max
	set_variable = { UKR_breadbasket_of_europe_monthly_pop = 0.02 } #0.15 max
	set_variable = { UKR_breadbasket_of_europe_trade_opinion = -0.25 } #-0.35 max
	set_variable = { UKR_breadbasket_of_europe_resource_penalty = 0.1 } #-0.05 #max
	set_variable = { UKR_breadbasket_of_europe_consumer_goods = 0.25 } #0.15 min
	set_variable = { UKR_breadbasket_of_europe_global_building_slots = 0.1 } #0.1 #max
	set_variable = { UKR_breadbasket_of_europe_out_of_supply = 0.05 } #-0.11 #max
	set_variable = { UKR_breadbasket_of_europe_supply_consumption = 0.03 } #-0.07 #max
	set_variable = { UKR_breadbasket_of_europe_production_growth = -0.10 } #-0.15 #max
	force_update_dynamic_modifier = yes
	
	activate_mission = UKR_Agricultural_Crisis_deadline
}
UKR_merge_corn_ingridients = {
	set_country_flag = { flag = UKR_merging_corn_ingridients_flag days = 12 value = 1 }
	activate_mission = UKR_merging_corn_ingridients
}
UKR_setup_ukrainian_army = {
	set_variable = { UKR_army_conscription_factor = -0.15 }
	set_variable = { UKR_army_army_morale_factor = -0.2 }
	
	add_dynamic_modifier = { modifier = UKR_ukrainian_army	} 
}
UKR_setup_breadbasket = {
	add_dynamic_modifier = { modifier = UKR_breadbasket_of_europe_modifier	} 
	set_variable = { UKR_breadbasket_of_europe_pp = -0.09 } #0.15 max
	set_variable = { UKR_breadbasket_of_europe_monthly_pop = 0.15 } #0.15 max
	set_variable = { UKR_breadbasket_of_europe_trade_opinion = 0.15 } #0.35 max
	set_variable = { UKR_breadbasket_of_europe_resource_penalty = -0.05 } #-0.05 #max
	set_variable = { UKR_breadbasket_of_europe_consumer_goods = -0.05 } #0.15 min
	set_variable = { UKR_breadbasket_of_europe_global_building_slots = 0.1 } #0.1 #max
	set_variable = { UKR_breadbasket_of_europe_out_of_supply = -0.04 } #-0.11 #max
	set_variable = { UKR_breadbasket_of_europe_supply_consumption = -0.07 } #-0.07 #max
	set_variable = { UKR_breadbasket_of_europe_production_growth = -0.15 } #-0.15 #max	
}
UKR_recalculate_breadbasket = {
	set_temp_variable = { UKR_positive_factor_from_austria = AUS.breadbasket_supply_fulfilment }
	multiply_temp_variable = { UKR_positive_factor_from_austria = AUS.breadbasket_supply_reliability }
	multiply_temp_variable = { UKR_positive_factor_from_austria = 3.4 }
	set_variable = { UKR_breadbasket_of_europe_factories = UKR_positive_factor_from_austria }
	
	set_temp_variable = { UKR_positive_factor_from_germany = GER.breadbasket_supply_fulfilment }
	multiply_temp_variable = { UKR_positive_factor_from_germany = GER.breadbasket_supply_reliability }
	multiply_temp_variable = { UKR_positive_factor_from_germany = 3.4 }
	add_to_variable = { UKR_breadbasket_of_europe_factories = UKR_positive_factor_from_germany }
	
	round_variable = UKR_breadbasket_of_europe_factories
}

UKR_breadbasket_add_pp = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_pp = 0.15 } }
		}
		custom_effect_tooltip = UKR_breadbasket_add_pp
		hidden_effect = {
			random_list = {
				10 = { add_to_variable = { UKR_breadbasket_of_europe_pp = 0.02 } }
				15 = { add_to_variable = { UKR_breadbasket_of_europe_pp = 0.03 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_pp = 0.04 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_pp = 0.05 } }
				15 = { add_to_variable = { UKR_breadbasket_of_europe_pp = 0.06 } }
			}
			force_update_dynamic_modifier = yes
		}
	}
}
UKR_breadbasket_remove_pp = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_pp = -0.05 } }
		}
		custom_effect_tooltip = UKR_breadbasket_remove_pp
		hidden_effect = {
			random_list = {
				15 = { add_to_variable = { UKR_breadbasket_of_europe_pp = -0.02 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_pp = -0.03 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_pp = -0.04 } }
				15 = { add_to_variable = { UKR_breadbasket_of_europe_pp = -0.05 } }
				10 = { add_to_variable = { UKR_breadbasket_of_europe_pp = -0.06 } }
			}
			force_update_dynamic_modifier = yes
		}
	}
}
UKR_breadbasket_add_monthly_population = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_monthly_pop = 0.25 } }
		}
		custom_effect_tooltip = UKR_breadbasket_add_monthly_population
		hidden_effect = {
			random_list = {
				10 = { add_to_variable = { UKR_breadbasket_of_europe_monthly_pop = 0.04 } }
				15 = { add_to_variable = { UKR_breadbasket_of_europe_monthly_pop = 0.05 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_monthly_pop = 0.06 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_monthly_pop = 0.07 } }
				15 = { add_to_variable = { UKR_breadbasket_of_europe_monthly_pop = 0.08 } }
			}
			force_update_dynamic_modifier = yes
		}
	}
}
UKR_breadbasket_remove_monthly_population = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_monthly_pop = 0 } }
		}
		custom_effect_tooltip = UKR_breadbasket_remove_monthly_population
		hidden_effect = {
			random_list = {
				15 = { add_to_variable = { UKR_breadbasket_of_europe_monthly_pop = -0.04 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_monthly_pop = -0.05 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_monthly_pop = -0.06 } }
				15 = { add_to_variable = { UKR_breadbasket_of_europe_monthly_pop = -0.07 } }
				10 = { add_to_variable = { UKR_breadbasket_of_europe_monthly_pop = -0.08 } }
			}
			force_update_dynamic_modifier = yes
		}
	}
}
UKR_breadbasket_add_trade_opinion = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_trade_opinion = 0.35 } }
		}
		custom_effect_tooltip = UKR_breadbasket_add_trade_opinion
		hidden_effect = {
			random_list = {
				10 = { add_to_variable = { UKR_breadbasket_of_europe_trade_opinion = 0.04 } }
				15 = { add_to_variable = { UKR_breadbasket_of_europe_trade_opinion = 0.05 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_trade_opinion = 0.06 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_trade_opinion = 0.07 } }
				15 = { add_to_variable = { UKR_breadbasket_of_europe_trade_opinion = 0.08 } }
			}
			force_update_dynamic_modifier = yes
		}
	}
}
UKR_breadbasket_remove_trade_opinion = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_trade_opinion = -0.15 } }
		}
		custom_effect_tooltip = UKR_breadbasket_remove_trade_opinion
		hidden_effect = {
			random_list = {
				15 = { add_to_variable = { UKR_breadbasket_of_europe_trade_opinion = -0.04 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_trade_opinion = -0.05 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_trade_opinion = -0.06 } }
				15 = { add_to_variable = { UKR_breadbasket_of_europe_trade_opinion = -0.07 } }
				10 = { add_to_variable = { UKR_breadbasket_of_europe_trade_opinion = -0.08 } }
			}
			force_update_dynamic_modifier = yes
		}
	}
}
UKR_breadbasket_add_resource_penalty = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_resource_penalty = 0.1 } }
		}
		custom_effect_tooltip = UKR_breadbasket_add_resource_penalty
		hidden_effect = {
			add_to_variable = { UKR_breadbasket_of_europe_resource_penalty = 0.05 }
			force_update_dynamic_modifier = yes
		}
	}
}
UKR_breadbasket_remove_resource_penalty = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_resource_penalty = -0.25 } }
		}
		custom_effect_tooltip = UKR_breadbasket_remove_resource_penalty
		hidden_effect = {
			random_list = {
				15 = { add_to_variable = { UKR_breadbasket_of_europe_resource_penalty = -0.02 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_resource_penalty = -0.03 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_resource_penalty = -0.04 } }
				15 = { add_to_variable = { UKR_breadbasket_of_europe_resource_penalty = -0.05 } }
				10 = { add_to_variable = { UKR_breadbasket_of_europe_resource_penalty = -0.06 } }
			}
			force_update_dynamic_modifier = yes
		}
	}
}
UKR_breadbasket_add_consumer_goods = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_consumer_goods = 0.15 } }
		}
		custom_effect_tooltip = UKR_breadbasket_add_consumer_goods
		hidden_effect = {
			random_list = {
				30 = { add_to_variable = { UKR_breadbasket_of_europe_consumer_goods = 0.02 } }
				35 = { add_to_variable = { UKR_breadbasket_of_europe_consumer_goods = 0.03 } }
				35 = { add_to_variable = { UKR_breadbasket_of_europe_consumer_goods = 0.04 } }
			}
			force_update_dynamic_modifier = yes
		}
	}
}
UKR_breadbasket_remove_consumer_goods = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_consumer_goods = -0.1 } }
		}
		custom_effect_tooltip = UKR_breadbasket_remove_consumer_goods
		hidden_effect = {
			random_list = {
				35 = { add_to_variable = { UKR_breadbasket_of_europe_consumer_goods = -0.02 } }
				35 = { add_to_variable = { UKR_breadbasket_of_europe_consumer_goods = -0.03 } }
				30 = { add_to_variable = { UKR_breadbasket_of_europe_consumer_goods = -0.04 } }
			}
			force_update_dynamic_modifier = yes
		}
	}
}

UKR_breadbasket_add_out_of_supply = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_out_of_supply = 0 } }
		}
		custom_effect_tooltip = UKR_breadbasket_add_out_of_supply
		hidden_effect = {
			random_list = {
				30 = { add_to_variable = { UKR_breadbasket_of_europe_out_of_supply = 0.02 } }
				35 = { add_to_variable = { UKR_breadbasket_of_europe_out_of_supply = 0.03 } }
				35 = { add_to_variable = { UKR_breadbasket_of_europe_out_of_supply = 0.04 } }
			}
			force_update_dynamic_modifier = yes
		}
	}
}
UKR_breadbasket_remove_out_of_supply = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_out_of_supply = -0.11 } }
		}
		custom_effect_tooltip = UKR_breadbasket_remove_out_of_supply
		hidden_effect = {
			random_list = {
				35 = { add_to_variable = { UKR_breadbasket_of_europe_out_of_supply = -0.02 } }
				35 = { add_to_variable = { UKR_breadbasket_of_europe_out_of_supply = -0.03 } }
				30 = { add_to_variable = { UKR_breadbasket_of_europe_out_of_supply = -0.04 } }
			}
			force_update_dynamic_modifier = yes
		}
	}
}
UKR_breadbasket_add_supply_consumption = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_supply_consumption = 0 } }
		}
		custom_effect_tooltip = UKR_breadbasket_add_supply_consumption
		hidden_effect = {
			random_list = {
				30 = { add_to_variable = { UKR_breadbasket_of_europe_supply_consumption = 0.02 } }
				35 = { add_to_variable = { UKR_breadbasket_of_europe_supply_consumption = 0.03 } }
				35 = { add_to_variable = { UKR_breadbasket_of_europe_supply_consumption = 0.04 } }
			}
			force_update_dynamic_modifier = yes
		}
	}
}
UKR_breadbasket_remove_supply_consumption = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_supply_consumption = -0.07 } }
		}
		custom_effect_tooltip = UKR_breadbasket_remove_supply_consumption
		hidden_effect = {
			random_list = {
				35 = { add_to_variable = { UKR_breadbasket_of_europe_supply_consumption = -0.02 } }
				35 = { add_to_variable = { UKR_breadbasket_of_europe_supply_consumption = -0.03 } }
				30 = { add_to_variable = { UKR_breadbasket_of_europe_supply_consumption = -0.04 } }
			}
			force_update_dynamic_modifier = yes
		}
	}
}
UKR_breadbasket_add_production_growth = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_production_growth = 0.05 } }
		}
		custom_effect_tooltip = UKR_breadbasket_add_production_growth
		hidden_effect = {
			random_list = {
				5 = { add_to_variable = { UKR_breadbasket_of_europe_production_growth = 0.02 } }
				10 = { add_to_variable = { UKR_breadbasket_of_europe_production_growth = 0.03 } }
				20 = { add_to_variable = { UKR_breadbasket_of_europe_production_growth = 0.04 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_production_growth = 0.05 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_production_growth = 0.06 } }
				15 = { add_to_variable = { UKR_breadbasket_of_europe_production_growth = 0.07 } }
			}
			force_update_dynamic_modifier = yes
		}
	}
}
UKR_breadbasket_remove_production_growth = {
	if = {
		limit = {
			NOT = { check_variable = { UKR_breadbasket_of_europe_production_growth = -0.15 } }
		}
		custom_effect_tooltip = UKR_breadbasket_remove_production_growth
		hidden_effect = {
			random_list = {
				15 = { add_to_variable = { UKR_breadbasket_of_europe_production_growth = -0.02 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_production_growth = -0.03 } }
				25 = { add_to_variable = { UKR_breadbasket_of_europe_production_growth = -0.04 } }
				20 = { add_to_variable = { UKR_breadbasket_of_europe_production_growth = -0.05 } }
				10 = { add_to_variable = { UKR_breadbasket_of_europe_production_growth = -0.06 } }
				5 = { add_to_variable = { UKR_breadbasket_of_europe_production_growth = -0.07 } }
			}
			force_update_dynamic_modifier = yes
		}
	}
}

UKR_setup_political_variables = {
	set_variable = { UKR_Direktoriia_Strength = 1 }
	
	set_variable = { UKR_military_alignment = 2 }
	set_variable = { UKR_landowners_alignment = 1 }
	set_variable = { UKR_bureaucrat_alignment = -2 }
	set_variable = { UKR_church_alignment = 1 }
	set_variable = { UKR_business_alignment = 0 }
	set_variable = { UKR_farmers_alignment = 1 }
	set_variable = { UKR_workers_alignment = 0 }
	set_variable = { UKR_peasant_alignment = 1 }
	
	set_variable = { UKR_shd_army_var = 0.1 }
	set_variable = { UKR_shd_landowners_var = 0.05 }
	set_variable = { UKR_shd_bureaucrats_var = 0 }
	set_variable = { UKR_shd_church_var = 0.05 }
	set_variable = { UKR_shd_protofis_var = 0 }
	set_variable = { UKR_shd_smallholders_var = 0.05 }
	set_variable = { UKR_shd_workers_var = 0 }
	set_variable = { UKR_shd_peasants_var = 0.05 }
	
	
	set_variable = { UKR_minimum_alignment = -2 }
	set_variable = { UKR_maximum_alignment = 2 }
	
	recalculate_ukrainian_political_variables = yes
	
	set_variable = { UKR_petliura_authority = 3 }
	set_variable = { UKR_vynnychenko_authority = 3 }
	set_variable = { UKR_uvo_authority = 2 }
	
}
recalculate_ukrainian_political_variables = {
	clamp_variable = {
		var = UKR_Direktoriia_Strength
		min = 0.25
		max = 2
	}
	clamp_variable = {
		var = UKR_military_alignment
		min = UKR_minimum_alignment
		max = UKR_maximum_alignment
	}
	clamp_variable = {
		var = UKR_landowners_alignment
		min = UKR_minimum_alignment
		max = UKR_maximum_alignment
	}
	clamp_variable = {
		var = UKR_bureaucrat_alignment
		min = UKR_minimum_alignment
		max = UKR_maximum_alignment
	}
	clamp_variable = {
		var = UKR_church_alignment
		min = UKR_minimum_alignment
		max = UKR_maximum_alignment
	}
	clamp_variable = {
		var = UKR_business_alignment
		min = UKR_minimum_alignment
		max = UKR_maximum_alignment
	}
	clamp_variable = {
		var = UKR_farmers_alignment
		min = UKR_minimum_alignment
		max = UKR_maximum_alignment
	}
	clamp_variable = {
		var = UKR_workers_alignment
		min = UKR_minimum_alignment
		max = UKR_maximum_alignment
	}
	clamp_variable = {
		var = UKR_peasant_alignment
		min = UKR_minimum_alignment
		max = UKR_maximum_alignment
	}	
	set_variable = { UKR_Direktoriia_Strength_real = UKR.party_popularity@social_democrat }
	add_to_variable = { UKR_Direktoriia_Strength_real = UKR.party_popularity@radical_socialist }
	add_to_variable = { UKR_Direktoriia_Strength_real = UKR.party_popularity@totalist }
	if = { 
		limit = { has_country_flag = UPR_uvo_openly_joins_dyrektoria }
		add_to_variable = { UKR_Direktoriia_Strength_real = UKR.party_popularity@national_populist }
	}
	multiply_variable = { UKR_Direktoriia_Strength_real = UKR_Direktoriia_Strength }
	clamp_variable = {
		var = UKR_Direktoriia_Strength_real
		min = 0
		max = 1
	}
	
	set_variable = { UKR_society_support = 0 }
	add_to_variable = { UKR_society_support = UKR_military_alignment }
	add_to_variable = { UKR_society_support = UKR_bureaucrat_alignment }
	add_to_variable = { UKR_society_support = UKR_landowners_alignment }
	add_to_variable = { UKR_society_support = UKR_church_alignment }
	add_to_variable = { UKR_society_support = UKR_business_alignment }
	add_to_variable = { UKR_society_support = UKR_farmers_alignment }
	add_to_variable = { UKR_society_support = UKR_workers_alignment }
	add_to_variable = { UKR_society_support = UKR_peasant_alignment }
	
	set_temp_variable = { UKR_shd_calculator = 0.05 }
	if = {
		limit = {
			has_dynamic_modifier = { modifier = UKR_skoropadskyi_policy }
		}
		multiply_variable = { UKR_shd_army_var = UKR_shd_calculator }
		multiply_variable = { UKR_shd_landowners_var = UKR_shd_calculator }
		multiply_variable = { UKR_shd_bureaucrats_var = UKR_shd_calculator }
		multiply_variable = { UKR_shd_church_var = UKR_shd_calculator }
		multiply_variable = { UKR_shd_protofis_var = UKR_shd_calculator }
		multiply_variable = { UKR_shd_smallholders_var = UKR_shd_calculator }
		multiply_variable = { UKR_shd_workers_var = UKR_shd_calculator }
		multiply_variable = { UKR_shd_peasants_var = UKR_shd_calculator }
		
		multiply_variable = { UKR_shd_army_var = UKR_military_alignment }
		multiply_variable = { UKR_shd_army_var = 10 } #Additional
		multiply_variable = { UKR_shd_landowners_var = UKR_landowners_alignment }
		multiply_variable = { UKR_shd_bureaucrats_var = UKR_bureaucrat_alignment }
		multiply_variable = { UKR_shd_church_var = 10 } #Additional
		multiply_variable = { UKR_shd_protofis_var = UKR_business_alignment }
		multiply_variable = { UKR_shd_smallholders_var = UKR_farmers_alignment }
		multiply_variable = { UKR_shd_workers_var = UKR_workers_alignment }
		multiply_variable = { UKR_shd_peasants_var = UKR_peasant_alignment }
		
		force_update_dynamic_modifier = yes
	}
}
	
UKR_increase_king = {
	add_popularity = {
		ideology = authoritarian_democrat
		popularity = 0.02
	}
	if = {
		limit = {
			has_completed_focus = UKR_Coalition_Of_Monarchists
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.01
		}
	}
	if = {
		limit = {
			has_completed_focus = UKR_Coalition_With_UVO
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.01
		}
	}
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_king_strength = {
	custom_effect_tooltip = UKR_increase_king_tt
	add_power_balance_value = {
		id = UKR_dualism
		value = -0.10
	}
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_king = {
	add_popularity = {
		ideology = authoritarian_democrat
		popularity = -0.02
	}
	if = {
		limit = {
			OR = {
				has_completed_focus = UKR_Coalition_Of_Monarchists
				has_completed_focus = UKR_Dissolve_Sejm
			}
		}
		add_popularity = {
			ideology = social_conservative
			popularity = -0.01
		}
	}
	if = {
		limit = {
			OR = {
				has_completed_focus = UKR_Coalition_With_UVO
				has_completed_focus = UKR_Coalition_Wih_UDP
			}
		}
		add_popularity = {
			ideology = national_populist
			popularity = -0.01
		}
	}
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_king_strength = {
	custom_effect_tooltip = UKR_decrease_king_tt
	add_power_balance_value = {
		id = UKR_dualism
		value = 0.10
	}
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_hetman = {
	if = {
		limit = {
			OR = {
				has_completed_focus = UKR_Coalition_With_UVO
				has_completed_focus = UKR_Coalition_Wih_UDP
			}
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.03
		}
	}
	else = {
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.02
		}
	}
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_hetman_strength = {
	custom_effect_tooltip = UKR_increase_hetman_tt
	add_power_balance_value = {
		id = UKR_dualism
		value = 0.10
	}
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_hetman = {
	if = {
		limit = {
			OR = {
				has_completed_focus = UKR_Coalition_With_UVO
				has_completed_focus = UKR_Coalition_Wih_UDP
			}
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.03
		}
	}
	else = {
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.02
		}
	}
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_hetman_strength = {
	custom_effect_tooltip = UKR_decrease_hetman_tt
	add_power_balance_value = {
		id = UKR_dualism
		value = -0.10
	}
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_direktoria = {
	custom_effect_tooltip = UKR_increase_direktoria_tt
	UPR = {
		add_stability = 0.05
		add_war_support = 0.05
		add_popularity = {
			ideology = social_democrat
			popularity = 0.02
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.01
		}
		if = {
			limit = { has_country_flag = UPR_uvo_openly_joins_dyrektoria }
			add_popularity = {
				ideology = national_populist
				popularity = 0.01
			}			
		}
	}
	hidden_effect = {
		add_popularity = {
			ideology = social_democrat
			popularity = 0.02
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.01
		}
		add_to_variable = { UKR_Direktoriia_Strength = 0.2 }
		if = {
			limit = { has_country_flag = UPR_uvo_openly_joins_dyrektoria }
			add_to_variable = { UKR_sun_strength = 1 }
			add_popularity = {
				ideology = national_populist
				popularity = 0.01
			}			
		}
	}
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_direktoria = {
	custom_effect_tooltip = UKR_decrease_direktoria_tt
	UPR = {
		add_stability = -0.05
		add_war_support = -0.05
		add_popularity = {
			ideology = social_democrat
			popularity = -0.02
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.02
		}		
	}
	hidden_effect = {
		add_popularity = {
			ideology = social_democrat
			popularity = -0.03
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.02
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.02
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.02
		}
		if = {
			limit = { has_country_flag = UPR_uvo_openly_joins_dyrektoria }
			add_popularity = {
				ideology = national_populist
				popularity = -0.02
			}
		}
		if = {
			limit = {
				check_variable = { UKR_Direktoriia_Strength < 1 }
			}
			add_to_variable = { UKR_Direktoriia_Strength = -0.25 }
		}
		else = {
			add_to_variable = { UKR_Direktoriia_Strength = -0.2 }
		}
	}
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_military_opinion_hetman = {
	custom_effect_tooltip = UKR_worsen_hetman_army_tt
	add_to_variable = { UKR_military_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_military_opinion_hetman = {
	custom_effect_tooltip = UKR_improve_hetman_army_tt
	add_to_variable = { UKR_military_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_military_opinion_king = {
	custom_effect_tooltip = UKR_worsen_king_army_tt
	add_to_variable = { UKR_military_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_military_opinion_king = {
	custom_effect_tooltip = UKR_improve_king_army_tt
	add_to_variable = { UKR_military_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_bureaucrats_opinion_hetman = {
	custom_effect_tooltip = UKR_worsen_hetman_bureaucrats_tt
	add_to_variable = { UKR_bureaucrat_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_bureaucrat_opinion_hetman = {
	custom_effect_tooltip = UKR_improve_hetman_bureaucrats_tt
	add_to_variable = { UKR_bureaucrat_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_bureaucrat_opinion_king = {
	custom_effect_tooltip = UKR_worsen_king_bureaucrats_tt
	add_to_variable = { UKR_bureaucrat_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_bureaucrat_opinion_king = {
	custom_effect_tooltip = UKR_improve_king_bureaucrats_tt
	add_to_variable = { UKR_bureaucrat_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_church_opinion_hetman = {
	custom_effect_tooltip = UKR_worsen_hetman_church_tt
	add_to_variable = { UKR_church_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_church_opinion_hetman = {
	custom_effect_tooltip = UKR_improve_hetman_church_tt
	add_to_variable = { UKR_church_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_church_opinion_king = {
	custom_effect_tooltip = UKR_worsen_king_church_tt
	add_to_variable = { UKR_church_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_church_opinion_king = {
	custom_effect_tooltip = UKR_improve_king_church_tt
	add_to_variable = { UKR_church_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_landowners_opinion_hetman = {
	custom_effect_tooltip = UKR_worsen_hetman_landowners_tt
	add_to_variable = { UKR_landowners_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_landowners_opinion_hetman = {
	custom_effect_tooltip = UKR_improve_hetman_landowners_tt
	add_to_variable = { UKR_landowners_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_landowners_opinion_king = {
	custom_effect_tooltip = UKR_worsen_king_landowners_tt
	add_to_variable = { UKR_landowners_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_landowners_opinion_king = {
	custom_effect_tooltip = UKR_improve_king_landowners_tt
	add_to_variable = { UKR_landowners_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_Protofis_opinion_hetman = {
	custom_effect_tooltip = UKR_worsen_hetman_Protofis_tt
	add_to_variable = { UKR_business_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_Protofis_opinion_hetman = {
	custom_effect_tooltip = UKR_improve_hetman_Protofis_tt
	add_to_variable = { UKR_business_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_Protofis_opinion_king = {
	custom_effect_tooltip = UKR_worsen_king_Protofis_tt
	add_to_variable = { UKR_business_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_Protofis_opinion_king = {
	custom_effect_tooltip = UKR_improve_king_Protofis_tt
	add_to_variable = { UKR_business_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_farmers_opinion_hetman = {
	custom_effect_tooltip = UKR_worsen_hetman_smallholders_tt
	add_to_variable = { UKR_farmers_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_farmers_opinion_hetman = {
	custom_effect_tooltip = UKR_improve_hetman_smallholders_tt
	add_to_variable = { UKR_farmers_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_farmers_opinion_king = {
	custom_effect_tooltip = UKR_worsen_king_smallholders_tt
	add_to_variable = { UKR_farmers_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_farmers_opinion_king = {
	custom_effect_tooltip = UKR_improve_king_smallholders_tt
	add_to_variable = { UKR_farmers_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_workers_opinion_hetman = {
	custom_effect_tooltip = UKR_worsen_hetman_workers_tt
	add_to_variable = { UKR_workers_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_workers_opinion_hetman = {
	custom_effect_tooltip = UKR_improve_hetman_workers_tt
	add_to_variable = { UKR_workers_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_workers_opinion_king = {
	custom_effect_tooltip = UKR_worsen_king_workers_tt
	add_to_variable = { UKR_workers_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_workers_opinion_king = {
	custom_effect_tooltip = UKR_improve_king_workers_tt
	add_to_variable = { UKR_workers_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_peasants_opinion_hetman = {
	custom_effect_tooltip = UKR_worsen_hetman_peasants_tt
	add_to_variable = { UKR_peasant_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_peasants_opinion_hetman = {
	custom_effect_tooltip = UKR_improve_hetman_peasants_tt
	add_to_variable = { UKR_peasant_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_decrease_peasants_opinion_king = {
	custom_effect_tooltip = UKR_worsen_king_peasants_tt
	add_to_variable = { UKR_peasant_alignment = 1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_increase_peasants_opinion_king = {
	custom_effect_tooltip = UKR_improve_king_peasants_tt
	add_to_variable = { UKR_peasant_alignment = -1 }
	recalculate_ukrainian_political_variables = yes
}
UKR_skoropadsky_increase_russophiles = {
	custom_effect_tooltip = UKR_skoropadsky_increase_russophiles_tt
	add_to_variable = { UKR_skoropadskyi_orientation = 0.03 }
	if = {
		limit = { has_country_flag = UKR_protofis_marlib }
		add_popularity = { ideology = market_liberal popularity = 0.03 }
	}	
}
UKR_skoropadsky_increase_germanophiles = {
	custom_effect_tooltip = UKR_skoropadsky_increase_germanophiles_tt
	add_to_variable = { UKR_skoropadskyi_orientation = -0.03 }
	if = {
		limit = { has_country_flag = UKR_protofis_marlib }
		add_popularity = { ideology = market_liberal popularity = -0.03 }
	}
}
UKR_check_for_uskhd_results = {
	hidden_effect = {
		if = {
			limit = { 
				check_variable = { UKR_uskhd_cons < UKR_uskhd_lib }
			}
			country_event = ukrpol.175
		}
		else = {
			country_event = ukrpol.151
		}
	}
}
UKR_remove_impending_failure = {
	if = {
		limit = { has_idea = UKR_impending_failure }
		remove_ideas = UKR_impending_failure
	}
	else_if = {
		limit = { has_idea = UKR_impending_failure_1 }
		remove_ideas = UKR_impending_failure_1
	}
	else_if = {
		limit = { has_idea = UKR_impending_failure_2 }
		remove_ideas = UKR_impending_failure_2
	}
	else_if = {
		limit = { has_idea = UKR_impending_failure_3 }
		remove_ideas = UKR_impending_failure_3
	}
	else_if = {
		limit = { has_idea = UKR_impending_failure_4 }
		remove_ideas = UKR_impending_failure_4
	}
}

UKR_improve_ukrainisation = {
	if = {
		limit = {
			has_idea = UKR_ukrainisation_efforts_4
		}
		swap_ideas = {
			remove_idea = UKR_ukrainisation_efforts_4
			add_idea = UKR_stable_identity
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ukrainisation_efforts_3
		}
		swap_ideas = {
			remove_idea = UKR_ukrainisation_efforts_3
			add_idea = UKR_ukrainisation_efforts_4
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ukrainisation_efforts_2
		}
		swap_ideas = {
			remove_idea = UKR_ukrainisation_efforts_2
			add_idea = UKR_ukrainisation_efforts_3
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ukrainisation_efforts
		}
		swap_ideas = {
			remove_idea = UKR_ukrainisation_efforts
			add_idea = UKR_ukrainisation_efforts_2
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_lingering_ukrainisation
		}
		swap_ideas = {
			remove_idea = UKR_lingering_ukrainisation
			add_idea = UKR_ukrainisation_efforts
		}
		hidden_effect = {
			country_event = { id = ukrmisc.81 days = 88 random = 300 }   	# Dovzhenko
			country_event = { id = ukrmisc.83 days = 450 random = 200 }   	# Taras Bulba
			country_event = { id = ukrmisc.12 days = 143 random = 300 }   	# Bilokur
			country_event = { id = ukrmisc.15 days = 212 random = 300 }   	# Ukrainka
		}
	}
	else_if = {
		limit = {
			NOT = { has_idea = UKR_lingering_ukrainisation }
			NOT = { has_idea = UKR_ukrainisation_efforts_2 }
			NOT = { has_idea = UKR_ukrainisation_efforts_3 }
			NOT = { has_idea = UKR_ukrainisation_efforts_4 }
			NOT = { has_idea = UKR_stable_identity }
		}
		add_ideas = UKR_ukrainisation_efforts
	}
}

UKR_reduce_black_monday = {
	if = {
		limit = {
			has_idea = UKR_black_monday_2
		}
		effect_tooltip = {
			swap_ideas = {
				remove_idea = UKR_black_monday_2
				add_idea = UKR_black_monday_3
			}
		}
		hidden_effect = {
			remove_ideas = UKR_black_monday_2
			add_timed_idea = {
				idea = UKR_black_monday_3
				days = 180
			}
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_black_monday_1
		}
		swap_ideas = {
			remove_idea = UKR_black_monday_1
			add_idea = UKR_black_monday_2
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_black_monday
		}
		swap_ideas = {
			remove_idea = UKR_black_monday
			add_idea = UKR_black_monday_1
		}
	}	
}
UKR_reduce_agricultural_crisis = {
	if = {
		limit = { has_country_flag = UKR_agriculture_crisis }
		custom_effect_tooltip = UKR_reduce_agricultural_crisis_tt
		add_to_variable = { UKR_agricultural_crisis_taken_focuses = 1 }
		if = {
			limit = {
				check_variable = { UKR_agricultural_crisis_taken_focuses = 4 }
			}
			clr_country_flag = UKR_agriculture_crisis
			clear_variable = UKR_agricultural_crisis_taken_focuses
		}
	}
}
UKR_rename_states_administrative = {
	if = {
		limit = { has_global_flag = allowrenaming_flag }
		if = {
			limit = { controls_state = 193 }
			193 = { set_state_name = STATE_193_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 194 }
			194 = { set_state_name = STATE_194_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 196 }
			196 = { set_state_name = STATE_196_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 200 }
			if = {
				limit = { has_global_flag = renamed_oleksandrivsk_to_zaporizhia }
				200 = { set_state_name = STATE_200_REFORMED_ZAPORIZHIA_UKRAINIAN }
			}
			else_if = {
				limit = { has_global_flag = renamed_oleksandrivsk_to_sich }
				200 = { set_state_name = STATE_200_REFORMED_SICH_UKRAINIAN }
			}
		}
		if = {
			limit = { controls_state = 201 }
			201 = { set_state_name = STATE_201_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 225 }
			225 = { set_state_name = STATE_225_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 226 }
			226 = { set_state_name = STATE_226_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 227 }
			227 = { set_state_name = STATE_227_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 228 }
			228 = { set_state_name = STATE_228_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 240 }
			240 = { set_state_name = STATE_240_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 259 }
			259 = { set_state_name = STATE_259_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 791 }
			791 = { set_state_name = STATE_791_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 997 }
			997 = { set_state_name = STATE_997_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1228 }
			1228 = { set_state_name = STATE_1228_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1230 }
			1230 = { set_state_name = STATE_1230_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1232 }
			1232 = { set_state_name = STATE_1232_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1233 }
			1233 = { set_state_name = STATE_1233_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1234 }
			1234 = { set_state_name = STATE_1234_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1237 }
			1237 = { set_state_name = STATE_1237_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1238 }
			1238 = { set_state_name = STATE_1238_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1240 }
			1240 = { set_state_name = STATE_1240_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1241 }
			1241 = { set_state_name = STATE_1241_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1242 }
			1242 = { set_state_name = STATE_1242_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1243 }
			1243 = { set_state_name = STATE_1243_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1244 }
			1244 = { set_state_name = STATE_1244_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1245 }
			1245 = { set_state_name = STATE_1245_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1285 }
			1285 = { set_state_name = STATE_1285_REFORMED_UKRAINIAN }
		}			
	}
	else = {
		if = {
			limit = { controls_state = 194 }
			194 = { set_state_name = STATE_194_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 196 }
			196 = { set_state_name = STATE_196_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 200 }
			if = {
				limit = { has_global_flag = renamed_oleksandrivsk_to_zaporizhia }
				200 = { set_state_name = STATE_200_REFORMED_SICH_ENGLISH }
			}
			else_if = {
				limit = { has_global_flag = renamed_oleksandrivsk_to_sich }
				200 = { set_state_name = STATE_200_REFORMED_ZAPORIZHIA_ENGLISH }
			}
		}
		if = {
			limit = { controls_state = 201 }
			201 = { set_state_name = STATE_201_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 225 }
			225 = { set_state_name = STATE_225_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 226 }
			226 = { set_state_name = STATE_226_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 227 }
			227 = { set_state_name = STATE_227_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 228 }
			228 = { set_state_name = STATE_228_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 240 }
			240 = { set_state_name = STATE_240_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 997 }
			997 = { set_state_name = STATE_997_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 1228 }
			1228 = { set_state_name = STATE_1228_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 1230 }
			1230 = { set_state_name = STATE_1230_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 1232 }
			1232 = { set_state_name = STATE_1232_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 1233 }
			1233 = { set_state_name = STATE_1233_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1234 }
			1234 = { set_state_name = STATE_1234_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1238 }
			1238 = { set_state_name = STATE_1238_REFORMED_UKRAINIAN }
		}
		if = {
			limit = { controls_state = 1240 }
			1240 = { set_state_name = STATE_1240_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 1241 }
			1241 = { set_state_name = STATE_1241_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 1242 }
			1242 = { set_state_name = STATE_1242_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 1243 }
			1243 = { set_state_name = STATE_1243_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 1244 }
			1244 = { set_state_name = STATE_1244_REFORMED_ENGLISH }
		}
		if = {
			limit = { controls_state = 1285 }
			1285 = { set_state_name = STATE_1285_REFORMED_ENGLISH }
		}	
	}
}		

UKR_remove_king = {
	hidden_effect = {
		UKR = {
			get_current_government_type = yes
			set_politics = { ruling_party = social_liberal }
			if = {
				limit = { UKR_vasyl_in_power = yes }
				create_country_leader = {
					name = "Dmytro Doroshenko"
					desc = "POLITICS_DMYTRO_DOROSHENKO_DESC"
					picture = "gfx/leaders/UKR/Portrait_UKR_Dmitri_Doroshenko.png"
					expire = "1965.1.1"
					ideology = social_liberal_subtype
				}
			}
			set_politics = { ruling_party = market_liberal }
			if = {
				limit = { UKR_vasyl_in_power = yes }
				create_country_leader = {
					name = "Mykola Mikhnovskyi"
					desc = "POLITICS_MYKOLA_MIKHHNOVSKY_DESC"
					picture = "gfx/leaders/UKR/Portrait_UKR_Mykola_Mikhnovsky.png"
					expire = "1965.1.1"
					ideology = marlib_national_liberalism_subtype
				}
			}
			set_politics = { ruling_party = social_conservative }
			if = {
				limit = { UKR_vasyl_in_power = yes }
				if = {
					limit = { has_country_flag = ukr_switched_uskhd_upss }
					create_country_leader = {
						name = "Oleksandr Shapoval"
						desc = "POLITICS_OLEKSANDER_SHAPOVAL_DESC"
						picture = "gfx/leaders/UKR/Portrait_UKR_Oleksandr_Shapoval.png"
						expire = "1965.1.1"
						ideology = soccon_ukrainian_conservatism_subtype
					}
					else = {
						create_country_leader = {
							name = "Vyacheslav Lypynskyi"
							desc = "POLITICS_VYACHESLAV_LYPYNSKY_DESC"
							picture = "gfx/leaders/UKR/Portrait_UKR_Vyacheslav_Lypynsky.png"
							expire = "1965.1.1"
							ideology = soccon_ukrainian_conservatism_subtype
						}
					}
				}
			}
			set_politics = { ruling_party = authoritarian_democrat }
			if = {
				limit = { UKR_vasyl_in_power = yes }
				if = {
					limit = { has_country_flag = ukr_switched_uskhd_upss }
					create_country_leader = {
						name = "Oleksandr Shapoval"
						desc = "POLITICS_OLEKSANDER_SHAPOVAL_DESC"
						picture = "gfx/leaders/UKR/Portrait_UKR_Oleksandr_Shapoval.png"
						expire = "1965.1.1"
						ideology = social_nationalism_subtype
					}
					else = {
						create_country_leader = {
							name = "Vyacheslav Lypynskyi"
							desc = "POLITICS_VYACHESLAV_LYPYNSKY_DESC"
							picture = "gfx/leaders/UKR/Portrait_UKR_Vyacheslav_Lypynsky.png"
							expire = "1965.1.1"
							ideology = ukrainian_conservatism_subtype
						}
					}
				}
			}
			set_politics = { ruling_party = paternal_autocrat }
			if = {
				limit = { UKR_vasyl_in_power = yes }
				if = {
					limit = { has_global_flag = UKR_konovalets_counet_coup }
					create_country_leader = {
						name = "Andriy Melnyk"
						desc = "POLITICS_ANDRIY_MELNYK_DESC"
						picture = "gfx/leaders/UKR/Portrait_UKR_Andriy_Melnyk_Extra.png"
						expire = "1965.1.1"
						ideology = junta_subtype
					}
				}
				else_if = {
					limit = { 
						NOT = { has_country_flag = Pavlo_Skoropadskyi_dead }
					}
					create_country_leader = {
						name = "Pavlo Skoropadskyi"
						desc = "POLITICS_PAVLO_SKOROPADSKYI_DESC"
						picture = "gfx/leaders/UKR/Portrait_UKR_Pavlo_Skoropadsky.png"
						expire = "1965.1.1"
						ideology = pataut_ukrainian_conservatism_subtype
					}
				}
				else = {
					create_country_leader = {
						name = "Vasyl Kochubei"
						picture = "gfx/leaders/UKR/Portrait_UKR_Vasyl_Kochubei.png"
						expire = "1965.1.1"
						ideology = pataut_ukrainian_conservatism_subtype
					}
				}
			}
			restore_previous_government_type = yes
		}
	}
}

UKR_create_vasyl = {
	hidden_effect = {
		create_country_leader = {
			name = "Vasyl"
			desc = "POLITICS_VASYL_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Vasyl_Habsburg.png"
			expire = "1965.1.1"
			ideology = social_liberal_subtype
			traits = { UKR_red_prince }
		}
		create_country_leader = {
			name = "Vasyl"
			desc = "POLITICS_VASYL_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Vasyl_Habsburg.png"
			expire = "1965.1.1"
			ideology = liberal_conservative_subtype
			traits = { UKR_red_prince }
		}
		create_country_leader = {
			name = "Vasyl"
			desc = "POLITICS_VASYL_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Vasyl_Habsburg.png"
			expire = "1965.1.1"
			ideology = soccon_ukrainian_conservatism_subtype
			traits = { UKR_red_prince }
		}
		create_country_leader = {
			name = "Vasyl"
			desc = "POLITICS_VASYL_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Vasyl_Habsburg.png"
			expire = "1965.1.1"
			ideology = ukrainian_conservatism_subtype
			traits = { UKR_red_prince }
		}
		create_country_leader = {
			name = "Vasyl"
			desc = "POLITICS_VASYL_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Vasyl_Habsburg.png"
			expire = "1965.1.1"
			ideology = pataut_ukrainian_conservatism_subtype
			traits = { UKR_red_prince }
		}
	}
}

UKR_create_leo_stefan = {
	hidden_effect = {
		create_country_leader = {
			name = "Lev III"
			desc = "POLITICS_LEO_STEFAN_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Leo_Stefan_Habsburg_Child.png"
			expire = "1965.1.1"
			ideology = centrist_subtype
		}
		create_country_leader = {
			name = "Lev III"
			desc = "POLITICS_LEO_STEFAN_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Leo_Stefan_Habsburg_Child.png"
			expire = "1965.1.1"
			ideology = liberal_conservative_subtype
		}
		create_country_leader = {
			name = "Lev III"
			desc = "POLITICS_LEO_STEFAN_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Leo_Stefan_Habsburg_Child.png"
			expire = "1965.1.1"
			ideology = soccon_ukrainian_conservatism_subtype
		}
		create_country_leader = {
			name = "Lev III"
			desc = "POLITICS_LEO_STEFAN_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Leo_Stefan_Habsburg_Child.png"
			expire = "1965.1.1"
			ideology = ukrainian_conservatism_subtype
		}
		create_country_leader = {
			name = "Lev III"
			desc = "POLITICS_LEO_STEFAN_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Leo_Stefan_Habsburg_Child.png"
			expire = "1965.1.1"
			ideology = pataut_ukrainian_conservatism_subtype
		}
		create_country_leader = {
			name = "Lev III"
			desc = "POLITICS_LEO_STEFAN_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Leo_Stefan_Habsburg_Child.png"
			expire = "1965.1.1"
			ideology = integralism_subtype
		}
	}
}

UKR_create_danylo = {
	hidden_effect = {
		create_country_leader = {
			name = "Danylo II"
			desc = "POLITICS_DANYLO_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Danylo_Skoropadsky.png"
			expire = "1965.1.1"
			ideology = social_liberal_subtype
		}
		create_country_leader = {
			name = "Danylo II"
			desc = "POLITICS_DANYLO_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Danylo_Skoropadsky.png"
			expire = "1965.1.1"
			ideology = liberal_conservative_subtype
		}
		create_country_leader = {
			name = "Danylo II"
			desc = "POLITICS_DANYLO_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Danylo_Skoropadsky.png"
			expire = "1965.1.1"
			ideology = soccon_ukrainian_conservatism_subtype
		}
		create_country_leader = {
			name = "Danylo II"
			desc = "POLITICS_DANYLO_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Danylo_Skoropadsky.png"
			expire = "1965.1.1"
			ideology = ukrainian_conservatism_subtype
		}
		create_country_leader = {
			name = "Danylo II"
			desc = "POLITICS_DANYLO_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Danylo_Skoropadsky.png"
			expire = "1965.1.1"
			ideology = pataut_ukrainian_conservatism_subtype
		}
		create_country_leader = {
			name = "Danylo II"
			desc = "POLITICS_DANYLO_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Danylo_Skoropadsky.png"
			expire = "1965.1.1"
			ideology = integralism_subtype
		}
	}
}
UKR_copy_leaders_of_ROOT = {
	if = {
		limit = { UKR_is_hetmanate_or_monarchy = yes }
		if = {
			limit = { ROOT = { UKR_vasyl_in_power = yes } }
			UKR_create_vasyl = yes
		}
		else_if = {
			limit = { ROOT = { UKR_leo_stefan_in_power = yes } }
			UKR_create_leo_stefan = yes
		}
		else_if = {
			limit = { ROOT = { UKR_danila_skoropadsky_in_power = yes } }
			UKR_create_danylo = yes
		}
		else_if = {
			limit = { 
				ROOT = { UKR_pavlo_skoropadsky_in_power = yes }
			}
			create_country_leader = {
				name = "Pavlo Skoropadskyi"
				desc = "POLITICS_PAVLO_SKOROPADSKYI_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Pavlo_Skoropadskyi_Hetman.png"
				expire = "1965.1.1"
				ideology = pataut_ukrainian_conservatism_subtype
			}
		}
		else = {
			create_country_leader = {
				name = "Pavlo Skoropadskyi"
				desc = "POLITICS_PAVLO_SKOROPADSKYI_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Pavlo_Skoropadsky.png"
				expire = "1965.1.1"
				ideology = pataut_ukrainian_conservatism_subtype
			}
		}
		if = {
			limit = { has_cosmetic_tag = UKR_hetmanate }
			add_country_leader_trait = UKR_hetman_title
		}
		else = {
			add_country_leader_trait = UKR_king_title
		}
	}
	else = {
		UKR_remove_king = yes
		if = {
			limit = {
				ROOT = { UKR_skrypnyk_in_power = yes }
			}
			create_country_leader = {
				name = "Mykola Skrypnyk"
				desc = "POLITICS_MYKOLA_SKRYPNYK_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Mykola_Skrypnyk.png"
				expire = "1965.1.1"
				ideology = national_communism_subtype
			}
			create_country_leader = {
				name = "Mykola Skrypnyk"
				desc = "POLITICS_MYKOLA_SKRYPNYK_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Mykola_Skrypnyk.png"
				expire = "1965.1.1"
				ideology = radsoc_communism_subtype
			}
		}
		else = {
			create_country_leader = {
				name = "Andriy Richytskyi"
				desc = "POLITICS_ANDRIY_RYCHYTSKYI_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Andriy_Richytskyi.png"
				expire = "1965.1.1"
				ideology = national_communism_subtype
				traits = { UKR_anticolonialist }
			}
		}
		if = {
			limit = {
				ROOT = { 
					UKR_vynnychenko_in_power = yes
					has_government = radical_socialist
				}
			}
			create_country_leader = {
				name = "Volodymyr Vynnychenko"
				desc = "POLITICS_VOLODYMYR_VYNNYCHENKO_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Volodymyr_Vynnychenko.png" 
				expire = "1965.1.1"
				ideology = moderate_socialist_subtype
				traits = { UKR_writer_of_the_revolution }
			}
			set_party_name = {
				ideology = social_democrat
				name = UKR_radical_socialist_party
				long_name = UKR_radical_socialist_party_long
			}
		}
		else = {
			create_country_leader = {
				name = "Vasyl Shakhrai"
				desc = "POLITICS_VASYL_SHAKHRAI_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Vasyl_Shakhrai.png" 
				expire = "1965.1.1"
				ideology = radsoc_national_communism_subtype
			}
		}
		if = {
			limit = {
				ROOT = { UKR_vynnychenko_in_power = yes }
			}
			create_country_leader = {
				name = "Volodymyr Vynnychenko"
				desc = "POLITICS_VOLODYMYR_VYNNYCHENKO_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Volodymyr_Vynnychenko.png" 
				expire = "1965.1.1"
				ideology = socdem_democratic_socialism_subtype
				traits = { UKR_writer_of_the_revolution }
			}
			set_party_name = {
				ideology = social_democrat
				name = UKR_social_democrat_party
				long_name = UKR_social_democrat_party
			}				
		}
		else_if = {
			limit = { 
				ROOT = { UKR_petliura_in_power = yes }
			}
			create_country_leader = {
				name = "Symon Petliura"
				desc = "POLITICS_SYMON_PETLIURA_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Symon_Petliura.png" 
				expire = "1965.1.1"
				ideology = socdem_junta_subtype
			}
			set_party_name = {
				ideology = social_democrat
				name = UKR_social_democrat_party4
				long_name = UKR_social_democrat_party4_long
			}				
		}
		else = {
			set_party_name = {
				ideology = social_democrat
				name = UKR_social_democrat_party2
				long_name = UKR_social_democrat_party2
			}
			if = {
				limit = {
					ROOT = { 
						has_country_leader = {
							name = "Vsevolod Holubovych"
							ruling_only = yes
						}
					}
				}
				create_country_leader = {
					name = "Vsevolod Holubovych"
					desc = "POLITICS_VSEVOLOD_HOLUBOVYCH_DESC"
					picture = "gfx/leaders/UKR/Portrait_UKR_Vsevolod_Holubovych.png" 
					expire = "1965.1.1"
					ideology = socdem_narodism_subtype
				}
			}
			else_if = {
				limit = {
					ROOT = {
						has_country_leader = {
							name = "Mykola Kovalevskyi"
							ruling_only = yes
						}
					}
				}
				create_country_leader = {
					name = "Mykola Kovalevskyi"
					desc = "POLITICS_MYKOLA_KOVALEVSKYI_DESC"
					picture = "gfx/leaders/UKR/Portrait_UKR_Mykola_Kovalevskyi.png"
					expire = "1965.1.1"
					ideology = socdem_narodism_subtype
					traits = { UKR_cooperator }
				}	
			}
			else_if = {
				limit = {
					ROOT = { 
						has_country_leader = {
							name = "Pavlo Khristiuk"
							ruling_only = yes
						}
					}
				}
				create_country_leader = {
					name = "Pavlo Khristiuk"
					desc = "POLITICS_PAVLO_KHRISTIUK_DESC"
					picture = "gfx/leaders/UKR/Portrait_UKR_Pavlo_Khrystiuk.png"
					expire = "1965.1.1"
					ideology = socdem_narodism_subtype
					traits = { UKR_cooperator }
				}	
			}
			else_if = {
				limit = {
					ROOT = { 
						has_country_leader = {
							name = "Mykyta Shapoval"
							ruling_only = yes
						}
					}
				}
				create_country_leader = {
					name = "Mykyta Shapoval"
					desc = "POLITICS_MYKYTA_SHAPOVAL_DESC"
					picture = "gfx/leaders/UKR/Portrait_UKR_Mykyta_Shapoval.png"
					expire = "1965.1.1"
					ideology = socdem_narodism_subtype
					traits = { UKR_forester }
				}	
			}
			else_if = {
				limit = {
					ROOT = { 
						has_country_leader = {
							name = "Mykhailo Hrushevskyi"
							ruling_only = yes
						}
					}
				}
				create_country_leader = {
					name = "Mykhailo Hrushevskyi"
					desc = "POLITICS_MYKHAILO_HRUSHEVSKYI_DESC"
					picture = "gfx/leaders/UKR/Portrait_UKR_Mykhailo_Hrushevsky.png"
					expire = "1965.1.1"
					ideology = socdem_narodism_subtype
					traits = { UKR_first_premier }
				}	
			}
			else = {
				meta_effect = {
					text = {
						create_country_leader = {
							name = "[RADA_NAME]"
							desc = "POLITICS_CENTRAL_RADA_DESC"
							picture = "gfx/leaders/UKR/Portrait_UKR_Rada.png"
							expire = "1965.1.1"
							ideology = socdem_narodism_subtype
						}
					}
					RADA_NAME = "[GetUkrainianParliamentFullName]"
				}
			}
		}
		if = {
			limit = {
				ROOT = {
					has_country_leader = {
						name = "Oleksandr Shulhyn"
						ruling_only = yes
					}
				}
			}
			create_country_leader = {
				name = "Oleksandr Shulhyn"
				desc = "POLITICS_OLEKSANDER_SHULHYN_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Oleksandr_Shulhin.png" 
				expire = "1965.1.1"
				ideology = social_liberal_subtype
			}
		}
		else_if = {
			limit = {
				ROOT = {
					has_country_leader = {
						name = "Andriy Nikovskyi"
						ruling_only = yes
					}
				}
			}
			create_country_leader = {
				name = "Andriy Nikovskyi"
				desc = "POLITICS_ANDRIY_NIKOVSKYI_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Andriy_Nikovskyi.png"
				expire = "1965.1.1"
				ideology = social_liberal_subtype				
			}
		}
		else = {
			create_country_leader = {
				name = "Serhiy Yefremov"
				desc = "POLITICS_SERHIY_YEFREMOV_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Serhiy_Yefremov.png"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
			}
		}		
		if = {
			limit = { 
				ROOT = {
					has_country_leader_ideology = centrist_subtype
				}
			}
			set_country_leader_ideology = centrist_subtype		
		}
		create_country_leader = {
			name = "Andriy Melnyk"
			desc = "POLITICS_ANDRIY_MELNYK_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Andriy_Melnyk_Extra.png"
			expire = "1965.1.1"
			ideology = junta_subtype
			traits = { UKR_vozhd }
		}		
		if = {
			limit = {
				ROOT = { UKR_yevhen_konovalets_in_power = yes }
			}
			create_country_leader = {
				name = "Yevhen Konovalets"
				desc = "POLITICS_YEVHEN_KONOVALETS_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Yevhen_Konovalets_civilian.png"
				expire = "1965.1.1"
				ideology = ukrainian_nationalism_subtype
				traits = { UKR_vozhd }
			}
		}
		else_if = {
			limit = {
				ROOT = { UKR_dmytro_dontsov_in_power = yes }
			}
			create_country_leader = {
				name = "Dmytro Dontsov"
				desc = "POLITICS_DMITRI_DONTSOV_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Dmitri_Dontsov.png"
				expire = "1965.1.1"
				ideology = ukrainian_nationalism_subtype
			}
		}
		else = {
			create_country_leader = {
				name = "Andriy Melnyk"
				desc = "POLITICS_ANDRIY_MELNYK_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Andriy_Melnyk_Extra.png"
				expire = "1965.1.1"
				ideology = ukrainian_nationalism_subtype
				traits = { UKR_vozhd }
			}
		}
	}	
}
UKR_setup_decisions_for_intervention = {
	hidden_effect = {
		RUS = {
			activate_targeted_decision = { target = var:202.owner decision = UKR_support_kyiv }
			activate_targeted_decision = { target = var:221.owner decision = UKR_support_borotbysts }
			activate_targeted_decision = { target = UKR decision = UKR_intervention }
		}
		GER = {
			activate_targeted_decision = { target = var:202.owner decision = UKR_support_kyiv }
			activate_targeted_decision = { target = UKR decision = UKR_intervention }
		}
		AUS = {
			activate_targeted_decision = { target = var:202.owner decision = UKR_support_kyiv }
		}
		FRA = {
			activate_targeted_decision = { target = var:221.owner decision = UKR_support_borotbysts }
		}
		ENG = {
			activate_targeted_decision = { target = var:221.owner decision = UKR_support_borotbysts }
		}
		SRI = {
			activate_targeted_decision = { target = var:221.owner decision = UKR_support_borotbysts }
		}
		POL = {
			activate_targeted_decision = { target = UKR decision = UKR_intervention }
		}
		WHR = {
			activate_targeted_decision = { target = UKR decision = UKR_intervention }
		}
		ROM = {
			activate_targeted_decision = { target = UKR decision = UKR_intervention }
		}
	}
}
UPR_setup_ROOT_borotbyst_uprising = {
	hidden_effect = {
		every_owned_state = {
			limit = {
				NOT = {
					state = 1233
					state = 1234
					state = 1238
					state = 1232
					state = 1229
					state = 821
					state = 240
					state = 203
					state = 259
					state = 221
					state = 227
					state = 1282
					state = 1283
					state = 1284
					state = 1285
					state = 1286
					state = 228
					state = 226
					state = 1231
					state = 200
					state = 1239
					state = 197
					state = 196	
					state = 137
					state = 1220
					state = 1221
				}
			}
			USR = {
				transfer_state = PREV
				add_state_core = PREV
			}
			remove_core_of = UKR
			add_claim_by = UKR
		}
		separate_peace_all_wars = yes
		clear_all_relations = yes
		remove_opinion_modifier = { target = FRA modifier = embargo }
		remove_opinion_modifier = { target = ENG modifier = embargo }
		remove_opinion_modifier = { target = SRI modifier = embargo }
		every_other_country = {
			limit = {
				OR = {
					tag = FRA
					tag = ENG
					tag = SRI
				}
			}
			remove_opinion_modifier = { target = UKR modifier = embargo }				
			add_opinion_modifier = { target = UKR modifier = KR_approves_of_govt }
		}
		if = {
			limit = { UKR_petliura_in_power = yes}
			set_country_flag = UKR_borotbyst_against_petliura
		}
		else_if = {
			limit = { UKR_skrypnyk_in_power = yes }
			set_country_flag = UKR_borotbyst_against_skrypnyk
		}
		else_if = {
			limit = {
				OR = {
					UKR_upsr_in_power = yes
					UKR_usdrp_in_power = yes
					UKR_ukp_in_power = yes
					has_country_flag = UKR_dyrektoria_tree_unlocked
					UKR_upsf_in_power = yes
				}
			}
			set_country_flag = UKR_borotbyst_against_dyrektoria
		}
		clr_country_flag = UKR_dyrektoria_tree_unlocked
		set_party_name = {
			ideology = radical_socialist
			name = UKR_radical_socialist_party3
			long_name = UKR_radical_socialist_party3_long
		}
		set_party_name = {
			ideology = social_democrat
			name = UKR_social_democrat_party2
			long_name = UKR_social_democrat_party2_long
		}
		set_party_name = {
			ideology = syndicalist
			name = UKR_syndicalist_party
			long_name = UKR_syndicalist_party_long
		}
		if = {
			limit = { has_idea = UKR_KUB_Convention }
			set_country_flag = UKR_KUB_Convention_saved
			remove_ideas = UKR_KUB_Convention
		}
		clr_country_flag = UKR_agricultural_crisis
		decrease_ruling_party_popularity_by_15 = yes
		UKR_remove_brotfrieden_without_events = yes
		remove_ideas = {
			UKR_black_monday_3
			UKR_black_monday_2
			UKR_black_monday_1
			UKR_black_monday
			german-ukrainian_railways
			UKR_ger_some_concessions
			UKR_ger_all_concessions
			UKR_ger_all_concessions_harsh
			UKR_bel_some_concessions
			UKR_aus_some_concessions
			UKR_pol_some_concessions
			UKR_swe_some_concessions
			UKR_cze_some_concessions
			UKR_hol_some_concessions
			UKR_paying_compensations_0
			UKR_paying_compensations_1
			UKR_paying_compensations_2
			UKR_paying_compensations_3
			UKR_paying_compensations_4			
			UKR_ukrainian_compensation

			UKR_ratekommunismus
			UKR_decentralized_planning
			UKR_cultural_autonomy
			UKR_welfare
			UKR_municipal_socialism
			UKR_socialism_in_city
			UKR_indicative_planning
			UKR_small_business
			UKR_small_business_tax
			UKR_social_security
			UKR_street_demonstrations
			UKR_austromarxism_influence
			UKR_demsoc_constitution_0
			UKR_demsoc_constitution_1
			UKR_demsoc_constitution_1_1
			UKR_demsoc_constitution_2
			UKR_demsoc_constitution_2_1			
			UKR_primacy_of_rada_1
			UKR_primacy_of_rada_2
			
			UKR_limited_soviets
			UKR_separation_of_powers
			UKR_apolitic_disciplined_army
			UKR_subordinate_peoples_militia
			UKR_general_conscription
			UKR_joint_state_planning
			UKR_trudova_respublika
			UKR_hope_for_future
			UKR_narodnik_const
			
			UKR_protofis_investments
			UKR_new_monarchy
			UKR_organic_corporatism_1
			UKR_organic_corporatism_2
			UKR_austrian_regent
			UKR_uskhd_1
			UKR_uskhd_2
			UKR_uskhd_2
			UKR_happy_workers
			UKR_ukrainian_agrarianism
			UKR_Constitution_National_Accord
			UKR_National_Rada
			UKR_charity

			UKR_local_radas_sun
			UKR_sunm_organisation
			UKR_plast_organisation
			UKR_sun_economy_1
			UKR_sun_economy_2
			UKR_sun_economy_3
			UKR_soborna_ukraina
			UKR_cult_of_konovalets
			
			UKR_martial_law
			UKR_Rada_diss
		
		}
		
		USR = { 
			if = {
				limit = {
					UKR = { has_idea = UKR_lingering_ukrainisation }
				}
				add_ideas = UKR_lingering_ukrainisation
			}
			if = {
				limit = {
					UKR = { has_idea = UKR_ukrainisation_efforts }
				}
				add_ideas = UKR_ukrainisation_efforts
			}
			if = {
				limit = {
					UKR = { has_idea = UKR_ukrainisation_efforts_2 }
				}
				add_ideas = UKR_ukrainisation_efforts_2
			}
			if = {
				limit = {
					UKR = { has_idea = UKR_ukrainisation_efforts_3 }
				}
				add_ideas = UKR_ukrainisation_efforts_3
			}
			if = {
				limit = {
					UKR = { has_idea = UKR_ukrainisation_efforts_4 }
				}
				add_ideas = UKR_ukrainisation_efforts_4
			}
			if = {
				limit = {
					UKR = { has_idea = UKR_black_monday }
				}
				add_ideas = UKR_black_monday
			}
			if = {
				limit = {
					UKR = { has_idea = UKR_black_monday_1 }
				}
				add_ideas = UKR_black_monday_1
			}
			if = {
				limit = {
					UKR = { has_idea = UKR_black_monday_2 }
				}
				add_ideas = UKR_black_monday_2
			}
			if = {
				limit = {
					UKR = { has_idea = UKR_village_outflow }
				}
				add_ideas = UKR_village_outflow
			}
			if = {
				limit = {
					ROOT = { has_cosmetic_tag = UKR_communist }
				}
				set_cosmetic_tag = UKR_communist
			}
			else_if = {
				limit = {
					ROOT = { has_cosmetic_tag = UKR_kingdom }
				}
				set_cosmetic_tag = UKR_kingdom
			}
			else_if = {
				limit = {
					ROOT = { has_cosmetic_tag = UKR_nationalist }
				}
				set_cosmetic_tag = UKR_nationalist
			}
			else_if = {
				limit = {
					ROOT = { has_cosmetic_tag = UKR_dyrektoria }
				}
				set_cosmetic_tag = UKR_dyrektoria
			}
			else_if = {
				limit = {
					ROOT = { has_cosmetic_tag = UKR_SOV }
				}
				set_cosmetic_tag = UKR_SOV
			}
			else_if = {
				limit = {
					ROOT = { has_cosmetic_tag = UKR_bolshevist }
				}
				set_cosmetic_tag = UKR_bolshevist
			}
			else_if = {
				limit = {
					ROOT = { has_cosmetic_tag = UKR_hetmanate }
				}
				set_cosmetic_tag = UKR_hetmanate
			}
			else_if = {
				limit = {
					ROOT = { has_cosmetic_tag = UKR_cossack_hetmanate }
				}
				set_cosmetic_tag = UKR_cossack_hetmanate
			}
			else = { set_cosmetic_tag = UPR_USR }
			set_political_party = {
				ideology = syndicalist
				popularity = 0
			}
			copy_government_of_ROOT = yes
			UKR_copy_leaders_of_ROOT = yes
			remove_all_ministers = yes		
			transfer_technology_and_slots = yes
			set_stability = 0.1
			set_war_support = 0.5
			set_capital = { state = 202 }	
		}
		set_cosmetic_tag = UKR_borotbyst
		create_country_leader = {
			name = "Oleksandr Shumskyi"
			desc = "POLITICS_OLEKSANDER_SHUMSKYI_DESC"
			picture = "gfx/leaders/UKR/Portrait_Ukraine_Oleksander_Shumsky.png" 
			expire = "1965.1.1"
			ideology = anarcho_syndicalist_subtype
			traits = { UKR_fervent_revolutionary }
		}	
		create_country_leader = {
			name = "Oleksandr Shumskyi"
			desc = "POLITICS_OLEKSANDER_SHUMSKYI_DESC"
			picture = "gfx/leaders/UKR/Portrait_Ukraine_Oleksander_Shumsky.png" 
			expire = "1965.1.1"
			ideology = radsoc_anarcho_syndicalist_subtype
			traits = { UKR_fervent_revolutionary }
		}
		create_country_leader = {
			name = "Levko Kovaliv"
			desc = "POLITICS_LEVKO_KOVALIV_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Lev_Kovaliv.png"
			expire = "1965.1.1"
			ideology = socdem_narodism_subtype
		}
		mark_focus_tree_layout_dirty = yes
		set_political_power = 0
		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = no
		}		
		transfer_units_fraction = {
			target = USR
			size = 0.5
			army_ratio = 0.5
			navy_ratio = 0
			air_ratio = 0.5
			stockpile_ratio = 0.5
			keep_unit_leaders_trigger = { always = yes }
		}
		delete_unit_template_and_units = {
			division_template = "Sichovi Striltsi"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "Halytskyi korpus Sichovykh Striltsiv"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "Petliurivtsi"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "Kinnohirskyi Dyvizion"
			disband = yes #will refund equipment and manpower
		}
		USR = {
			every_unit_leader = { set_nationality = UKR }
		}
		every_unit_leader = {
			limit = {
				NOT = {	has_unit_leader_flag = UKR_borotbyst_loyalist }
			}
			set_nationality = USR
		}
		set_capital = { state = 221 }		
		remove_all_ministers = yes		
		add_ideas = {
			war_economy
			closed_economy
			service_by_requirement
			UKR_Oleksander_Shumsky_hog_rso
			UKR_Antin_Prikhodko_for_rso
			UKR_Panas_P_Lyubchenko_eco_rso
			UKR_Hryhorii_Hrynko_sec_rso
		}		
		set_war_support = 0.6
		division_template = {
			name = "Chervona Hvardiia"
			division_names_group = UKR_MIL_01
			is_locked = yes
			regiments = {
				militia = { x = 0 y = 0 }
				militia = { x = 0 y = 1 }
				militia = { x = 0 y = 2 }
				militia = { x = 1 y = 0 }
				militia = { x = 1 y = 1 }
				militia = { x = 1 y = 2 }
			}
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.2"
				owner = ROOT
			}
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.2"
				owner = ROOT
			}
			create_unit = {
				division = "division_template = \"Kinnyi Dyvizion\" start_experience_factor = 0.2"
				owner = ROOT
			}
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.2"
				owner = ROOT
			}
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.2"
				owner = ROOT
			}
			create_unit = {
				division = "division_template = \"Kinnyi Dyvizion\" start_experience_factor = 0.2"
				owner = ROOT
			}
			create_unit = {
				division = "division_template = \"Kinnyi Dyvizion\" start_experience_factor = 0.2"
				owner = ROOT
			}
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.3"
				owner = ROOT
			}
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.2"
				owner = ROOT
			}
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.1"
				owner = ROOT
			}
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.1"
				owner = ROOT
			}
			create_unit = {
				division = "division_template = \"Kinnyi Dyvizion\" start_experience_factor = 0.2"
				owner = ROOT
			}
		}		
	}
	UKR_setup_decisions_for_intervention = yes
}
UPR_setup_borotbyst_uprising = {
	hidden_effect = {
		every_owned_state = {
			limit = {
				OR = {
					state = 1233
					state = 1234
					state = 1238
					state = 1232
					state = 1229
					state = 821
					state = 240
					state = 203
					state = 259
					state = 221
					state = 227
					state = 228
					state = 1282
					state = 1283
					state = 1284
					state = 1285
					state = 1286
					state = 226
					state = 1231
					state = 200
					state = 1239
					state = 197
					state = 196	
					state = 137
					state = 1220
					state = 1221
				}
			}
			USR = {
				transfer_state = PREV
				add_state_core = PREV
			}
			remove_core_of = UKR
			add_claim_by = UKR
		}
		USR = { 
			copy_government_of_ROOT = yes
			transfer_technology_and_slots = yes
			set_capital = { state = 221 }
			set_cosmetic_tag = UKR_borotbyst
			if = {
				limit = { ROOT = { UKR_petliura_in_power = yes} }
				set_country_flag = UKR_borotbyst_against_petliura
			}
			else_if = {
				limit = {  ROOT = { UKR_skrypnyk_in_power = yes } }
				set_country_flag = UKR_borotbyst_against_skrypnyk
			}
			else_if = {
				limit = {
					OR = {
						UKR_upsr_in_power = yes
						UKR_usdrp_in_power = yes
						UKR_ukp_in_power = yes
						has_country_flag = UKR_dyrektoria_tree_unlocked
						UKR_upsf_in_power = yes
					}
				}
				set_country_flag = UKR_borotbyst_against_dyrektoria
			}
			create_country_leader = {
				name = "Oleksandr Shumskyi"
				desc = "POLITICS_OLEKSANDER_SHUMSKYI_DESC"
				picture = "gfx/leaders/UKR/Portrait_Ukraine_Oleksander_Shumsky.png" 
				expire = "1965.1.1"
				ideology = anarcho_syndicalist_subtype
				traits = { UKR_fervent_revolutionary }
			}	
			create_country_leader = {
				name = "Oleksandr Shumskyi"
				desc = "POLITICS_OLEKSANDER_SHUMSKYI_DESC"
				picture = "gfx/leaders/UKR/Portrait_Ukraine_Oleksander_Shumsky.png" 
				expire = "1965.1.1"
				ideology = radsoc_anarcho_syndicalist_subtype
				traits = { UKR_fervent_revolutionary }
			}
			create_country_leader = {
				name = "Levko Kovaliv"
				desc = "POLITICS_LEVKO_KOVALIV_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Lev_Kovaliv.png"
				expire = "1965.1.1"
				ideology = socdem_narodism_subtype
			}
			set_politics = {
				ruling_party = radical_socialist
				elections_allowed = no
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.25
			}
			load_focus_tree = { tree = UKR_focus keep_completed = yes }
			mark_focus_tree_layout_dirty = yes
			remove_all_ministers = yes		
			add_ideas = {
				war_economy
				closed_economy
				service_by_requirement
				UKR_Oleksander_Shumsky_hog_rso
				UKR_Antin_Prikhodko_for_rso
				UKR_Panas_P_Lyubchenko_eco_rso
				UKR_Hryhorii_Hrynko_sec_rso
			}		
			set_war_support = 0.6
			division_template = {
				name = "Chervona Hvardiia"
				division_names_group = UKR_MIL_01
				is_locked = yes
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 0 y = 2 }
					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
					militia = { x = 1 y = 2 }
				}
			}
			random_owned_controlled_state = {
				create_unit = {
					division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.2"
					owner = USR
				}
				create_unit = {
					division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.2"
					owner = USR
				}
				create_unit = {
					division = "division_template = \"Kinnyi Dyvizion\" start_experience_factor = 0.2"
					owner = USR
				}
			}
			random_owned_controlled_state = {
				create_unit = {
					division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.2"
					owner = USR
				}
				create_unit = {
					division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.2"
					owner = USR
				}
				create_unit = {
					division = "division_template = \"Kinnyi Dyvizion\" start_experience_factor = 0.2"
					owner = USR
				}
				create_unit = {
					division = "division_template = \"Kinnyi Dyvizion\" start_experience_factor = 0.2"
					owner = USR
				}
			}
			random_owned_controlled_state = {
				create_unit = {
					division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.3"
					owner = USR
				}
				create_unit = {
					division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.2"
					owner = USR
				}
				create_unit = {
					division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.1"
					owner = USR
				}
				create_unit = {
					division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.1"
					owner = USR
				}
				create_unit = {
					division = "division_template = \"Kinnyi Dyvizion\" start_experience_factor = 0.2"
					owner = USR
				}
			}	
		}
		every_unit_leader = {
			limit = { has_unit_leader_flag = UKR_borotbyst_loyalist }
			set_nationality = USR
		}		
		transfer_units_fraction = {
			target = USR
			size = 0.2
			army_ratio = 0.2
			navy_ratio = 0
			air_ratio = 0.2
			stockpile_ratio = 0.2
			keep_unit_leaders_trigger = { always = yes }
		}	
		add_popularity = {
			ideology = syndicalist
			popularity = -0.15
		}
	}
	UKR_setup_decisions_for_intervention = yes
}
UKR_setup_dyrektoria_divisions = {
	hidden_effect = {
		disband_twenty_percent_units_delete_equipment = yes
		division_template = {
			name = "Petliurivtsi"
			division_names_group = UKR_INF_02
			is_locked = yes
			regiments = {
				irregular_infantry = { x = 0 y = 0 }
				irregular_infantry = { x = 0 y = 1 }
				irregular_infantry = { x = 0 y = 2 }
				irregular_infantry = { x = 1 y = 0 }
				irregular_infantry = { x = 1 y = 1 }
				irregular_infantry = { x = 1 y = 2 }
			}
			support = {
				engineer = { x = 0 y = 0 }
			}
			template_counter = 68
		}
		division_template = {
			name = "Kinnohirskyi Dyvizion"
			division_names_group = UKR_MTN_02
			is_locked = yes
			regiments = {
				artillery_brigade = { x = 0 y = 0 }
				artillery_brigade = { x = 0 y = 1 }
				artillery_brigade = { x = 0 y = 2 }
				mountaineers = { x = 1 y = 0 }
				mountaineers = { x = 1 y = 1 }
				cavalry = { x = 2 y = 0 }
				cavalry = { x = 2 y = 1 }
			}
			support = {
				engineer = { x = 0 y = 0 }
			}
		}
		if = {
			limit = {
				NOT = { has_template = "Pikhotna Diviziia"}
			}
			division_template = {
				name = "Pikhotna Dyviziia"
				division_names_group = UKR_INF_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
				}
				support = {
					artillery = { x = 0 y = 0 }
				}
			}
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "name = \"Ukrainskyi Korpus\" division_template = \"Pikhotna Dyviziia\" start_experience_factor = 0.2"
				owner = ROOT
			}
			create_unit = {
				division = "name = \"Khersonskaya Diviziia\" division_template = \"Pikhotna Dyviziia\" start_experience_factor = 0.3"
				owner = ROOT
			}
			create_unit = {
				division = "name = \"Zaporizkyi Kinnohirskyi Harmatnyi Dyvizion 'Almazivtsi'\" division_template = \"Kinnohirskyi Dyvizion\" start_experience_factor = 0.4"
				owner = ROOT
			}
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "name = \"Sichovyi Zaporizkyi korpus\" division_template = \"Pikhotna Dyviziia\" start_experience_factor = 0.3"
				owner = ROOT
			}
			create_unit = {
				division = "name = \"Serdiutska Dyviziia\" division_template = \"Petliurivtsi\" start_experience_factor = 0.3"
				owner = ROOT
			}
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "name = \"Sichova Striletska Dyviziia\" division_template = \"Pikhotna Dyviziia\" start_experience_factor = 0.2"
				owner = ROOT
			}
			create_unit = {
				division = "name = \"Striletsko-Kozatska Dyviziia 'Sirozhupannyky'\" division_template = \"Pikhotna Dyviziia\" start_experience_factor = 0.4"
				owner = ROOT
			}
			create_unit = {
				division = "name = \"Volynska Striletska Dyviziia\" division_template = \"Pikhotna Dyviziia\" start_experience_factor = 0.1"
				owner = ROOT
			}
		}
		random_state = {
			prioritize = { 227 }
			create_unit = {
				division = "name = \"Selianska povstanska dyviziia\" division_template = \"Petliurivtsi\" start_experience_factor = 0.05 start_equipment_factor = 0.8"
				allow_spawning_on_enemy_provs = yes
				prioritize_location = 502
				owner = ROOT
			}
			create_unit = {
				division = "name = \"Mariupolskyi povstanskyi polk'\" division_template = \"Petliurivtsi\" start_experience_factor = 0.05 start_equipment_factor = 0.8"
				allow_spawning_on_enemy_provs = yes
				prioritize_location = 6420
				owner = ROOT
			}
			if = {
				limit = {
					ROOT = { NOT = { has_country_flag = UKR_has_secured_rear } }
				}
				create_unit = {
					division = "name = \"Yuzivskyi selianskyi batalion\" division_template = \"Petliurivtsi\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 6474
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Donetska bryhada'\" division_template = \"Petliurivtsi\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 6474
					owner = ROOT
				}
			}
		}
		random_state = {
			prioritize = { 200 }
			create_unit = {
				division = "name = \"Selianska dyviziia\" division_template = \"Petliurivtsi\" start_experience_factor = 0.05 start_equipment_factor = 0.8"
				allow_spawning_on_enemy_provs = yes
				prioritize_location = 6596
				owner = ROOT
			}
			if = {
				limit = {
					ROOT = { NOT = { has_country_flag = UKR_has_secured_rear } }
				}
				create_unit = {
					division = "name = \"Zaporizkyi selianskyi batalion\" division_template = \"Petliurivtsi\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 11405
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Zaporizkyi povstanskyi kurin'\" division_template = \"Petliurivtsi\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 11405
					owner = ROOT
				}
			}
		}
		random_state = {
			prioritize = { 1232 197 192 }
			create_unit = {
				division = "name = \"Povstale narodne opolchennia\" division_template = \"Petliurivtsi\" start_experience_factor = 0.05 start_equipment_factor = 0.8"
				allow_spawning_on_enemy_provs = yes
				owner = ROOT
			}
			create_unit = {
				division = "name = \"Povstale narodne opolchennia\" division_template = \"Petliurivtsi\" start_experience_factor = 0.05 start_equipment_factor = 0.8"
				allow_spawning_on_enemy_provs = yes
				owner = ROOT
			}
			create_unit = {
				division = "name = \"Povstale narodne opolchennia\" division_template = \"Petliurivtsi\" start_experience_factor = 0.05 start_equipment_factor = 0.8"
				allow_spawning_on_enemy_provs = yes
				owner = ROOT
			}
		}		
		if = {
			limit = {
				NOT = { has_government = national_populist }
			}
			set_country_flag = UPR_uvo_openly_joins_dyrektoria
			create_country_leader = {
				name = "Andriy Melnyk"
				desc = "POLITICS_ANDRIY_MELNYK_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Andriy_Melnyk_Extra.png"
				expire = "1965.1.1"
				ideology = junta_subtype
			}
			division_template = {
				name = "Halytskyi korpus Sichovykh Striltsiv"
				division_names_group = UKR_ELI_02
				regiments = {
					elite_infantry = { x = 0 y = 0 }
					elite_infantry = { x = 0 y = 1 }
					elite_infantry = { x = 0 y = 2 }
					elite_infantry = { x = 0 y = 3 }
					elite_infantry = { x = 1 y = 0 }
					elite_infantry = { x = 1 y = 1 }
					elite_infantry = { x = 1 y = 2 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
				}
				support = {
					artillery = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
					recon = { x = 0 y = 2 }
				}
			}
			random_owned_controlled_state = {
				create_unit = {
					division = "division_template = \"Halytskyi korpus Sichovykh Striltsiv\" start_experience_factor = 0.2"
					owner = ROOT
				}
				create_unit = {
					division = "division_template = \"Halytskyi korpus Sichovykh Striltsiv\" start_experience_factor = 0.2"
					owner = ROOT
				}
			}
			random_owned_controlled_state = {
				create_unit = {
					division = "division_template = \"Halytskyi korpus Sichovykh Striltsiv\" start_experience_factor = 0.2"
					owner = ROOT
				}
				create_unit = {
					division = "division_template = \"Halytskyi korpus Sichovykh Striltsiv\" start_experience_factor = 0.2"
					owner = ROOT
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = Yevhen_Konovalets_dead }
				}
				if = {
					limit = {
						NOT = { has_template = "Sichovi Striltsi" }
					}
					division_template = {
						name = "Sichovi Striltsi"
						division_names_group = UKR_ELI_01

						regiments = {
							elite_infantry = { x = 0 y = 0 }
							elite_infantry = { x = 0 y = 1 }
							elite_infantry = { x = 0 y = 2 }
							elite_infantry = { x = 0 y = 3 }
							elite_infantry = { x = 1 y = 0 }
							elite_infantry = { x = 1 y = 1 }
							elite_infantry = { x = 1 y = 2 }
							elite_infantry = { x = 1 y = 3 }
							elite_infantry = { x = 2 y = 0 }
							elite_infantry = { x = 2 y = 1 }
							elite_infantry = { x = 2 y = 2 }
							elite_infantry = { x = 2 y = 3 }
						}
						support = {
							artillery = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							recon = { x = 0 y = 2 }
						}
					}
					random_owned_controlled_state = {
						create_unit = {
							division = "division_template = \"Sichovi Striltsi\" start_experience_factor = 0.9"
							owner = ROOT
						}
						create_unit = {
							division = "division_template = \"Sichovi Striltsi\" start_experience_factor = 0.3"
							count = 3
							owner = ROOT
						}
					}
				}
				set_party_name = {
					ideology = paternal_autocrat
					name = UKR_national_populist_party
					long_name = UKR_national_populist_party_long
				}				
			}	
			else = {
				set_party_name = {
					ideology = paternal_autocrat
					name = UKR_paternal_autocrat_party2
					long_name = UKR_paternal_autocrat_party2_long
				}
				set_party_name = {
					ideology = national_populist
					name = UKR_paternal_autocrat_party2
					long_name = UKR_paternal_autocrat_party2_long
				}				
			}						
		}
		else = {
			delete_unit_template_and_units = {
				division_template = "Sichovi Striltsi"
				disband = yes #will refund equipment and manpower
			}
			delete_unit_template_and_units = {
				division_template = "Halytskyi korpus Sichovykh Striltsiv"
				disband = yes #will refund equipment and manpower
			}
		}
	}	
}
UKR_setup_dyrektoria_flags = {
	if = {
		limit = {
			NOT = { has_global_flag = UPR_dyrektoria_uprising_UPR }
		}
		set_global_flag = UPR_dyrektoria_uprising_UPR
	}
	set_global_flag = UPR_ukrainian_civil_war_ended
	set_global_flag = UKR_kingdom_exiled_in_Galicia
	clr_country_flag = UKR_dyrektoria_uprising_active
	clear_global_event_target = UKR_dyrektoria_headquarters		
	set_country_flag = UKR_dyrektoria_tree_unlocked
	mark_focus_tree_layout_dirty = yes			
}
UKR_setup_dyrektoria_international = {
	separate_peace_all_wars = yes
	GER_leave_mitteleuropa = yes
	MIE_remove_from_intermarium = yes
	set_country_flag = UKR_has_nationalized_NUSK
	remove_ideas = german-ukrainian_railways
	if = {
		limit = { is_in_tech_sharing_group = german_research }
		remove_from_tech_sharing_group = german_research
	}
	GER = {
		UKR = { clear_relations_with_PREV = yes }
		country_event = {
			id = ukrfor.100
			days = 5
		}
	}	
	hidden_effect = {
		every_other_country = {
			limit = {
				OR = {
					tag = FRA
					tag = ENG
					tag = SRI
				}
			}
			add_opinion_modifier = { target = UKR modifier = KR_approves_of_govt }
			clear_embargo_ROOT = yes
		}
	}
}
UKR_setup_dyrektoria_popularities = {
	hidden_effect = {
		set_temp_variable = { UPR_tot_pop = UPR.party_popularity_100@totalist }
		set_temp_variable = { UPR_syn_pop = UPR.party_popularity_100@syndicalist }
		set_temp_variable = { UPR_rso_pop = UPR.party_popularity_100@radical_socialist }
		set_temp_variable = { UPR_sde_pop = UPR.party_popularity_100@social_democrat }
		set_temp_variable = { UPR_sli_pop = UPR.party_popularity_100@social_liberal }
		set_temp_variable = { UPR_mli_pop = UPR.party_popularity_100@market_liberal }
		set_temp_variable = { UPR_sco_pop = UPR.party_popularity_100@social_conservative }
		set_temp_variable = { UPR_ade_pop = UPR.party_popularity_100@authoritarian_democrat }
		set_temp_variable = { UPR_pau_pop = UPR.party_popularity_100@paternal_autocrat }
		set_temp_variable = { UPR_npo_pop = UPR.party_popularity_100@national_populist }
	
		set_popularities = {
			totalist = UPR_tot_pop
			syndicalist = UPR_syn_pop
			radical_socialist = UPR_rso_pop
			social_democrat = UPR_sde_pop
			social_liberal = UPR_sli_pop
			market_liberal = UPR_mli_pop
			social_conservative = UPR_sco_pop
			authoritarian_democrat = UPR_ade_pop
			paternal_autocrat = UPR_pau_pop
			national_populist = UPR_npo_pop
		}
		set_political_power = 0
	}
}
UKR_setup_dyrektoria_government = {
	set_politics = {
		ruling_party = social_democrat
		elections_allowed = no
	}
	set_temp_variable = { coalition_partner_var = token:totalist }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:radical_socialist }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:social_liberal }
	add_to_coalition = yes
	hidden_effect = {
		set_party_name = {
			ideology = social_democrat
			name = UKR_social_democrat_party4
			long_name = UKR_social_democrat_party4_long
		}		
		set_party_name = {
			ideology = social_liberal
			name = UKR_social_liberal_party2
			long_name = UKR_social_liberal_party2_long
		}
		UKR_remove_king = yes
		remove_ideas = UKR_political_instability
		remove_ideas = UKR_derzhavna_varta
		remove_ideas = UKR_Rada_diss
		remove_ideas = UKR_martial_law
		remove_all_ministers = yes		
		add_ideas = {
			UKR_Vladimir_Vynnychenko_hog_sde
			UKR_Dmytro_Isaievych_for_sde
			UKR_Mykola_Shrag_eco_sde
			UKR_Mykhailo_Tkachenko_sec_rso
			UKR_Symon_Petliura_carm
			partial_economic_mobilisation
			extensive_conscription
			UKR_UNR_army_1
		}
		create_country_leader = {
			name = "Serhiy Yefremov"
			desc = "POLITICS_SERHIY_YEFREMOV_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Serhiy_Yefremov.png"
			expire = "1965.1.1"
			ideology = social_liberal_subtype
		}
	}
}
UKR_setup_upss_president = {
	remove_all_ministers = yes
	if = {
		limit = { has_country_flag = UKR_vasyl_first_president }
		if = {
			limit = { UKR_vasyl_president_in_power = no }
			if = {
				limit = { has_country_flag = UKR_vasyl_is_known_as_vasyl }
				create_country_leader = {
					name = "Vasyl Vyshyvanyi"
					desc = "POLITICS_VASYL_PRESIDENT_DESC"
					picture = "gfx/leaders/UKR/Portrait_UKR_Vasyl_Habsburg_suit.png"
					expire = "1965.1.1"
					ideology = social_nationalism_subtype
				}
			}
			else = {
				create_country_leader = {
					name = "Vilhelm fon Habsburg-Lotarynzkyi"
					desc = "POLITICS_VASYL_PRESIDENT_DESC"
					picture = "gfx/leaders/UKR/Portrait_UKR_Vasyl_Habsburg_suit.png"
					expire = "1965.1.1"
					ideology = social_nationalism_subtype
				}
			}				
			if = {
				limit = { has_country_flag = UKR_vasyl_has_old_portrait }
				set_country_leader_portrait = {
					ideology = authoritarian_democrat
					portrait = "gfx/leaders/UKR/Portrait_UKR_Vasyl_Habsburg_Old_Suit.png"
				}
			}
		}
		add_ideas = UKR_Vasyl_Vyshyvanyi_hog_ade
		add_ideas = UKR_Valentyn_Otamanovskyi_for_ade
	}
	else_if = {
		limit = { has_country_flag = UKR_upss_president_otamanovskyi }
		if = {
			limit = { 
				NOT = {
					has_country_leader = {
						name = "Valentyn Otamanovskyi"
						ruling_only = yes
					}
				}
			}
			create_country_leader = {
				name = "Valentyn Otamanovskyi"
				desc = "POLITICS_VALENTYN_OTAMANOVSKYI_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Valentin_Otamanovskyi.png"
				expire = "1965.1.1"
				ideology = social_nationalism_subtype
			}
		}
		add_ideas = UKR_Valentin_Otamanovskyi_hog_ade
		add_ideas = UKR_Kost_Loskyi_for_ade
	}
	else_if = {
		limit = { has_completed_focus = UKR_Ukrainian_National_Democracy }
		if = {
			limit = { UKR_oleksander_hrekiv_in_power = no }
			create_country_leader = {
				name = "Oleksandr Hrekiv"
				desc = "POLITICS_OLEKSANDR_HREKIV_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Oleksandr_Hrekiv_civilian.png" 
				expire = "1965.1.1"
				ideology = social_nationalism_subtype
			}
		}
		add_ideas = UKR_Oleksander_Hrekiv_hog_ade
		add_ideas = UKR_Valentyn_Otamanovskyi_for_ade
	}
	else_if = {
		limit = { has_completed_focus = UKR_Ukrainian_Socialism }
		if = {
			limit = { UKR_opanas_andriyevskyi_in_power = no }
			create_country_leader = {
				name = "Opanas Andriyevskyi"
				desc = "POLITICS_OPANAS_ANDRIYEVSKYI_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Opanas_Andriyevskyi.png"
				expire = "1965.1.1"
				ideology = social_nationalism_subtype
			}
		}
		add_ideas = UKR_Opanas_Andrievskyi_hog_ade
		add_ideas = UKR_Kost_Loskyi_for_ade
	}
	else = {
		if = {
			limit = { UKR_oleksander_shapoval_in_power = no }
			create_country_leader = {
				name = "Oleksandr Shapoval"
				desc = "POLITICS_OLEKSANDER_SHAPOVAL_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Oleksandr_Shapoval.png"
				expire = "1965.1.1"
				ideology = social_nationalism_subtype
			}
		}
		if = {
			limit = {
				NOT = { has_completed_focus = UKR_The_First_Independentist_Party }
			}
			complete_national_focus = UKR_The_First_Independentist_Party
		}
		if = {
			limit = {
				NOT = { has_completed_focus = UKR_Adopt_Conservative_Platform }
			}
			complete_national_focus = UKR_Adopt_Conservative_Platform
		}				
		add_ideas = UKR_Oleksander_Shapoval_hog_ade
		add_ideas = UKR_Valentyn_Otamanovskyi_for_ade
	}
	if = {
		limit = { 
			OR = {
				has_country_flag = UKR_upss_militarist_nationalist 
				has_country_flag = UKR_upss_socialist_nationalist 
			}
		}
		add_ideas = UKR_Oleksander_Natiyev_eco_ade
	}
	else_if = {
		limit = { 
			OR = {
				has_country_flag = UKR_upss_militarist_socialist 
				has_country_flag = UKR_upss_socialist_militarist 
			}
		}
		add_ideas = UKR_Mykhailo_Bilynskyi_eco_ade
	}
	else = {
		add_ideas = UKR_Yevhen_Arkhypenko_eco_ade
	}
	if = {
		limit = { 
			NOT = {
				has_country_flag = UKR_upss_militarist_nationalist 
				has_country_flag = UKR_upss_nationalist_militarist 
				has_country_flag = UKR_upss_socialist_militarist 
			}
			UKR_opanas_andriyevskyi_in_power = no
		}
		add_ideas = UKR_Opanas_Andrievskyi_sec_ade
	}
	else = {
		add_ideas = UKR_Volodymyr_Oskilko_sec_ade
	}	
	if = {
		limit = { has_country_flag = UKR_upss_ukrainian_conservatism }
		set_country_leader_ideology = ukrainian_conservatism_subtype
	}
	else_if = {
		limit = { has_completed_focus = UKR_Ukrainian_National_Democracy }
		set_country_leader_ideology = generic_national_democracy_subtype
	}
}
UKR_transfer_most_of_fleet_to_crimea = {
	set_country_flag = UKR_transfered_our_fleet_to_CRM
	transfer_ship = { prefer_name = "Soborna Ukraina" type = battleship target = CRM }
	transfer_ship = { prefer_name = "Sv. Yevstafii" type = battleship target = CRM }
	transfer_ship = { prefer_name = "Sv. Ivan Zlatoust" type = battleship target = CRM }
	transfer_ship = { prefer_name = "Try Sviatyteli" type = battleship target = CRM }
	transfer_ship = { prefer_name = "Rostyslav" type = battleship target = CRM }
	transfer_ship = { prefer_name = "Heorhii Pobidonosets" type = battleship target = CRM }
	transfer_ship = { prefer_name = "Hetman Ivan Mazepa" type = heavy_cruiser target = CRM }
	transfer_ship = { prefer_name = "Svyrepyi" type = light_cruiser target = CRM }
	transfer_ship = { prefer_name = "Smetlyvyi" type = light_cruiser target = CRM }
	transfer_ship = { prefer_name = "Strohii" type = light_cruiser target = CRM }
	transfer_ship = { prefer_name = "Hnivnyi" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Bystryi" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Pospishnyi" type = destroyer target = CRM }	
	transfer_ship = { prefer_name = "Kyiv" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Chyhyryn" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Baturyn" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Lviv" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Ivan Vygovskyi" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Ivan Sirko" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Pylyp Orlyk" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Kost Hordiyenko" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Martyn Nebaba" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Ivan Pidkova" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Petro Mohyla" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Ivan Kotliarevskyi" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Lutsk" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Podniprovia" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Ternopil" type = destroyer target = CRM }
	transfer_ship = { prefer_name = "Vinnytsia" type = destroyer target = CRM }	
	transfer_ship = { prefer_name = "PCh-133" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-132" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-131" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-130" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-129" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-128" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-127" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-126" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-125" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-124" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-123" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-122" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-121" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-120" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-119" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-118" type = submarine target = CRM }
	transfer_ship = { prefer_name = "PCh-117" type = submarine target = CRM }	
}

CRM_transfer_all_fleet_to_UKR = {
	transfer_ship = { prefer_name = "Soborna Ukraina" type = battleship target = UKR }
	transfer_ship = { prefer_name = "Sv. Yevstafii" type = battleship target = UKR }
	transfer_ship = { prefer_name = "Sv. Ivan Zlatoust" type = battleship target = UKR }
	transfer_ship = { prefer_name = "Try Sviatyteli" type = battleship target = UKR }
	transfer_ship = { prefer_name = "Rostyslav" type = battleship target = UKR }
	transfer_ship = { prefer_name = "Heorhii Pobidonosets" type = battleship target = UKR }
	transfer_ship = { prefer_name = "Hetman Ivan Mazepa" type = heavy_cruiser target = UKR }
	transfer_ship = { prefer_name = "Svyrepyi" type = light_cruiser target = UKR }
	transfer_ship = { prefer_name = "Smetlyvyi" type = light_cruiser target = UKR }
	transfer_ship = { prefer_name = "Strohii" type = light_cruiser target = UKR }
	transfer_ship = { prefer_name = "Hnivnyi" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Bystryi" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Pospishnyi" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Kyiv" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Chyhyryn" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Baturyn" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Lviv" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Ivan Vygovskyi" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Ivan Sirko" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Pylyp Orlyk" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Kost Hordiyenko" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Martyn Nebaba" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Ivan Pidkova" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Petro Mohyla" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Ivan Kotliarevskyi" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Lutsk" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Podniprovia" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Ternopil" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Vinnytsia" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "PCh-133" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-132" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-131" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-130" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-129" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-128" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-127" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-126" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-125" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-124" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-123" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-122" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-121" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-120" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-119" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-118" type = submarine target = UKR }
	transfer_ship = { prefer_name = "PCh-117" type = submarine target = UKR }	
}

CRM_transfer_half_fleet_to_UKR = {
	transfer_ship = { prefer_name = "Soborna Ukraina" type = battleship target = UKR }
	transfer_ship = { prefer_name = "Rostyslav" type = battleship target = UKR }
	transfer_ship = { prefer_name = "Hetman Ivan Mazepa" type = heavy_cruiser target = UKR }
	transfer_ship = { prefer_name = "Svyrepyi" type = light_cruiser target = UKR }
	transfer_ship = { prefer_name = "Smetlyvyi" type = light_cruiser target = UKR }
	transfer_ship = { prefer_name = "Strohii" type = light_cruiser target = UKR }
	transfer_ship = { prefer_name = "Kyiv" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Chyhyryn" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Baturyn" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Lviv" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Ivan Vygovskyi" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Ivan Sirko" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Pylyp Orlyk" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Kost Hordiyenko" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Martyn Nebaba" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Ivan Pidkova" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Petro Mohyla" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Ivan Kotliarevskyi" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Lutsk" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Podniprovia" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Ternopil" type = destroyer target = UKR }
	transfer_ship = { prefer_name = "Vinnytsia" type = destroyer target = UKR }
}
UKR_setup_borotbyst_victory_no_war = {
	clr_global_flag = UKR_borotbyst_civil_war
	if = {
		limit = { is_guaranteed_by = AUS }
		AUS = { country_event = ukrfor.64 }
	}
	else = {
		GER = { country_event = ukrfor.50 }
	}
	clr_country_flag = UKR_joined_DA
	UKR_update_military = yes
	remove_opinion_modifier = { target = FRA modifier = embargo }
	remove_opinion_modifier = { target = ENG modifier = embargo }
	remove_opinion_modifier = { target = SRI modifier = embargo }
	every_other_country = {
		limit = {
			OR = {
				tag = FRA
				tag = ENG
				tag = SRI
			}
		}
		remove_opinion_modifier = { target = UKR modifier = embargo }	
		add_opinion_modifier = { target = UKR modifier = KR_approves_of_govt }							
	}
	every_unit_leader = {
		set_unit_leader_flag = UKR_exiled_ukrainian
		set_nationality = NSW
	}
	if = {
		limit = { UKR_petliura_in_power = yes}
		set_country_flag = UKR_borotbyst_against_petliura
	}
	else_if = {
		limit = { UKR_skrypnyk_in_power = yes }
		set_country_flag = UKR_borotbyst_against_skrypnyk
	}
	else_if = {
		limit = {
			OR = {
				UKR_upsr_in_power = yes
				UKR_usdrp_in_power = yes
				UKR_ukp_in_power = yes
				has_country_flag = UKR_dyrektoria_tree_unlocked
				UKR_upsf_in_power = yes
			}
		}
		set_country_flag = UKR_borotbyst_against_dyrektoria
	}
	clr_country_flag = UKR_dyrektoria_tree_unlocked
	set_party_name = {
		ideology = radical_socialist
		name = UKR_radical_socialist_party3
		long_name = UKR_radical_socialist_party3_long
	}
	set_party_name = {
		ideology = social_democrat
		name = UKR_social_democrat_party2
		long_name = UKR_social_democrat_party2_long
	}
	set_party_name = {
		ideology = syndicalist
		name = UKR_syndicalist_party
		long_name = UKR_syndicalist_party_long
	}
	clr_country_flag = UKR_agricultural_crisis
	decrease_ruling_party_popularity_by_10 = yes
	UKR_remove_brotfrieden_without_events = yes
	remove_ideas = {
		UKR_derzhavna_varta
		UKR_Rada_diss
		UKR_borotbyst_uprising
		UKR_all_ukrainian_strike
		UKR_black_monday_3
		UKR_black_monday_2
		UKR_black_monday_1
		UKR_black_monday
		german-ukrainian_railways
		UKR_ger_some_concessions
		UKR_ger_all_concessions
		UKR_ger_all_concessions_harsh
		UKR_bel_some_concessions
		UKR_aus_some_concessions
		UKR_pol_some_concessions
		UKR_swe_some_concessions
		UKR_cze_some_concessions
		UKR_hol_some_concessions
		UKR_paying_compensations_0
		UKR_paying_compensations_1
		UKR_paying_compensations_2
		UKR_paying_compensations_3
		UKR_paying_compensations_4					
		UKR_ukrainian_compensation

		UKR_ratekommunismus
		UKR_decentralized_planning
		UKR_cultural_autonomy
		UKR_welfare
		UKR_municipal_socialism
		UKR_socialism_in_city
		UKR_indicative_planning
		UKR_small_business
		UKR_small_business_tax
		UKR_social_security
		UKR_street_demonstrations
		UKR_austromarxism_influence
		UKR_demsoc_constitution_0
		UKR_demsoc_constitution_1
		UKR_demsoc_constitution_1_1
		UKR_demsoc_constitution_2
		UKR_demsoc_constitution_2_1
		UKR_primacy_of_rada_1
		UKR_primacy_of_rada_2
		
		UKR_limited_soviets
		UKR_separation_of_powers
		UKR_apolitic_disciplined_army
		UKR_subordinate_peoples_militia
		UKR_general_conscription
		UKR_joint_state_planning
		UKR_trudova_respublika
		UKR_hope_for_future
		UKR_narodnik_const
		
		UKR_protofis_investments
		UKR_new_monarchy
		UKR_organic_corporatism_1
		UKR_organic_corporatism_2
		UKR_austrian_regent
		UKR_uskhd_1
		UKR_uskhd_2
		UKR_uskhd_2
		UKR_happy_workers
		UKR_ukrainian_agrarianism
		UKR_Constitution_National_Accord
		UKR_National_Rada
		UKR_charity

		UKR_local_radas_sun
		UKR_sunm_organisation
		UKR_plast_organisation
		UKR_sun_economy_1
		UKR_sun_economy_2
		UKR_sun_economy_3
		UKR_soborna_ukraina
		UKR_cult_of_konovalets
	
	}
	copy_government_of_ROOT = yes
	transfer_technology_and_slots = yes
	set_capital = { state = 202 }	
	set_cosmetic_tag = UKR_borotbyst
	create_country_leader = {
		name = "Oleksandr Shumskyi"
		desc = "POLITICS_OLEKSANDER_SHUMSKYI_DESC"
		picture = "gfx/leaders/UKR/Portrait_Ukraine_Oleksander_Shumsky.png" 
		expire = "1965.1.1"
		ideology = anarcho_syndicalist_subtype
		traits = { UKR_fervent_revolutionary }
	}	
	create_country_leader = {
		name = "Oleksandr Shumskyi"
		desc = "POLITICS_OLEKSANDER_SHUMSKYI_DESC"
		picture = "gfx/leaders/UKR/Portrait_Ukraine_Oleksander_Shumsky.png" 
		expire = "1965.1.1"
		ideology = radsoc_anarcho_syndicalist_subtype
		traits = { UKR_fervent_revolutionary }
	}
	create_country_leader = {
		name = "Levko Kovaliv"
		desc = "POLITICS_LEVKO_KOVALIV_DESC"
		picture = "gfx/leaders/UKR/Portrait_UKR_Lev_Kovaliv.png"
		expire = "1965.1.1"
		ideology = socdem_narodism_subtype
	}
	mark_focus_tree_layout_dirty = yes
	set_political_power = 0
	set_politics = {
		ruling_party = radical_socialist
		elections_allowed = no
	}		
	delete_unit_template_and_units = {
		division_template = "Sichovi Striltsi"
		disband = yes #will refund equipment and manpower
	}
	delete_unit_template_and_units = {
		division_template = "Halytskyi korpus Sichovykh Striltsiv"
		disband = yes #will refund equipment and manpower
	}
	delete_unit_template_and_units = {
		division_template = "Petliurivtsi"
		disband = yes #will refund equipment and manpower
	}
	delete_unit_template_and_units = {
		division_template = "Kinnohirskyi Dyvizion"
		disband = yes #will refund equipment and manpower
	}
	every_unit_leader = {
		set_unit_leader_flag = UKR_exiled_ukrainian
		set_nationality = WSU
	}
	USR = {
		every_unit_leader = { set_nationality = UKR }
	}
	remove_all_ministers = yes		
	add_ideas = {
		UKR_Oleksander_Shumsky_hog_rso
		UKR_Antin_Prikhodko_for_rso
		UKR_Panas_P_Lyubchenko_eco_rso
		UKR_Hryhorii_Hrynko_sec_rso
	}
	mark_focus_tree_layout_dirty = yes
}
UKR_setup_borotbyst_victory = {
	clr_global_flag = UKR_borotbyst_civil_war
	every_owned_state = {
		limit = {
			OR = {
				is_claimed_by = USR
				is_core_of = USR
			}
		}
		remove_core_of = USR
		remove_claim_by = USR
	}
	for_each_scope_loop = {
		array = UKR.UKR_starting_states_array
		
		if = {
			limit = { is_claimed_by = UKR }
			remove_claim_by = UKR
			add_core_of = UKR
		}
	}
	hidden_effect = {
		release = UKR
		UKR = {
			if = {
				limit = { is_guaranteed_by = AUS }
				AUS = { country_event = ukrfor.64 }
			}
			else = {
				GER = { country_event = ukrfor.50 }
			}
			remove_opinion_modifier = { target = FRA modifier = embargo }
			remove_opinion_modifier = { target = ENG modifier = embargo }
			remove_opinion_modifier = { target = SRI modifier = embargo }
			every_other_country = {
				limit = {
					OR = {
						tag = FRA
						tag = ENG
						tag = SRI
					}
				}
				remove_opinion_modifier = { target = UKR modifier = embargo }	
				add_opinion_modifier = { target = UKR modifier = KR_approves_of_govt }							
			}
			every_unit_leader = {
				set_unit_leader_flag = UKR_exiled_ukrainian
				set_nationality = NSW
			}
			if = {
				limit = { UKR_petliura_in_power = yes}
				set_country_flag = UKR_borotbyst_against_petliura
			}
			else_if = {
				limit = { UKR_skrypnyk_in_power = yes }
				set_country_flag = UKR_borotbyst_against_skrypnyk
			}
			else_if = {
				limit = {
					OR = {
						UKR_upsr_in_power = yes
						UKR_usdrp_in_power = yes
						UKR_ukp_in_power = yes
						has_country_flag = UKR_dyrektoria_tree_unlocked
						UKR_upsf_in_power = yes
					}
				}
				set_country_flag = UKR_borotbyst_against_dyrektoria
			}
			clr_country_flag = UKR_dyrektoria_tree_unlocked
			set_party_name = {
				ideology = radical_socialist
				name = UKR_radical_socialist_party3
				long_name = UKR_radical_socialist_party3_long
			}
			set_party_name = {
				ideology = social_democrat
				name = UKR_social_democrat_party2
				long_name = UKR_social_democrat_party2_long
			}
			set_party_name = {
				ideology = syndicalist
				name = UKR_syndicalist_party
				long_name = UKR_syndicalist_party_long
			}
			clr_country_flag = UKR_agricultural_crisis
			decrease_ruling_party_popularity_by_10 = yes
			UKR_remove_brotfrieden_without_events = yes
			remove_ideas = {
				UKR_derzhavna_varta
				UKR_Rada_diss
				UKR_borotbyst_uprising
				UKR_all_ukrainian_strike
				UKR_black_monday_3
				UKR_black_monday_2
				UKR_black_monday_1
				UKR_black_monday
				german-ukrainian_railways
				UKR_ger_some_concessions
				UKR_ger_all_concessions
				UKR_ger_all_concessions_harsh
				UKR_bel_some_concessions
				UKR_aus_some_concessions
				UKR_pol_some_concessions
				UKR_swe_some_concessions
				UKR_cze_some_concessions
				UKR_hol_some_concessions
				UKR_paying_compensations_0
				UKR_paying_compensations_1
				UKR_paying_compensations_2
				UKR_paying_compensations_3
				UKR_paying_compensations_4					
				UKR_ukrainian_compensation

				UKR_ratekommunismus
				UKR_decentralized_planning
				UKR_cultural_autonomy
				UKR_welfare
				UKR_municipal_socialism
				UKR_socialism_in_city
				UKR_indicative_planning
				UKR_small_business
				UKR_small_business_tax
				UKR_social_security
				UKR_street_demonstrations
				UKR_austromarxism_influence
				UKR_demsoc_constitution_0
				UKR_demsoc_constitution_1
				UKR_demsoc_constitution_1_1
				UKR_demsoc_constitution_2
				UKR_demsoc_constitution_2_1
				UKR_primacy_of_rada_1
				UKR_primacy_of_rada_2
				
				UKR_limited_soviets
				UKR_separation_of_powers
				UKR_apolitic_disciplined_army
				UKR_subordinate_peoples_militia
				UKR_general_conscription
				UKR_joint_state_planning
				UKR_trudova_respublika
				UKR_hope_for_future
				UKR_narodnik_const
				
				UKR_protofis_investments
				UKR_new_monarchy
				UKR_organic_corporatism_1
				UKR_organic_corporatism_2
				UKR_austrian_regent
				UKR_uskhd_1
				UKR_uskhd_2
				UKR_uskhd_2
				UKR_happy_workers
				UKR_ukrainian_agrarianism
				UKR_Constitution_National_Accord
				UKR_National_Rada
				UKR_charity

				UKR_local_radas_sun
				UKR_sunm_organisation
				UKR_plast_organisation
				UKR_sun_economy_1
				UKR_sun_economy_2
				UKR_sun_economy_3
				UKR_soborna_ukraina
				UKR_cult_of_konovalets
			
			}
			copy_government_of_ROOT = yes
			transfer_technology_and_slots = yes
			set_capital = { state = 202 }	
			set_cosmetic_tag = UKR_borotbyst
			create_country_leader = {
				name = "Oleksandr Shumskyi"
				desc = "POLITICS_OLEKSANDER_SHUMSKYI_DESC"
				picture = "gfx/leaders/UKR/Portrait_Ukraine_Oleksander_Shumsky.png" 
				expire = "1965.1.1"
				ideology = anarcho_syndicalist_subtype
				traits = { UKR_fervent_revolutionary }
			}	
			create_country_leader = {
				name = "Oleksandr Shumskyi"
				desc = "POLITICS_OLEKSANDER_SHUMSKYI_DESC"
				picture = "gfx/leaders/UKR/Portrait_Ukraine_Oleksander_Shumsky.png" 
				expire = "1965.1.1"
				ideology = radsoc_anarcho_syndicalist_subtype
				traits = { UKR_fervent_revolutionary }
			}
			create_country_leader = {
				name = "Levko Kovaliv"
				desc = "POLITICS_LEVKO_KOVALIV_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Lev_Kovaliv.png"
				expire = "1965.1.1"
				ideology = socdem_narodism_subtype
			}
			mark_focus_tree_layout_dirty = yes
			set_political_power = 0
			set_politics = {
				ruling_party = radical_socialist
				elections_allowed = no
			}		
			delete_unit_template_and_units = {
				division_template = "Sichovi Striltsi"
				disband = yes #will refund equipment and manpower
			}
			delete_unit_template_and_units = {
				division_template = "Halytskyi korpus Sichovykh Striltsiv"
				disband = yes #will refund equipment and manpower
			}
			delete_unit_template_and_units = {
				division_template = "Petliurivtsi"
				disband = yes #will refund equipment and manpower
			}
			delete_unit_template_and_units = {
				division_template = "Kinnohirskyi Dyvizion"
				disband = yes #will refund equipment and manpower
			}
			every_unit_leader = {
				set_unit_leader_flag = UKR_exiled_ukrainian
				set_nationality = WSU
			}
			USR = {
				every_unit_leader = { set_nationality = UKR }
			}
			remove_all_ministers = yes		
			add_ideas = {
				UKR_Oleksander_Shumsky_hog_rso
				UKR_Antin_Prikhodko_for_rso
				UKR_Panas_P_Lyubchenko_eco_rso
				UKR_Hryhorii_Hrynko_sec_rso
			}
			mark_focus_tree_layout_dirty = yes
		}							
	}
	UKR = {
		annex_country = {
			target = USR
			transfer_troops = yes
		}
		change_tag_from = USR
	}	
}
UKR_setup_borotbyst_victory_over_petliura = {
	clear_all_relations = yes
	remove_opinion_modifier = { target = FRA modifier = embargo }
	remove_opinion_modifier = { target = ENG modifier = embargo }
	remove_opinion_modifier = { target = SRI modifier = embargo }
	every_other_country = {
		limit = {
			OR = {
				tag = FRA
				tag = ENG
				tag = SRI
			}
		}
		remove_opinion_modifier = { target = UKR modifier = embargo }				
		add_opinion_modifier = { target = UKR modifier = KR_approves_of_govt }
	}
	clr_country_flag = UKR_petliura_not_in_power_wait_elections
	set_country_flag = UKR_borotbyst_against_petliura
	set_party_name = {
		ideology = radical_socialist
		name = UKR_radical_socialist_party3
		long_name = UKR_radical_socialist_party3_long
	}
	set_party_name = {
		ideology = syndicalist
		name = UKR_syndicalist_party
		long_name = UKR_syndicalist_party_long
	}
	UKR_remove_brotfrieden_without_events = yes
	remove_ideas = {
		UKR_derzhavna_varta
		UKR_Rada_diss
		UKR_borotbyst_uprising
		UKR_all_ukrainian_strike
		UKR_agricultural_crisis_idea_4
		UKR_agricultural_crisis_idea_3
		UKR_agricultural_crisis_idea_2
		UKR_agricultural_crisis_idea_1
		UKR_agricultural_crisis_idea
		UKR_black_monday_3
		UKR_black_monday_2
		UKR_black_monday_1
		UKR_black_monday
		german-ukrainian_railways
		UKR_ger_some_concessions
		UKR_ger_all_concessions
		UKR_ger_all_concessions_harsh
		UKR_bel_some_concessions
		UKR_aus_some_concessions
		UKR_pol_some_concessions
		UKR_swe_some_concessions
		UKR_cze_some_concessions
		UKR_hol_some_concessions
		UKR_paying_compensations_0
		UKR_paying_compensations_1
		UKR_paying_compensations_2
		UKR_paying_compensations_3
		UKR_paying_compensations_4
		UKR_ukrainian_compensation

		UKR_ratekommunismus
		UKR_decentralized_planning
		UKR_cultural_autonomy
		UKR_welfare
		UKR_municipal_socialism
		UKR_socialism_in_city
		UKR_indicative_planning
		UKR_small_business
		UKR_small_business_tax
		UKR_social_security
		UKR_street_demonstrations
		UKR_austromarxism_influence
		UKR_demsoc_constitution_0
		UKR_demsoc_constitution_1
		UKR_demsoc_constitution_1_1
		UKR_demsoc_constitution_2
		UKR_demsoc_constitution_2_1		
		
		UKR_limited_soviets
		UKR_primacy_of_rada_1
		UKR_primacy_of_rada_2
		UKR_separation_of_powers
		UKR_apolitic_disciplined_army
		UKR_subordinate_peoples_militia
		UKR_general_conscription:0 "General Draft"
		UKR_joint_state_planning
		UKR_trudova_respublika
		UKR_hope_for_future
		UKR_narodnik_const
		
		UKR_protofis_investments
		UKR_new_monarchy
		UKR_organic_corporatism
		UKR_austrian_regent
		UKR_uskhd
		UKR_happy_workers
		UKR_ukrainian_agrarianism
		UKR_Constitution_National_Accord
		UKR_National_Rada
		UKR_charity

		UKR_local_radas_sun
		UKR_sunm_organisation
		UKR_plast_organisation
		UKR_sun_economy_1
		UKR_sun_economy_2
		UKR_sun_economy_3
		UKR_soborna_ukraina
		UKR_cult_of_konovalets
	
	}
	set_cosmetic_tag = UKR_borotbyst
	create_country_leader = {
		name = "Oleksandr Shumskyi"
		desc = "POLITICS_OLEKSANDER_SHUMSKYI_DESC"
		picture = "gfx/leaders/UKR/Portrait_Ukraine_Oleksander_Shumsky.png" 
		expire = "1965.1.1"
		ideology = anarcho_syndicalist_subtype
		traits = { UKR_fervent_revolutionary }
	}	
	create_country_leader = {
		name = "Oleksandr Shumskyi"
		desc = "POLITICS_OLEKSANDER_SHUMSKYI_DESC"
		picture = "gfx/leaders/UKR/Portrait_Ukraine_Oleksander_Shumsky.png" 
		expire = "1965.1.1"
		ideology = radsoc_anarcho_syndicalist_subtype
		traits = { UKR_fervent_revolutionary }
	}
	create_country_leader = {
		name = "Levko Kovaliv"
		desc = "POLITICS_LEVKO_KOVALIV_DESC"
		picture = "gfx/leaders/UKR/Portrait_UKR_Lev_Kovaliv.png"
		expire = "1965.1.1"
		ideology = socdem_narodism_subtype
	}
	mark_focus_tree_layout_dirty = yes
	set_political_power = 0
	set_politics = {
		ruling_party = radical_socialist
		elections_allowed = no
	}
	delete_unit_template_and_units = {
		division_template = "Sichovi Striltsi"
		disband = yes #will refund equipment and manpower
	}
	delete_unit_template_and_units = {
		division_template = "Halytskyi korpus Sichovykh Striltsiv"
		disband = yes #will refund equipment and manpower
	}
	delete_unit_template_and_units = {
		division_template = "Petliurivtsi"
		disband = yes #will refund equipment and manpower
	}
	delete_unit_template_and_units = {
		division_template = "Kinnohirskyi Dyvizion"
		disband = yes #will refund equipment and manpower
	}
	every_unit_leader = {
		limit = {
			NOT = {	has_unit_leader_flag = UKR_borotbyst_loyalist }
		}
		set_nationality = WSU
	}
	set_war_support = 0.6
	if = {
		limit = {
			NOT = { has_template = "Ukrainska Radianska Dyviziia" }
		}
		division_template = {
			name = "Ukrainska Radianska Dyviziia"
			division_names_group = USR_INF_01
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
				infantry = { x = 2 y = 0 }
				infantry = { x = 2 y = 1 }
				infantry = { x = 2 y = 2 }
			}
			support = {
				artillery = { x = 0 y = 0 }
			}
		}
	}
	every_country_division = {
		limit = {
			division_has_majority_template = infantry
		}
		change_division_template = {
			division_template = "Ukrainska Radianska Dyviziia" 
		}
	}
	division_template = {
		name = "Chervona Hvardiia"
		division_names_group = UKR_MIL_01
		is_locked = yes
		regiments = {
			militia = { x = 0 y = 0 }
			militia = { x = 0 y = 1 }
			militia = { x = 0 y = 2 }
			militia = { x = 1 y = 0 }
			militia = { x = 1 y = 1 }
			militia = { x = 1 y = 2 }
		}
	}
}
UKR_setup_not_borotbyst_victory = {
	clr_global_flag = UKR_borotbyst_civil_war
	if = {
		limit = { has_idea = UKR_borotbyst_uprising }
		remove_ideas = UKR_borotbyst_uprising
	}
	if = {
		limit = { has_idea = UKR_all_ukrainian_strike }
		remove_ideas = UKR_all_ukrainian_strike
	}
	annex_country = {
		target = USR
	}
	every_owned_state = {
		limit = {
			is_claim_or_core_of_ROOT = yes
			is_owned_by = ROOT				
		}
		remove_claim_by = ROOT
		add_core_of = ROOT
		remove_core_of = USR
		remove_claim_by = USR
	}
}

WSU_create_buffer_zone = {
	if = {
		limit = { has_global_flag = UPR_dyrektoria_become_exiled_in_WSU }
		clr_global_flag = UPR_dyrektoria_become_exiled_in_WSU
		set_global_flag = UPR_ukrainian_civil_war_ended
		hidden_effect = {
			WSU = {
				every_unit_leader = {
					limit = { NOT = { has_trait = UKR_uga_officer } }
					set_nationality = UPR
				}
				drop_cosmetic_tag = yes
			}
			clear_global_event_target = UKR_dyrektoria_headquarters
			UPR = { 
				save_global_event_target_as = UKR_dyrektoria_headquarters 
			}
		}
	}
	GAL = {
		every_unit_leader = {
			limit = { has_trait = UKR_uga_officer }
			set_nationality = WSU
		}
	}
	set_cosmetic_tag = WSU_buffer_zone
	set_politics = {
		ruling_party = market_liberal
		elections_allowed = no
	}
	get_current_government_type = yes
	AUS = {
		set_autonomy = {
			target = WSU
			autonomous_state = kr_autonomous_puppet
		}
	}
	restore_previous_government_type = yes
}
WSU_create_kronland = {
	if = {
		limit = { has_global_flag = UPR_dyrektoria_become_exiled_in_WSU }
		clr_global_flag = UPR_dyrektoria_become_exiled_in_WSU
		set_global_flag = UPR_ukrainian_civil_war_ended
		hidden_effect = {
			every_unit_leader = {
				limit = { NOT = { has_trait = UKR_uga_officer } }
				set_nationality = UPR
			}
			drop_cosmetic_tag = yes
			clear_global_event_target = UKR_dyrektoria_headquarters
			UPR = { 
				save_global_event_target_as = UKR_dyrektoria_headquarters 
			}
		}
	}
	GAL = {
		every_unit_leader = {
			limit = { has_trait = UKR_uga_officer }
			set_nationality = WSU
		}
	}
	set_cosmetic_tag = WSU_austrian
	set_politics = {
		ruling_party = social_conservative
		elections_allowed = no
	}
	UKR_create_vasyl = yes
	get_current_government_type = yes
	AUS = {
		set_autonomy = {
			target = WSU
			autonomous_state = kr_autonomous_puppet
		}
	}
	restore_previous_government_type = yes
}
WSU_create_rebellion = {
	set_global_flag = WSU_first_rebellion
	every_state = {
		limit = {
			is_east_galicia = yes
			owned_by_austria_or_puppet = yes
		}
		set_demilitarized_zone = no
		cancel_resistance = yes
		force_disable_resistance = { clear = yes }
		WSU = { 
			transfer_state = PREV
			add_state_core = PREV
		}
		hidden_effect = { add_core_of = GAL }
	}
	91 = { set_demilitarized_zone = yes }
	if = {
		limit = {
			has_global_flag = UPR_dyrektoria_uprising_UPR
		}
		every_other_country = {
			limit = {
				OR = {
					tag = UKR
					tag = UPR
				}
			}
			every_unit_leader = {
				limit = { has_trait = UKR_uga_officer }
				set_nationality = WSU
			}
		}
	}
	else = {
		GAL = {
			every_unit_leader = {
				limit = { has_trait = UKR_uga_officer }
				set_nationality = WSU
			}
			set_capital = { state = 1124 }			
		}
	}
	set_temp_variable = { WSU_coup_popularity = UKR_ukrainian_resistance }
	divide_temp_variable = { WSU_coup_popularity = 400 }
	WSU = {
		transfer_technology_without_doctrines = yes
		drop_cosmetic_tag = yes
		if = {
			limit = { 
				has_global_flag = WSU_totalist_uvo
			}
			set_political_party = {
				ideology = totalist
				popularity = WSU_coup_popularity
			}
		}
		else = {
			set_political_party = {
				ideology = paternal_autocrat
				popularity = WSU_coup_popularity
			}
		}
		division_template = {
			name = "Ukrainska Halytska Armiia"
			division_names_group = UKR_INF_03
			is_locked = yes
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 0 y = 3 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
				infantry = { x = 1 y = 3 }
			}
			support = {
				engineer = { x = 0 y = 0 }
			}
		}
		division_template = {
			name = "Halytskyi korpus Sichovykh Striltsiv"
			division_names_group = UKR_ELI_02
			is_locked = yes
			regiments = {
				elite_infantry = { x = 0 y = 0 }
				elite_infantry = { x = 0 y = 1 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
			}
			support = {
				artillery = { x = 0 y = 0 }
				engineer = { x = 0 y = 1 }
				recon = { x = 0 y = 2 }
			}
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "name = \"5-ta Sokalska bryhada\" division_template = \"Ukrainska Halytska Armiia\" start_experience_factor = 0.3 start_equipment_factor = 1"
				allow_spawning_on_enemy_provs = yes
				owner = WSU
			}
			create_unit = {
				division = "name = \"6-ta Ravska bryhada\" division_template = \"Ukrainska Halytska Armiia\" start_experience_factor = 0.3 start_equipment_factor = 1"
				allow_spawning_on_enemy_provs = yes
				owner = WSU
			}
			create_unit = {
				division = "name = \"4-ta Zolochivska bryhada\" division_template = \"Ukrainska Halytska Armiia\" start_experience_factor = 0.2 start_equipment_factor = 0.9"
				allow_spawning_on_enemy_provs = yes
				owner = WSU
			}
			create_unit = {
				division = "name = \"3-ta Berezhanska bryhada\" division_template = \"Ukrainska Halytska Armiia\" start_experience_factor = 0.2 start_equipment_factor = 0.95"
				allow_spawning_on_enemy_provs = yes
				owner = WSU
			}
			create_unit = {
				division = "name = \"2-ga Kolomyiska bryhada\" division_template = \"Ukrainska Halytska Armiia\" start_experience_factor = 0.2 start_equipment_factor = 0.95"
				allow_spawning_on_enemy_provs = yes
				owner = WSU
			}
			create_unit = {
				division = "name = \"1-sha Hirska bryhada\" division_template = \"Ukrainska Halytska Armiia\" start_experience_factor = 0.2 start_equipment_factor = 0.95"
				allow_spawning_on_enemy_provs = yes
				owner = WSU
			}
			create_unit = {
				division = "name = \"1-sha bryhada USS\" division_template = \"Halytskyi korpus Sichovykh Striltsiv\" start_experience_factor = 0.9 start_equipment_factor = 0.92"
				allow_spawning_on_enemy_provs = yes
				owner = WSU
			}
		}
		add_equipment_to_stockpile = {
			type = fighter_equipment_0
			amount = 25
			producer = WSU
		}
	}
	ROM = {
		country_event = {
			id = wsu.12
			days = 15
		}
	}
}
WSU_setup_ukraine = {
	remove_ideas = WSU_Poor_Administration_1
	hidden_effect = {
		UKR = {
			separate_peace_all_wars = yes
			set_global_flag = UPR_dyrektoria_joined_peacefully
			clr_global_flag = UPR_dyrektoria_uprising_UPR
			clr_global_flag = UPR_dyrektoria_become_exiled_in_WSU
			set_global_flag = UPR_ukrainian_civil_war_ended
			clear_all_relations = yes
			remove_from_tech_sharing_group = german_research
			every_unit_leader = {
				retire = yes
			}				
			remove_ideas = UKR_derzhavna_varta
			if = {
				limit = { 
					has_country_flag = UKR_KUB_Convention_saved
					KUB = { has_idea = KUB_Unification_Sentiments_1 }
				}
				clr_country_flag = UKR_KUB_Convention_saved
				add_ideas = UKR_KUB_Convention
			}
			if = {
				limit = { 
					has_country_flag = UKR_agricultural_crisis_idea_saved
				}
				clr_country_flag = UKR_agricultural_crisis_idea_saved
				add_ideas = UKR_agricultural_crisis_idea
				add_ideas = UKR_village_outflow
			}
			remove_all_ministers = yes
			add_ideas = {
				UKR_Yevhen_Petrushevych_hog_sde 
				UKR_Sydor_Holubovych_for_sde
				UKR_Stepan_Baran_eco_sli
				UKR_Vasyl_Mudryi_sec_mli
				
				WSU_army_3
				WSU_partisan_warfare_idea
				WSU_nascent_military_industry
			}
						
			drop_cosmetic_tag = yes
			set_capital = { state = 202 }		
			copy_government_of_ROOT = yes
			set_stability = WSU@stability
			UKR_remove_king = yes
			create_country_leader = {
				name = "Mykola Stsiborskyi"
				desc = "POLITICS_MYKOLA_STSIBORSKYI_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Mykola_Stsiborskyi.png"
				expire = "1965.1.1"
				ideology = natsynd_subtype
			}
			create_country_leader = {
				name = "Ivan Maistrenko"
				desc = "POLITICS_IVAN_MAISTRENKO_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Ivan_Maistrenko.png"
				expire = "1965.1.1"
				ideology = market_socialist_subtype
			}
			create_country_leader = {
				name = "Yevhen Petrushevych"
				desc = "POLITICS_YEVHEN_PETRUSHEVYCH_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Yevhen_Petrushevich.png"
				expire = "1965.1.1"
				ideology = socdem_junta_subtype
			}
			create_country_leader = {
				name = "Mykola Mikhnovskyi"
				desc = "POLITICS_MYKOLA_MIKHHNOVSKY_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Mykola_Mikhnovsky.png"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
			}
			create_country_leader = {
				name = "Dmytro Levytskyi"
				desc = "POLITICS_DMYTRO_LEVYTSKYI_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Dmytro_Levytsky.png"
				expire = "1965.1.1"
				ideology = liberal_conservative_subtype
			}
			create_country_leader = {
				name = "Andriy Melnyk"
				desc = "POLITICS_ANDRIY_MELNYK_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Andriy_Melnyk_Extra.png"
				expire = "1965.1.1"
				ideology = junta_subtype
			}
			create_country_leader = {
				name = "Andriy Melnyk"
				desc = "POLITICS_ANDRIY_MELNYK_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Andriy_Melnyk_Extra.png"
				expire = "1965.1.1"
				ideology = militarism_subtype
			}
			set_party_name = {
				ideology = totalist
				name = WSU_totalist_party
				long_name = WSU_totalist_party_long
			}			
			set_party_name = {
				ideology = radical_socialist
				name = WSU_radical_socialist_party
				long_name = WSU_radical_socialist_party
			}
			set_party_name = {
				ideology = social_democrat
				name = WSU_social_democrat_party
				long_name = WSU_social_democrat_party
			}
			set_party_name = {
				ideology = market_liberal
				name = WSU_market_liberal_party
				long_name = WSU_market_liberal_party_long
			}
			set_party_name = {
				ideology = social_liberal
				name = WSU_social_liberal_party
				long_name = WSU_social_liberal_party_long
			}
			set_party_name = {
				ideology = paternal_autocrat
				name = WSU_paternal_autocrat_party
				long_name = WSU_paternal_autocrat_party_long
			}
			set_party_name = {
				ideology = national_populist
				name = WSU_paternal_autocrat_party
				long_name = WSU_paternal_autocrat_party_long
			}
		}
		WSU = {
			every_unit_leader = { set_nationality = UKR }
			every_enemy_country = { 
				declare_war_on = {
					target = UKR
					type = annex_everything
				}
			}
		}
	}
	UKR = {
		annex_country = {
			target = WSU
			transfer_troops = yes
		}
		set_global_flag = UPR_ukrainian_civil_war_ended
		clr_country_flag = UKR_dyrektoria_uprising_active
		clear_global_event_target = UKR_dyrektoria_headquarters		
		clr_country_flag = UKR_dyrektoria_tree_unlocked
		mark_focus_tree_layout_dirty = yes		
		change_tag_from = ROOT
	}
}

# congress
UKR_increase_ukapist = {
	custom_effect_tooltip = UKR_increase_ukapist
	add_to_variable = { UKR_ukapist_authority = 1 }
}
UKR_increase_eser = {
	custom_effect_tooltip = UKR_increase_eser
	add_to_variable = { UKR_eser_authority = 1 }
}
UKR_increase_esdek = {
	custom_effect_tooltip = UKR_increase_esdek
	add_to_variable = { UKR_esdek_authority = 1 }
}
UKR_move_upsr_leader_to_radsoc = {
	if = {
		limit = {
			has_country_leader = {
				name = "Levko Kovaliv"
				ruling_only = yes
			}
		}
		create_country_leader = {
			name = "Levko Kovaliv"
			desc = "POLITICS_LEVKO_KOVALIV_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Lev_Kovaliv.png"
			expire = "1965.1.1"
			ideology = narodism_subtype
		}
	}
	else_if = {
		limit = {
			has_country_leader = {
				name = "Mykola Kovalevskyi"
				ruling_only = yes
			}
		}
		create_country_leader = {
			name = "Mykola Kovalevskyi"
			desc = "POLITICS_MYKOLA_KOVALEVSKYI_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Mykola_Kovalevskyi.png"
			expire = "1965.1.1"
			ideology = narodism_subtype
			traits = { UKR_cooperator }
		}	
	}
	else_if = {
		limit = {
			has_country_leader = {
				name = "Pavlo Khristiuk"
				ruling_only = yes
			}
		}
		create_country_leader = {
			name = "Pavlo Khristiuk"
			desc = "POLITICS_PAVLO_KHRISTIUK_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Pavlo_Khrystiuk.png"
			expire = "1965.1.1"
			ideology = narodism_subtype
			traits = { UKR_cooperator }
		}	
	}
	else_if = {
		limit = {
			has_country_leader = {
				name = "Mykyta Shapoval"
				ruling_only = yes
			}
		}
		create_country_leader = {
			name = "Mykyta Shapoval"
			desc = "POLITICS_MYKYTA_SHAPOVAL_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Mykyta_Shapoval.png"
			expire = "1965.1.1"
			ideology = narodism_subtype
			traits = { UKR_forester }
		}	
	}
	else_if = {
		limit = {
			has_country_leader = {
				name = "Mykhailo Hrushevskyi"
				ruling_only = yes
			}
		}
		create_country_leader = {
			name = "Mykhailo Hrushevskyi"
			desc = "POLITICS_MYKHAILO_HRUSHEVSKYI_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Mykhailo_Hrushevsky.png"
			expire = "1965.1.1"
			ideology = narodism_subtype
			traits = { 
				UKR_first_premier
			}
		}	
	}
	else_if = {
		limit = {
			has_country_leader = {
				name = "Vsevolod Holubovych"
				ruling_only = yes
			}
		}
		create_country_leader = {
			name = "Vsevolod Holubovych"
			desc = "POLITICS_VSEVOLOD_HOLUBOVYCH_DESC"
			picture = "gfx/leaders/UKR/Portrait_UKR_Vsevolod_Holubovych.png" 
			expire = "1965.1.1"
			ideology = narodism_subtype
		}
	}
}

UKR_USDRP_more_left = {
	if = {
		limit = {
			NOT = { has_completed_focus = UKR_Democratic_Socialist_Constitution }
		}
		custom_effect_tooltip = UKR_USDRP_more_left
		add_to_variable = { UKR_USDRP_Status = -1 }
		if = {
			limit = {
				check_variable = { UKR_USDRP_Status < 1 }
				NOT = { has_country_leader_ideology = socdem_democratic_socialism_subtype }
			}
			set_country_leader_ideology = socdem_democratic_socialism_subtype
		}
		else_if = {
			limit = {
				check_variable = { UKR_USDRP_Status < -1 }
				NOT = { has_country_leader_ideology = syndie_social_democrat_subtype }
			}
			set_country_leader_ideology = syndie_social_democrat_subtype
		}
		if = {
			limit = {
				check_variable = { UKR_USDRP_Status < -3 }
			}
			if = {
				limit = { 
					NOT = { has_active_mission = UKR_rightwing_complains }
					NOT = { has_country_flag = UKR_rightwing_appeased }
					NOT = { has_government = radical_socialist }
				}
				activate_mission = UKR_rightwing_complains
			}
		}
		clamp_variable = {
			var = UKR_USDRP_Status
			min = -4
			max = 4
		}
		hidden_effect = {
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.01
			}
		}
	}
}
UKR_USDRP_more_right = {
	if = {
		limit = {
			NOT = { has_completed_focus = UKR_Democratic_Socialist_Constitution }
		}
		custom_effect_tooltip = UKR_USDRP_more_right
		add_to_variable = { UKR_USDRP_Status = 1 }
		if = {
			limit = {
				check_variable = { UKR_USDRP_Status > -1 }
				check_variable = { UKR_USDRP_Status < 1 }
				NOT = { has_country_leader_ideology = socdem_democratic_socialism_subtype }
			}
			if = {
				limit = { has_government = radical_socialist }
				set_politics = {
					ruling_party = social_democrat
					elections_allowed = yes
				}
			}
			set_country_leader_ideology = socdem_democratic_socialism_subtype
		}
		else_if = {
			limit = {
				check_variable = { UKR_USDRP_Status > 1 }
				NOT = { has_country_leader_ideology = social_democrat_subtype }
			}
			set_country_leader_ideology = social_democrat_subtype
		}
		if = {
			limit = {
				check_variable = { UKR_USDRP_Status > 3 }
			}
			if = {
				limit = { 
					NOT = { has_active_mission = UKR_leftwing_complains }
					NOT = { has_country_flag = UKR_leftwing_appeased }
				}
				activate_mission = UKR_leftwing_complains
			}
		}
		clamp_variable = {
			var = UKR_USDRP_Status
			min = -4
			max = 4
		}
		hidden_effect = {
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.01
			}
		}
	}
}
UKR_USDRP_more_center = {
	if = {
		limit = {
			NOT = { has_completed_focus = UKR_Democratic_Socialist_Constitution }
		}
		custom_effect_tooltip = UKR_USDRP_more_center
		if = {
			limit = {
				check_variable = { UKR_USDRP_Status < -1 }
			}
			add_to_variable = { UKR_USDRP_Status = 1 }
			if = {
				limit = {
					check_variable = { UKR_USDRP_Status > -1 }
					NOT = { has_country_leader_ideology = socdem_democratic_socialism_subtype }
				}
				if = {
					limit = { has_government = radical_socialist }
					set_politics = {
						ruling_party = social_democrat
						elections_allowed = yes
					}
				}
				set_country_leader_ideology = socdem_democratic_socialism_subtype
			}
		}
		else_if = {
			limit = {
				check_variable = { UKR_USDRP_Status > 1 }
			}
			add_to_variable = { UKR_USDRP_Status = -1 }
			if = {
				limit = {
					check_variable = { UKR_USDRP_Status < 1 }
					NOT = { has_country_leader_ideology = socdem_democratic_socialism_subtype }
				}
				set_country_leader_ideology = socdem_democratic_socialism_subtype
			}
		}
		hidden_effect = {
			add_popularity = {
				ideology = social_democrat
				popularity = 0.01
			}
			add_popularity = {
				ideology = social_liberal
				popularity = -0.01
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = -0.01
			}
		}
	}
}
UKR_setup_red_kyiv = {
	unlock_decision_category_tooltip = UKR_Red_Kyiv_category
	add_ideas = UKR_red_kyiv
	hidden_effect = {
		country_event = {
			id = ukrsoc.151
			days = 40
			random_days = 90
		}
		set_variable = { UKR_red_kyiv_pp = 0.05 }
		set_variable = { UKR_red_kyiv_stability = 0.02 }
		set_variable = { UKR_red_kyiv_weekly_manpower = 10 }
		if = {
			limit = { has_government = social_democrat }
			set_variable = { UKR_red_kyiv_sd_drift = 0.02 }
			set_variable = { UKR_red_kyiv_rs_drift = 0 }
		}
		else = {
			set_variable = { UKR_red_kyiv_sd_drift = 0.01 }
			set_variable = { UKR_red_kyiv_rs_drift = 0.01 }
		}
				
		set_variable = { UKR_red_kyiv_state_building_slots = 0.1 }
		set_variable = { UKR_red_kyiv_state_local_factories = 0.15 }
		set_variable = { UKR_red_kyiv_state_local_manpower = 0 }
		set_variable = { UKR_red_kyiv_state_local_resources = 0 }
		set_variable = { UKR_red_kyiv_state_local_supplies = 0 }
		
		add_dynamic_modifier = { modifier = UKR_red_kyiv_modifier }
		set_variable = { UKR_kyiv_budget_debt = 0 }
		set_variable = { UKR_kyiv_budget = 30 }
		set_variable = { UKR_kyiv_budget_monthly = 0 }
		set_variable = { UKR_red_kyiv_popularity = party_popularity@social_democrat }
		multiply_variable = { UKR_red_kyiv_popularity = 100 }
		202 = {
			add_dynamic_modifier = { modifier = UKR_red_kyiv_state_modifier }
			set_temp_variable = { UKR_kyiv_budget_temp = state_population_k } #2619
			multiply_temp_variable = { UKR_kyiv_budget_temp = 0.6 } # kinda adult population
			multiply_temp_variable = { UKR_kyiv_budget_temp = 15 } #taxes
			divide_temp_variable = { UKR_kyiv_budget_temp = 10000 } #31 mln would be nice
			add_to_variable = { PREV.UKR_kyiv_budget = UKR_kyiv_budget_temp }
			add_to_variable = { PREV.UKR_kyiv_budget_monthly = UKR_kyiv_budget_temp }
		}
	}
	force_update_dynamic_modifier = yes
}
UKR_monthly_red_kyiv_recalc = {
	if = {
		limit = { 
			check_variable = { UKR_kyiv_budget < 0 }
		}
		set_temp_variable = { UKR_kyiv_budget_to_debt = UKR_kyiv_budget }
		multiply_temp_variable = { UKR_kyiv_budget_to_debt = -1 }
		add_to_variable = { UKR_kyiv_budget_debt = UKR_kyiv_budget_to_debt }
	}
	if = {
		limit = {
			check_variable = { UKR_kyiv_budget_debt > 0 }
		}
		multiply_variable = { UKR_kyiv_budget_debt = 1.05 }
	}
	set_temp_variable = { UKR_red_kyiv_budget_change = UKR_kyiv_budget_monthly }
	UKR_increase_kyiv_budget_by_sum = yes
	if = {
		limit = {
			check_variable = { UKR_kyiv_budget < 11 }
		}
		country_event = ukrsoc.152
	}
	force_update_dynamic_modifier = yes
}
# requires a temp variable UKR_red_kyiv_budget_change
UKR_increase_kyiv_budget_by_sum = {
	effect_tooltip = {
		add_to_variable = {
			UKR_kyiv_budget = UKR_red_kyiv_budget_change
			tooltip = UKR_increase_kyiv_budget_by_sum_tooltip
		}
	}

	# add the variable
	add_to_variable = { UKR_kyiv_budget = UKR_red_kyiv_budget_change }
}
# requires a temp variable UKR_red_kyiv_budget_monthly_change
UKR_increase_kyiv_budget_monthly_by_sum = {
	effect_tooltip = {
		add_to_variable = {
			UKR_kyiv_budget_monthly = UKR_red_kyiv_budget_monthly_change
			tooltip = UKR_increase_kyiv_budget_monthly_by_sum_tooltip
		}
	}

	# add the variable
	add_to_variable = { UKR_kyiv_budget_monthly = UKR_red_kyiv_budget_monthly_change }
}
# requires a temp variable UKR_red_kyiv_pop_change
UKR_increase_red_kyiv_popularity = {
	effect_tooltip = {
		add_to_variable = {
			UKR_kyiv_budget_monthly = UKR_red_kyiv_pop_change
			tooltip = UKR_increase_red_kyiv_popularity_tooltip
		}
	}

	# lower limit = legitimacy * -1
	set_temp_variable = { UKR_lower_limit = UKR_red_kyiv_popularity }
	multiply_temp_variable = { UKR_lower_limit = -1 }

	# upper limit = 100 - legitimacy
	set_temp_variable = { UKR_upper_limit = 100 }
	subtract_from_temp_variable = { UKR_upper_limit = UKR_red_kyiv_popularity }

	# avoid values outside the allowed range
	clamp_temp_variable = {
		var = UKR_red_kyiv_pop_change
		min = UKR_lower_limit
		max = UKR_upper_limit
	}

	# add the variable
	add_to_variable = { UKR_red_kyiv_popularity = UKR_red_kyiv_pop_change }
	
	clamp_variable = {
		var = UKR_red_kyiv_popularity
		min = 0
		max = 100
	}
}

UKR_increase_esef = {
	if = {
		limit = {
			NOT = { has_global_flag = UPR_soclibs_leave_dyrektoria }
		}
		custom_effect_tooltip = UKR_increase_esef
		add_to_variable = { UKR_esef_authority = 1 }
	}
}

UKR_upgrade_template_and_divisions = {
	if = {
		limit = {
			has_variable = UKR_militia_template_level
			check_variable =  { UKR_militia_template_level < 2 }
		}
		add_units_to_division_template = {
			template_name = "Zemske Opolchennia"
			regiments = {
				militia = 0
				militia = 0 
			}
		}
	}
	else_if = {
		limit = {
			has_variable = UKR_militia_template_level
			check_variable =  { UKR_militia_template_level < 4 }
		}
		add_units_to_division_template = {
			template_name = "Zemske Opolchennia"
			regiments = {
				militia = 1
				militia = 1 
			}
		}
	}
	else_if = {
		limit = {
			has_variable = UKR_militia_template_level
			check_variable =  { UKR_militia_template_level < 6 }

		}
		add_units_to_division_template = {
			template_name = "Zemske Opolchennia"
			regiments = {
				militia = 2
				militia = 2 
			}
		}
	}
	else_if = {
		limit = {
			has_variable = UKR_militia_template_level
			check_variable =  { UKR_militia_template_level < 8 }

		}
		add_units_to_division_template = {
			template_name = "Zemske Opolchennia"
			regiments = {
				militia = 3
				militia = 3 
			}
		}
	}
	else_if = {
		limit = {
			has_variable = UKR_militia_template_level
			check_variable =  { UKR_militia_template_level < 10 }
		}
		add_units_to_division_template = {
			template_name = "Zemske Opolchennia"
			regiments = {
				militia = 4
				militia = 4 
			}
		}
	}
	if = { #Increasing the Militia Level variable 
		limit = {
			has_variable = UKR_militia_template_level
			check_variable = { UKR_militia_template_level < 10 }
		}
		add_to_variable = { UKR_militia_template_level = 1 }
	}
	else_if = {
		limit = {
			NOT = { has_variable = UKR_militia_template_level }  
		}
		division_template = {
			name = "Zemske Opolchennia"
			is_locked = yes
			force_allow_recruiting = yes
			priority = 1
			template_counter = 70
			regiments = {
				militia = { x = 0 y = 0 }
				militia = { x = 0 y = 1 }
			}
			support = {

			}
			division_cap = 15 
		}
		set_variable = { UKR_militia_template_level = 1 }
	}
}

UKR_increase_militia_cap = { 
	effect_tooltip = {
		set_temp_variable = { UKR_new_militia_cap_for_tooltip = UKR_militia_division_cap }
		add_to_temp_variable = { UKR_new_militia_cap_for_tooltip = UKR_militia_cap_increase }
		set_division_template_cap = { 
			division_template = "Zemske Opolchennia" 
			division_cap = UKR_new_militia_cap_for_tooltip   
		}
	}
	hidden_effect = {
		add_to_variable = { UKR_militia_division_cap = UKR_militia_cap_increase }
		clamp_variable = {
			var = UKR_militia_division_cap
			min = 0 
			max = UKR_max_militia_division_cap
		}  
		set_division_template_cap = { 
			division_template = "Zemske Opolchennia" 
			division_cap = UKR_militia_division_cap
		}
	}
}
# requires a temp variable UKR_federal_unity_change
UKR_change_federal_unity = {
	# convert percent to absolute
	if = {
		limit = {
			check_variable = { UKR_federal_unity_change > -1 }
			check_variable = { UKR_federal_unity_change < 1 }
		}
		multiply_temp_variable = { UKR_federal_unity_change = 100 }
	}

	# tooltip
	effect_tooltip = {
		add_to_variable = {
			ukr_federal_unity = UKR_federal_unity_change
			tooltip = UKR_federal_unity_tooltip
		}
	}

	# lower limit = legitimacy * -1
	set_temp_variable = { UKR_lower_limit = ukr_federal_unity }
	multiply_temp_variable = { UKR_lower_limit = -1 }

	# upper limit = 100 - legitimacy
	set_temp_variable = { UKR_upper_limit = 100 }
	subtract_from_temp_variable = { UKR_upper_limit = ukr_federal_unity }

	# avoid values outside the allowed range
	clamp_temp_variable = {
		var = UKR_federal_unity_change
		min = UKR_lower_limit
		max = UKR_upper_limit
	}

	# add the variable
	add_to_variable = { ukr_federal_unity = UKR_federal_unity_change }
}
# requires a temp variable UKR_cohesion_change
UKR_change_cohesion = {
	# convert percent to absolute
	if = {
		limit = {
			check_variable = { UKR_cohesion_change > -1 }
			check_variable = { UKR_cohesion_change < 1 }
		}
		multiply_temp_variable = { UKR_cohesion_change = 100 }
	}

	# tooltip
	effect_tooltip = {
		add_to_variable = {
			ukr_federal_cohesion = UKR_cohesion_change
			tooltip = UKR_cohesion_tooltip
		}
	}

	# lower limit = legitimacy * -1
	set_temp_variable = { UKR_lower_limit = ukr_federal_cohesion }
	multiply_temp_variable = { UKR_lower_limit = -1 }

	# upper limit = 100 - legitimacy
	set_temp_variable = { UKR_upper_limit = 100 }
	subtract_from_temp_variable = { UKR_upper_limit = ukr_federal_cohesion }

	# avoid values outside the allowed range
	clamp_temp_variable = {
		var = UKR_cohesion_change
		min = UKR_lower_limit
		max = UKR_upper_limit
	}

	# add the variable
	add_to_variable = { ukr_federal_cohesion = UKR_cohesion_change }
}

UKR_activate_mizhmoria_decisions = {
	activate_targeted_decision = { target = ROOT decision = UKR_propose_economic_union }
	activate_targeted_decision = { target = ROOT decision = UKR_propose_research_initative }
	activate_targeted_decision = { target = ROOT decision = UKR_defense_and_security_cooperation_bill }
	activate_targeted_decision = { target = ROOT decision = UKR_protection_of_cultural_expression }
	activate_targeted_decision = { target = ROOT decision = UKR_healthcare_programme }
	activate_targeted_decision = { target = ROOT decision = UKR_the_labour_law }
	hidden_effect = { 
		activate_targeted_decision = { target = ROOT decision = UKR_common_agricultural_policy }
		activate_targeted_decision = { target = ROOT decision = UKR_intermarium_central_bank }
		activate_targeted_decision = { target = ROOT decision = UKR_propose_economic_union_2 }
	}
}
KR_activate_mizhmoria_dummy_mission = {
	hidden_effect = {
		every_country = {
			limit = {
				NOT = { tag = ROOT }
				has_country_flag = mizhmoria_member
			}
			activate_mission = KR_mizhmoria_bill_voting_dummy
		}
	}
}
UKR_add_to_mizhmoria = {
	if = {
		limit = { NOT = { has_country_flag = mizhmoria_member } }
		set_country_flag = mizhmoria_member
		add_to_array = { global.mizhmoria_tags_array = THIS }
		#add_to_array = { global.mizhmoria_tags_display_array = THIS }
		if = {
			limit = { 
				NOT = { is_in_faction_with = MIZ }
			}
			MIZ = { add_to_faction = PREV }
		}
		if = {
			limit = {
				MIZ = { has_idea = KR_mizhmoria_labour_law }
			}
			add_ideas = KR_mizhmoria_labour_law
		}
		if = {
			limit = {
				MIZ = { has_idea = KR_mizhmoria_socialist_healthcare }
			}
			add_ideas = KR_mizhmoria_socialist_healthcare
		}
		if = {
			limit = {
				MIZ = { has_idea = KR_mizhmoria_liberal_healthcare }
			}
			add_ideas = KR_mizhmoria_liberal_healthcare
		}
		UKR_global_recalculate_mizhmoria_federal_parties = yes
		if = {
			limit = { has_global_flag = UKR_mizhmoria_federal_national_curias_formed }
			UKR_global_recalculate_member_seats = yes
		}
		if = {
			limit = { has_global_flag = UKR_mizhmoria_federal_member_delegations_formed }
			UKR_global_recalculate_member_delegations = yes
		}
	}
	KR_mizhmoria_dirty = yes
}

UKR_remove_from_mizhmoria = {
	if = {
		limit = { has_country_flag = mizhmoria_member }
		clr_country_flag = mizhmoria_member
		remove_from_array = { global.mizhmoria_tags_array = THIS }
	}
	leave_faction = yes
	KR_mizhmoria_remove_from_economic = yes
	if = {
		limit = { is_in_tech_sharing_group = mizhmoria_research }
		remove_from_tech_sharing_group = mizhmoria_research
	}
	KR_mizhmoria_dirty = yes
}
UKR_add_to_mizhmoria_economic = {
	if = {
		limit = { KR_mizhmoria_is_member_economic = no }
		custom_effect_tooltip = KR_mizhmoria_add_to_economic
		add_to_array = { global.mizhmoria_economic_tags_array = THIS }
		if = {
			limit = { 
				MIZ = { 
					OR = {
						has_idea = KR_mizhmoria_iea_2 
						has_idea = KR_mizhmoria_iea_3
					}
				}
			}
			country_event = { id = mizhmoria.55 days = 2 }
		}
		else_if = {
			limit = { 
				MIZ = { has_idea = KR_mizhmoria_iea_1a }
			}
			hidden_effect = { add_ideas = KR_mizhmoria_iea_1a }
		}
		else = {
			hidden_effect = { add_ideas = KR_mizhmoria_iea_1 }
		}
		country_event = {
			id = mizhmoria.51
			days = 2
			random = 48
		}
		if = {
			limit = {
				has_global_flag = UKR_mizhmoria_economic_workers_amendment
			}
			add_ideas = KR_mizhmoria_iea_working_amendement
		}
		if = {
			limit = {
				MIZ = { has_idea = KR_mizhmoria_agriculture }
			}
			add_ideas = KR_mizhmoria_agriculture
		}
		if = {
			limit = {
				MIZ = { has_idea = KR_mizhmoria_socialist_agriculture }
			}
			add_ideas = KR_mizhmoria_socialist_agriculture
		}
		if = {
			limit = {
				MIZ = { has_idea = KR_mizhmoria_conservative_agriculture }
			}
			add_ideas = KR_mizhmoria_conservative_agriculture
		}
		set_country_flag = KR_joined_iea
		every_other_country = {
			limit = { KR_mizhmoria_is_member_economic = yes }
			add_opinion_modifier = {
				target = ROOT
				modifier = KR_mizhmoria_member_economic
			}
			reverse_add_opinion_modifier = {
				target = ROOT
				modifier = KR_mizhmoria_member_economic
			}
		}
		hidden_effect = { 
			MIZ = { 
				country_event = {
					id = mizhmoria.48 
					days = 1
					random = 48
				} 
			}
		}
	}
	KR_mizhmoria_dirty = yes
}
KR_mizhmoria_remove_from_economic = {
	if = {
		limit = { KR_mizhmoria_is_member_economic = yes }
		custom_effect_tooltip = KR_mizhmoria_remove_from_economic
		hidden_effect = {
			remove_from_array = { global.mizhmoria_economic_tags_array = THIS }
			remove_ideas = {
				KR_mizhmoria_iea_1
				KR_mizhmoria_iea_2
				KR_iea_econ1
				KR_iea_econ2
				KR_iea_econ3
				KR_iea_mil1
				KR_iea_mil2
				KR_iea_mil3
				KR_iea_const1
				KR_iea_const2
				KR_iea_const3
				KR_mizhmoria_iea_working_amendement
			} 
		}
		clr_country_flag = KR_joined_iea
		every_other_country = {
			limit = { KR_mizhmoria_is_member_economic = yes }
			remove_opinion_modifier = {
				target = ROOT
				modifier = KR_mizhmoria_member_economic
			}
			ROOT = {
				remove_opinion_modifier = {
					target = PREV
					modifier = KR_mizhmoria_member_economic
				}
			}
		}
		MIZ = { country_event = { id = mizhmoria.50 days = 2 } }
	}
	KR_mizhmoria_dirty = yes
}
UKR_global_recalculate_mizhmoria_federal_parties = {
	set_variable = { global.mizhmoria_spm_pop = 0 }
	set_variable = { global.mizhmoria_sdpm_pop = 0 }
	set_variable = { global.mizhmoria_ldpm_pop = 0 }
	every_country = {
		limit = { KR_is_mizhmoria_member = yes }
		# SPM
		set_variable = { THIS.mizhmoria_spm_pop = THIS.party_popularity@totalist }
		add_to_variable = { THIS.mizhmoria_spm_pop = THIS.party_popularity@syndicalist }
		add_to_variable = { THIS.mizhmoria_spm_pop = THIS.party_popularity@radical_socialist }
		# SDPM
		set_variable = { THIS.mizhmoria_sdpm_pop = THIS.party_popularity@social_democrat }
		# LDPM
		set_variable = { THIS.mizhmoria_ldpm_pop = THIS.party_popularity@social_liberal }
		add_to_variable = { THIS.mizhmoria_ldpm_pop = THIS.party_popularity@market_liberal }
		
		add_to_variable = { global.mizhmoria_spm_pop = THIS.mizhmoria_spm_pop }
		add_to_variable = { global.mizhmoria_sdpm_pop = THIS.mizhmoria_sdpm_pop }
		add_to_variable = { global.mizhmoria_ldpm_pop = THIS.mizhmoria_ldpm_pop }
	}
	divide_variable = { global.mizhmoria_spm_pop = global.mizhmoria_tags_array^num }
	divide_variable = { global.mizhmoria_sdpm_pop = global.mizhmoria_tags_array^num }
	divide_variable = { global.mizhmoria_ldpm_pop = global.mizhmoria_tags_array^num }
	set_variable = { global.mizhmoria_ksm_pop = 1 }
	subtract_from_variable = { global.mizhmoria_ksm_pop = global.mizhmoria_spm_pop }
	subtract_from_variable = { global.mizhmoria_ksm_pop = global.mizhmoria_sdpm_pop }
	subtract_from_variable = { global.mizhmoria_ksm_pop = global.mizhmoria_ldpm_pop }
	
	KR_mizhmoria_dirty = yes
}
UKR_global_recalculate_member_seats = {
	set_variable = { global.mizhmoria_member_seats = 0 }
	every_country = {
		limit = { KR_is_mizhmoria_member = yes }
		set_variable = { THIS.member_seats = max_manpower_k }
		divide_variable = { THIS.member_seats = 1000 }
		multiply_variable = { THIS.member_seats = 1.25 }
		round_variable = THIS.member_seats
		
		add_to_variable = { global.mizhmoria_member_seats = THIS.member_seats }
	}
	KR_mizhmoria_dirty = yes
}
UKR_global_recalculate_member_delegations = {
	set_variable = { global.mizhmoria_member_delegations = 0 }
	set_variable = { global.mizhmoria_coalition_members = 0 }
	set_variable = { global.mizhmoria_opposition_members = 0 }
	every_country = {
		limit = { KR_is_mizhmoria_member = yes }
		set_variable = { THIS.mizhmoria_member_delegations = 5 }
		
		set_temp_variable_to_random = {
			var = KR_coal_members
			min = 0
			max = 5
		}
		set_variable = { THIS.member_delegate_coalition = KR_coal_members }
		set_variable = { THIS.member_delegate_opposition = 5 }
		subtract_from_variable = { THIS.member_delegate_opposition = THIS.member_delegate_coalition }
				
		add_to_variable = { global.mizhmoria_member_delegations = THIS.mizhmoria_member_delegations }
		add_to_variable = { global.mizhmoria_coalition_members = THIS.member_delegate_coalition }
		add_to_variable = { global.mizhmoria_opposition_members = THIS.member_delegate_opposition }
	}
	KR_mizhmoria_dirty = yes
}
KR_mizhmoria_calculate_parties_support = {
	if = {
		limit = { has_global_flag = KR_mizhmoria_economic_cooperation_vote }
		set_variable = { global.mizhmoria_yes_votes = global.mizhmoria_ldpm_pop }
		set_variable = { global.mizhmoria_no_votes = 1 }
		subtract_from_variable = { global.mizhmoria_no_votes = global.mizhmoria_yes_votes }
	}
	else_if = {
		limit = { has_global_flag = KR_mizhmoria_research_coop_vote }
		set_variable = { global.mizhmoria_yes_votes = global.mizhmoria_ldpm_pop }
		add_to_variable = { global.mizhmoria_yes_votes = global.mizhmoria_sdpm_pop }
		set_variable = { global.mizhmoria_no_votes = 1 }
		subtract_from_variable = { global.mizhmoria_no_votes = global.mizhmoria_yes_votes }
	}
	else_if = {
		limit = { has_global_flag = KR_mizhmoria_security_vote }
		set_variable = { global.mizhmoria_yes_votes = global.mizhmoria_ldpm_pop }
		add_to_variable = { global.mizhmoria_yes_votes = global.mizhmoria_sdpm_pop }
		add_to_variable = { global.mizhmoria_yes_votes = global.mizhmoria_spm_pop }
		set_variable = { global.mizhmoria_no_votes = 1 }
		subtract_from_variable = { global.mizhmoria_no_votes = global.mizhmoria_yes_votes }
	}
	else_if = {
		limit = { has_global_flag = KR_mizhmoria_economic_agriculture_vote }
		set_variable = { global.mizhmoria_yes_votes = global.mizhmoria_ldpm_pop }
		add_to_variable = { global.mizhmoria_yes_votes = global.mizhmoria_sdpm_pop }
		set_variable = { global.mizhmoria_no_votes = 1 }
		subtract_from_variable = { global.mizhmoria_no_votes = global.mizhmoria_yes_votes }
	}
	else_if = {
		limit = { has_global_flag = KR_mizhmoria_single_currency_vote }
		set_variable = { global.mizhmoria_yes_votes = global.mizhmoria_ldpm_pop }
		add_to_variable = { global.mizhmoria_yes_votes = global.mizhmoria_spm_pop }
		set_variable = { global.mizhmoria_no_votes = 1 }
		subtract_from_variable = { global.mizhmoria_no_votes = global.mizhmoria_yes_votes }
	}
	else_if = {
		limit = { has_global_flag = KR_mizhmoria_central_bank_vote }
		set_variable = { global.mizhmoria_yes_votes = global.mizhmoria_ldpm_pop }
		add_to_variable = { global.mizhmoria_yes_votes = global.mizhmoria_spm_pop }
		add_to_variable = { global.mizhmoria_yes_votes = global.mizhmoria_sdpm_pop }
		add_to_variable = { global.mizhmoria_yes_votes = global.mizhmoria_ksm_pop }
		set_variable = { global.mizhmoria_no_votes = 1 }
		subtract_from_variable = { global.mizhmoria_no_votes = global.mizhmoria_yes_votes }
	}
	else_if = {
		limit = { has_global_flag = KR_protection_of_cultural_vote }
		set_variable = { global.mizhmoria_yes_votes = global.mizhmoria_ldpm_pop }
		add_to_variable = { global.mizhmoria_yes_votes = global.mizhmoria_sdpm_pop }
		add_to_variable = { global.mizhmoria_yes_votes = global.mizhmoria_ksm_pop }
		set_variable = { global.mizhmoria_no_votes = 1 }
		subtract_from_variable = { global.mizhmoria_no_votes = global.mizhmoria_yes_votes }
	}
	else_if = {
		limit = { has_global_flag = UKR_mizhmoria_healthcare_socialist }
		set_variable = { global.mizhmoria_yes_votes = global.mizhmoria_sdpm_pop }
		add_to_variable = { global.mizhmoria_yes_votes = global.mizhmoria_spm_pop }
		set_variable = { global.mizhmoria_no_votes = 1 }
		subtract_from_variable = { global.mizhmoria_no_votes = global.mizhmoria_yes_votes }
	}
	else_if = {
		limit = { has_global_flag = UKR_mizhmoria_healthcare_liberal }
		set_variable = { global.mizhmoria_yes_votes = global.mizhmoria_ldpm_pop }
		add_to_variable = { global.mizhmoria_yes_votes = global.mizhmoria_ksm_pop }
		set_variable = { global.mizhmoria_no_votes = 1 }
		subtract_from_variable = { global.mizhmoria_no_votes = global.mizhmoria_yes_votes }
	}
	else_if = {
		limit = { has_global_flag = KR_mizhmoria_labour_vote }
		set_variable = { global.mizhmoria_yes_votes = global.mizhmoria_sdpm_pop }
		add_to_variable = { global.mizhmoria_yes_votes = global.mizhmoria_spm_pop }
		set_temp_variable = { temp = global.mizhmoria_ldpm_pop }
		set_temp_variable_to_random = {
			var = multiply_factor
			min = 0.4
			max = 0.6
		}
		multiply_temp_variable = { temp = multiply_factor }
		add_to_variable = { global.mizhmoria_yes_votes = temp }
		set_variable = { global.mizhmoria_no_votes = 1 }
		subtract_from_variable = { global.mizhmoria_no_votes = global.mizhmoria_yes_votes }
	}
	KR_mizhmoria_dirty = yes
}
KR_mizhmoria_calculate_member_delegations_support = {
	set_variable = { global.mizhmoria_yes_votes = global.mizhmoria_coalition_members }
	set_variable = { global.mizhmoria_no_votes = global.mizhmoria_member_delegations }
	subtract_from_variable = { global.mizhmoria_no_votes = global.mizhmoria_yes_votes }
	activate_targeted_decision = { target = ROOT decision = KR_lobby_opposition }
	KR_mizhmoria_dirty = yes
}
KR_mizhmoria_dirty = {
	every_country = {
		limit = { KR_is_mizhmoria_member = yes }
		add_to_variable = { mizhmoria_dirty = 1 }
	}
}
UKR_setup_trimvirs = {
	set_country_flag = UKR_triumvirs_power_struggle
	
	set_variable = { UKR_triumvirs_bolbochan_coef = 1 }
	set_variable = { UKR_triumvirs_shapoval_coef = 1 }
	set_variable = { UKR_triumvirs_hrekiv_coef = 1 }

	set_variable = { UKR_triumvirs_militarism = ROOT.has_war_support }
	if = {
		limit = { check_variable = { UKR_triumvirs_militarism > 0.49 } }
		set_temp_variable_to_random = {
			var = multiply_factor
			min = 0.55
			max = 0.85
		}
		multiply_variable = { UKR_triumvirs_militarism = multiply_factor }
	}
	
	set_variable = { UKR_triumvirs_socialism = UKR.party_popularity@social_democrat }
	add_to_variable = { UKR_triumvirs_socialism = UKR.party_popularity@radical_socialist }
	add_to_variable = { UKR_triumvirs_socialism = UKR.party_popularity@totalist }
	add_to_variable = { UKR_triumvirs_socialism = UKR.party_popularity@social_liberal }
	if = {
		limit = { check_variable = { UKR_triumvirs_socialism > 0.49 } }
		set_temp_variable_to_random = {
			var = multiply_factor
			min = 0.55
			max = 0.85
		}
		multiply_variable = { UKR_triumvirs_socialism = multiply_factor }
	}
	
	set_variable = { UKR_triumvirs_nationalism = UKR.party_popularity@national_populist }
	if = {
		limit = { check_variable = { UKR_triumvirs_nationalism > 0.49 } }
		set_temp_variable_to_random = {
			var = multiply_factor
			min = 0.55
			max = 0.85
		}
		multiply_variable = { UKR_triumvirs_nationalism = multiply_factor }
	}
	
	set_variable = { should_be_hundred = 1 }
	subtract_from_variable = { should_be_hundred = UKR_triumvirs_nationalism }
	subtract_from_variable = { should_be_hundred = UKR_triumvirs_socialism }
	subtract_from_variable = { should_be_hundred = UKR_triumvirs_militarism }
	
	divide_variable = { should_be_hundred = 3 }
	add_to_variable = { UKR_triumvirs_nationalism = should_be_hundred }
	add_to_variable = { UKR_triumvirs_militarism = should_be_hundred }
	add_to_variable = { UKR_triumvirs_socialism = should_be_hundred }
	
	clear_variable = should_be_hundred
}
UKR_triumvirs_increase_socialism = {
	if = {
		limit = { 
			check_variable = { UKR_triumvirs_socialism < 0.919 }
		}
		custom_effect_tooltip = UKR_triumvirs_increase_socialism
		hidden_effect = {
			random_list = {
				33 = { 
					add_to_variable = { UKR_triumvirs_socialism = 0.08 } 
					add_to_variable = { UKR_triumvirs_militarism = -0.04 } 
				}
				34 = { 
					add_to_variable = { UKR_triumvirs_socialism = 0.1 } 
					add_to_variable = { UKR_triumvirs_militarism = -0.05 } 
				}
				33 = { 
					add_to_variable = { UKR_triumvirs_socialism = 0.12 } 
					add_to_variable = { UKR_triumvirs_militarism = -0.06 } 
				}
			}
			clamp_variable = { var = UKR_triumvirs_socialism min = 0 max = 1 }
			clamp_variable = { var = UKR_triumvirs_militarism min = 0 max = 1 }
			
			set_variable = { UKR_triumvirs_nationalism = 1 }
			subtract_from_variable = { UKR_triumvirs_nationalism = UKR_triumvirs_militarism }
			subtract_from_variable = { UKR_triumvirs_nationalism = UKR_triumvirs_socialism }	
			
			clamp_variable = { var = UKR_triumvirs_nationalism min = 0 max = 1 }
		}
	}
}
UKR_triumvirs_decrease_socialism = {
	if = {
		limit = { 
			check_variable = { UKR_triumvirs_socialism > 0.079 }
		}
		custom_effect_tooltip = UKR_triumvirs_decrease_socialism
		hidden_effect = {
			random_list = {
				33 = { 
					add_to_variable = { UKR_triumvirs_socialism = -0.08 } 
					add_to_variable = { UKR_triumvirs_militarism = 0.04 } 
				}
				34 = { 
					add_to_variable = { UKR_triumvirs_socialism = -0.1 } 
					add_to_variable = { UKR_triumvirs_militarism = 0.05 } 
				}
				33 = { 
					add_to_variable = { UKR_triumvirs_socialism = -0.12 } 
					add_to_variable = { UKR_triumvirs_militarism = 0.06 } 
				}
			}
			clamp_variable = { var = UKR_triumvirs_socialism min = 0 max = 1 }
			clamp_variable = { var = UKR_triumvirs_militarism min = 0 max = 1 }
			
			set_variable = { UKR_triumvirs_nationalism = 1 }
			subtract_from_variable = { UKR_triumvirs_nationalism = UKR_triumvirs_militarism }
			subtract_from_variable = { UKR_triumvirs_nationalism = UKR_triumvirs_socialism }	
			
			clamp_variable = { var = UKR_triumvirs_nationalism min = 0 max = 1 }
		}
	}
}
UKR_triumvirs_increase_nationalism = {
	if = {
		limit = { 
			check_variable = { UKR_triumvirs_nationalism < 0.919 }
		}
		custom_effect_tooltip = UKR_triumvirs_increase_nationalism
		hidden_effect = {
			random_list = {
				33 = { 
					add_to_variable = { UKR_triumvirs_nationalism = 0.08 } 
					add_to_variable = { UKR_triumvirs_militarism = -0.04 } 
				}
				34 = { 
					add_to_variable = { UKR_triumvirs_nationalism = 0.1 } 
					add_to_variable = { UKR_triumvirs_militarism = -0.05 } 
				}
				33 = { 
					add_to_variable = { UKR_triumvirs_nationalism = 0.12 } 
					add_to_variable = { UKR_triumvirs_militarism = -0.06 } 
				}
			}
			clamp_variable = { var = UKR_triumvirs_militarism min = 0 max = 1 }
			clamp_variable = { var = UKR_triumvirs_nationalism min = 0 max = 1 }
		
			set_variable = { UKR_triumvirs_socialism = 1 }
			subtract_from_variable = { UKR_triumvirs_socialism = UKR_triumvirs_militarism }
			subtract_from_variable = { UKR_triumvirs_socialism = UKR_triumvirs_nationalism }	
			
			clamp_variable = { var = UKR_triumvirs_socialism min = 0 max = 1 }
		}
	}
}
UKR_triumvirs_decrease_nationalism = {
	if = {
		limit = { 
			check_variable = { UKR_triumvirs_nationalism > 0.079 }
		}
		custom_effect_tooltip = UKR_triumvirs_decrease_nationalism
		hidden_effect = {
				random_list = {
				33 = { 
					add_to_variable = { UKR_triumvirs_nationalism = -0.08 } 
					add_to_variable = { UKR_triumvirs_militarism = 0.04 } 
				}
				34 = { 
					add_to_variable = { UKR_triumvirs_nationalism = -0.1 } 
					add_to_variable = { UKR_triumvirs_militarism = 0.05 } 
				}
				33 = { 
					add_to_variable = { UKR_triumvirs_nationalism = -0.12 } 
					add_to_variable = { UKR_triumvirs_militarism = 0.06 } 
				}
			}
			clamp_variable = { var = UKR_triumvirs_nationalism min = 0 max = 1 }
			clamp_variable = { var = UKR_triumvirs_militarism min = 0 max = 1 }
			
			set_variable = { UKR_triumvirs_socialism = 1 }
			subtract_from_variable = { UKR_triumvirs_socialism = UKR_triumvirs_militarism }
			subtract_from_variable = { UKR_triumvirs_socialism = UKR_triumvirs_nationalism }	
			
			clamp_variable = { var = UKR_triumvirs_socialism min = 0 max = 1 }
		}
	}
}
UKR_triumvirs_increase_militarism = {
	if = {
		limit = { 
			check_variable = { UKR_triumvirs_militarism < 0.919 }
		}
		custom_effect_tooltip = UKR_triumvirs_increase_militarism
		hidden_effect = {
				random_list = {
				33 = { 
					add_to_variable = { UKR_triumvirs_militarism = 0.08 } 
					add_to_variable = { UKR_triumvirs_socialism = -0.04 } 
				}
				34 = { 
					add_to_variable = { UKR_triumvirs_militarism = 0.1 } 
					add_to_variable = { UKR_triumvirs_socialism = -0.05 } 
				}
				33 = { 
					add_to_variable = { UKR_triumvirs_militarism = 0.12 } 
					add_to_variable = { UKR_triumvirs_socialism = -0.06 } 
				}
			}
			clamp_variable = { var = UKR_triumvirs_militarism min = 0 max = 1 }
			clamp_variable = { var = UKR_triumvirs_socialism min = 0 max = 1 }
		
			set_variable = { UKR_triumvirs_nationalism = 1 }
			subtract_from_variable = { UKR_triumvirs_nationalism = UKR_triumvirs_militarism }
			subtract_from_variable = { UKR_triumvirs_nationalism = UKR_triumvirs_socialism }	
			
			clamp_variable = { var = UKR_triumvirs_nationalism min = 0 max = 1 }
		}
	}
}
UKR_triumvirs_decrease_militarism = {
	if = {
		limit = { 
			check_variable = { UKR_triumvirs_militarism > 0.079 }
		}
		custom_effect_tooltip = UKR_triumvirs_decrease_militarism
		hidden_effect = {
				random_list = {
				33 = { 
					add_to_variable = { UKR_triumvirs_militarism = -0.08 } 
					add_to_variable = { UKR_triumvirs_socialism = 0.04 } 
				}
				34 = { 
					add_to_variable = { UKR_triumvirs_militarism = -0.1 } 
					add_to_variable = { UKR_triumvirs_socialism = 0.05 } 
				}
				33 = { 
					add_to_variable = { UKR_triumvirs_militarism = -0.12 } 
					add_to_variable = { UKR_triumvirs_socialism = 0.06 } 
				}
			}
			clamp_variable = { var = UKR_triumvirs_militarism min = 0 max = 1 }
			clamp_variable = { var = UKR_triumvirs_socialism min = 0 max = 1 }
			
			set_variable = { UKR_triumvirs_nationalism = 1 }
			subtract_from_variable = { UKR_triumvirs_nationalism = UKR_triumvirs_militarism }
			subtract_from_variable = { UKR_triumvirs_nationalism = UKR_triumvirs_socialism }	
			
			clamp_variable = { var = UKR_triumvirs_nationalism min = 0 max = 1 }
		}
	}
}
UKR_triumvirs_increase_hrekiv = {
	add_to_variable = { UKR_triumvirs_hrekiv_coef = 0.1 }
}
UKR_triumvirs_increase_shapoval = {
	add_to_variable = { UKR_triumvirs_shapoval_coef = 0.1 }
}
UKR_triumvirs_increase_bolbochan = {
	add_to_variable = { UKR_triumvirs_bolbochan_coef = 0.1 }
}
UKR_triumvirs_decrease_hrekiv = {
	add_to_variable = { UKR_triumvirs_hrekiv_coef = -0.1 }
}
UKR_triumvirs_decrease_shapoval = {
	add_to_variable = { UKR_triumvirs_shapoval_coef = -0.1 }
}
UKR_triumvirs_decrease_bolbochan = {
	add_to_variable = { UKR_triumvirs_bolbochan_coef = -0.1 }
}
UKR_finalize_triuvmirs = {
	clr_country_flag = UKR_triumvirs_power_struggle
	hidden_effect = {
		if = {
			limit = { 
				check_variable = { UKR_triumvirs_militarism > UKR_triumvirs_nationalism }
				check_variable = { UKR_triumvirs_militarism > UKR_triumvirs_socialism }
			}
			if = {
				limit = { 
					check_variable = { UKR_triumvirs_nationalism > UKR_triumvirs_socialism } 
				}
				set_country_flag = UKR_upss_militarist_nationalist # Easy win for Bolbochan
			}
			else = {
				set_country_flag = UKR_upss_militarist_socialist #Easy win for Hrekiv
			}
		}
		else_if = {
			limit = { 
				check_variable = { UKR_triumvirs_nationalism > UKR_triumvirs_militarism }
				check_variable = { UKR_triumvirs_nationalism > UKR_triumvirs_socialism }
			}
			if = {
				limit = { 
					check_variable = { UKR_triumvirs_militarism > UKR_triumvirs_socialism } 
				}
				set_country_flag = UKR_upss_nationalist_militarist
			}
			else = {
				set_country_flag = UKR_upss_nationalist_socialist
			}
		}
		else = {
			if = {
				limit = { 
					check_variable = { UKR_triumvirs_militarism > UKR_triumvirs_nationalism } 
				}
				set_country_flag = UKR_upss_socialist_militarist
			}
			else = {
				set_country_flag = UKR_upss_socialist_nationalist
			}
		}
		if = {
			limit = { has_completed_focus = UKR_Red_Prince_UPSS } #Hrekiv Out of Game
			if = {
				limit = { 
					OR = {
						check_variable = { UKR_triumvirs_bolbochan_coef > UKR_triumvirs_shapoval_coef }
						has_country_flag = UKR_upss_militarist_nationalist
					}
				}
				country_event = {
					id = ukrpol.245
					days = 7
				}
			}
			else = {
				country_event = {
					id = ukrpol.246
					days = 7
				}
			}
		}
		else = {
			if = {
				limit = { 
					OR = {
						check_variable = { UKR_triumvirs_hrekiv_coef > UKR_triumvirs_shapoval_coef }
						has_country_flag = UKR_upss_militarist_socialist
					}
				}
				country_event = {
					id = ukrpol.247
					days = 7
				}
			}
			else = {
				country_event = {
					id = ukrpol.246
					days = 7
				}
			}
		}
	}
}
UKR_remove_brotfrieden_without_events = {
	if = {
		limit = { has_idea = UKR_brotfrieden_idea_GER }
		remove_ideas = UKR_brotfrieden_idea_GER
	}
	else_if = {
		limit = { has_idea = UKR_brotfrieden_idea_AUS }
		remove_ideas = UKR_brotfrieden_idea_AUS
	}
	else_if = {
		limit = { has_idea = UKR_brotfrieden_idea }
		remove_ideas = UKR_brotfrieden_idea
	}
}

KCN_add_to_kcn_council = {
	if = {
		limit = { NOT = { has_country_flag = kcn_council_vote } }
		set_country_flag = kcn_council_vote
		add_to_array = { global.KCN_voters = THIS }
		if = {
			limit = { NOT = { tag = UKR } }
			diplomatic_relation = {
				country = UKR
				relation = non_aggression_pact
			}
		}
		hidden_effect = { add_ideas = KCN_member }
	}
}

KCN_remove_from_kcn_council = {
	if = {
		limit = { has_country_flag = kcn_council_vote }
		clr_country_flag = kcn_council_vote
		remove_from_array = { global.KCN_voters = THIS }
	}
	if = {
		limit = { has_non_aggression_pact_with = UKR }
		diplomatic_relation = {
			country = UKR
			relation = non_aggression_pact
			active = no
		}
	}
	if = {
		limit = { has_military_access_to = UKR }
		diplomatic_relation = {
			country = UKR
			relation = military_access
			active = no
		}
	}
	if = {
		limit = { gives_military_access_to = UKR }
		UKR = {
			diplomatic_relation = {
				country = PREV
				relation = military_access
				active = no
			}
		}
	}
	hidden_effect = { remove_ideas = KCN_member }
	KCN_remove_from_kcn_economic = yes
	if = {
		limit = { is_in_tech_sharing_group = kyiv_conf_research }
		remove_from_tech_sharing_group = kyiv_conf_research
	}
}
KCN_add_to_kcn_economic = {
	if = {
		limit = { KCN_is_member_economic = no }
		custom_effect_tooltip = KCN_add_to_economic
		add_to_array = { global.KCN_economic_members = THIS }
		hidden_effect = { add_ideas = KCN_kect_1 }
	}
}
KCN_remove_from_kcn_economic = {
	if = {
		limit = { KCN_is_member_economic = yes }
		custom_effect_tooltip = KCN_remove_from_economic
		hidden_effect = {
			remove_from_array = { global.KCN_economic_members = THIS }
			remove_ideas = {
				KCN_kect_0
				KCN_kect_1
			}
		}
	}
}
KCN_create_array_of_potential_members = {
	add_to_array = { global.KCN_potential_kcn_members = ALA }
	add_to_array = { global.KCN_potential_kcn_members = AFG }
	add_to_array = { global.KCN_potential_kcn_members = ASY }
	add_to_array = { global.KCN_potential_kcn_members = BFA }
	add_to_array = { global.KCN_potential_kcn_members = BHC }
	add_to_array = { global.KCN_potential_kcn_members = BHU }
	add_to_array = { global.KCN_potential_kcn_members = BOR }
	add_to_array = { global.KCN_potential_kcn_members = BOT }
	add_to_array = { global.KCN_potential_kcn_members = BRD }
	add_to_array = { global.KCN_potential_kcn_members = BRM }
	add_to_array = { global.KCN_potential_kcn_members = BRT }
	add_to_array = { global.KCN_potential_kcn_members = CAF }
	add_to_array = { global.KCN_potential_kcn_members = CAM }
	add_to_array = { global.KCN_potential_kcn_members = CEA }
	add_to_array = { global.KCN_potential_kcn_members = CEN }
	add_to_array = { global.KCN_potential_kcn_members = CEY }
	add_to_array = { global.KCN_potential_kcn_members = CHI }
	add_to_array = { global.KCN_potential_kcn_members = CIV }
	add_to_array = { global.KCN_potential_kcn_members = COG }
	add_to_array = { global.KCN_potential_kcn_members = COS }
	add_to_array = { global.KCN_potential_kcn_members = CRE }
	add_to_array = { global.KCN_potential_kcn_members = CUB }
	add_to_array = { global.KCN_potential_kcn_members = CVG }
	add_to_array = { global.KCN_potential_kcn_members = CYP }
	add_to_array = { global.KCN_potential_kcn_members = DOM }
	add_to_array = { global.KCN_potential_kcn_members = ECU }
	add_to_array = { global.KCN_potential_kcn_members = ELS }
	add_to_array = { global.KCN_potential_kcn_members = ERI }
	add_to_array = { global.KCN_potential_kcn_members = ETH }
	add_to_array = { global.KCN_potential_kcn_members = ETS }
	add_to_array = { global.KCN_potential_kcn_members = FOP }
	add_to_array = { global.KCN_potential_kcn_members = GAB }
	add_to_array = { global.KCN_potential_kcn_members = GHA }
	add_to_array = { global.KCN_potential_kcn_members = GNA }
	add_to_array = { global.KCN_potential_kcn_members = GUA }
	add_to_array = { global.KCN_potential_kcn_members = GYA }
	add_to_array = { global.KCN_potential_kcn_members = HAI }
	add_to_array = { global.KCN_potential_kcn_members = HAW }
	add_to_array = { global.KCN_potential_kcn_members = HEJ }
	add_to_array = { global.KCN_potential_kcn_members = HON }
	add_to_array = { global.KCN_potential_kcn_members = INC }
	add_to_array = { global.KCN_potential_kcn_members = INS }
	add_to_array = { global.KCN_potential_kcn_members = IQR }
	add_to_array = { global.KCN_potential_kcn_members = IRQ }
	add_to_array = { global.KCN_potential_kcn_members = IVO }
	add_to_array = { global.KCN_potential_kcn_members = JAM }
	add_to_array = { global.KCN_potential_kcn_members = JBS }
	add_to_array = { global.KCN_potential_kcn_members = JOR }
	add_to_array = { global.KCN_potential_kcn_members = KAC }
	add_to_array = { global.KCN_potential_kcn_members = KBR }
	add_to_array = { global.KCN_potential_kcn_members = KIK }
	add_to_array = { global.KCN_potential_kcn_members = KIV }
	add_to_array = { global.KCN_potential_kcn_members = KOG }
	add_to_array = { global.KCN_potential_kcn_members = KOR }
	add_to_array = { global.KCN_potential_kcn_members = KUR }
	add_to_array = { global.KCN_potential_kcn_members = LAO }
	add_to_array = { global.KCN_potential_kcn_members = LBA }
	add_to_array = { global.KCN_potential_kcn_members = LEB }
	add_to_array = { global.KCN_potential_kcn_members = LIB }
	add_to_array = { global.KCN_potential_kcn_members = MAD }
	add_to_array = { global.KCN_potential_kcn_members = MAL }
	add_to_array = { global.KCN_potential_kcn_members = MEX }
	add_to_array = { global.KCN_potential_kcn_members = MLT }
	add_to_array = { global.KCN_potential_kcn_members = MLW }
	add_to_array = { global.KCN_potential_kcn_members = MLY }
	add_to_array = { global.KCN_potential_kcn_members = MRT }
	add_to_array = { global.KCN_potential_kcn_members = MOR }
	add_to_array = { global.KCN_potential_kcn_members = MYS }
	add_to_array = { global.KCN_potential_kcn_members = MZB }
	add_to_array = { global.KCN_potential_kcn_members = NEP }
	add_to_array = { global.KCN_potential_kcn_members = NER }
	add_to_array = { global.KCN_potential_kcn_members = NGR }
	add_to_array = { global.KCN_potential_kcn_members = NIC }
	add_to_array = { global.KCN_potential_kcn_members = NMB }
	add_to_array = { global.KCN_potential_kcn_members = NVN }
	add_to_array = { global.KCN_potential_kcn_members = OMA }
	add_to_array = { global.KCN_potential_kcn_members = PAL }
	add_to_array = { global.KCN_potential_kcn_members = PAN }
	add_to_array = { global.KCN_potential_kcn_members = PGI }
	add_to_array = { global.KCN_potential_kcn_members = PHI }
	add_to_array = { global.KCN_potential_kcn_members = PNG }
	add_to_array = { global.KCN_potential_kcn_members = PRI }
	add_to_array = { global.KCN_potential_kcn_members = QUE }
	add_to_array = { global.KCN_potential_kcn_members = RWA }
	add_to_array = { global.KCN_potential_kcn_members = SAF }
	add_to_array = { global.KCN_potential_kcn_members = SAR }
	add_to_array = { global.KCN_potential_kcn_members = SAU }
	add_to_array = { global.KCN_potential_kcn_members = SEN }
	add_to_array = { global.KCN_potential_kcn_members = SFR }
	add_to_array = { global.KCN_potential_kcn_members = SHA }
	add_to_array = { global.KCN_potential_kcn_members = SIA }
	add_to_array = { global.KCN_potential_kcn_members = SIE }
	add_to_array = { global.KCN_potential_kcn_members = SIR }
	add_to_array = { global.KCN_potential_kcn_members = SKM }
	add_to_array = { global.KCN_potential_kcn_members = SOM }
	add_to_array = { global.KCN_potential_kcn_members = SUD }
	add_to_array = { global.KCN_potential_kcn_members = SUR }
	add_to_array = { global.KCN_potential_kcn_members = SYR }
	add_to_array = { global.KCN_potential_kcn_members = TIB }
	add_to_array = { global.KCN_potential_kcn_members = TKE }
	add_to_array = { global.KCN_potential_kcn_members = TRI }
	add_to_array = { global.KCN_potential_kcn_members = TRU }
	add_to_array = { global.KCN_potential_kcn_members = TRV }
	add_to_array = { global.KCN_potential_kcn_members = TRP }
	add_to_array = { global.KCN_potential_kcn_members = TUA }
	add_to_array = { global.KCN_potential_kcn_members = TUN }
	add_to_array = { global.KCN_potential_kcn_members = TZN }
	add_to_array = { global.KCN_potential_kcn_members = UGA }
	add_to_array = { global.KCN_potential_kcn_members = URG }
	add_to_array = { global.KCN_potential_kcn_members = VIN }
	add_to_array = { global.KCN_potential_kcn_members = WAB }
	add_to_array = { global.KCN_potential_kcn_members = WAD }
	add_to_array = { global.KCN_potential_kcn_members = YEM }
	add_to_array = { global.KCN_potential_kcn_members = YUC }
	add_to_array = { global.KCN_potential_kcn_members = ZZB }
}
UKR_setup_petliura_melnyk_diarchy = {
	set_country_flag = UKR_petliura_melnyk
	clr_country_flag = UKR_petliura_shumskyi
	clr_country_flag = UKR_petliura_national_union
	set_variable = { UKR_usdrp_pm_authority = party_popularity@social_democrat }
	multiply_variable = { UKR_usdrp_pm_authority = 100 }
	subtract_from_variable = { UKR_usdrp_pm_authority = UKR_petliura_authority }
	
	set_variable = { UKR_petliura_pm_authority = party_popularity@social_democrat }
	multiply_variable = { UKR_petliura_pm_authority = 100 }
	add_to_variable = { UKR_petliura_pm_authority = UKR_petliura_authority }
	
	set_variable = { UKR_melnyk_pm_authority = 100 }
	subtract_from_variable = { UKR_melnyk_pm_authority = UKR_usdrp_pm_authority }
	subtract_from_variable = { UKR_melnyk_pm_authority = UKR_petliura_pm_authority }
	
	set_variable = { UKR_petliura_stability = 0 }
	set_variable = { UKR_petliura_pp = 0 }
	set_variable = { UKR_melnyk_war_support = 0 }
	set_variable = { UKR_melnyk_army_org = 0 }
	
	set_variable = { UKR_melnyk_resistance_timeout = 60 }
	
	add_dynamic_modifier = {
		modifier = UKR_melnyk_modifier
	}
	add_dynamic_modifier = {
		modifier = UKR_petliura_modifier
	}
	
	UKR_create_petliura_progress_bar = yes
	UKR_update_petliura_progress_bar = yes	
	
	activate_mission = UKR_petliura_resistance_mission_melnyk
	activate_mission = UKR_melnyk_resistance_mission
	activate_mission = UKR_usdrp_resistance_mission
}
UKR_setup_petliura_shumskyi_duumvirat = {
	set_country_flag = UKR_petliura_shumskyi
	clr_country_flag = UKR_petliura_national_union
	clr_country_flag = UKR_petliura_melnyk
	set_variable = { UKR_petliura_pm_authority = 55 }
	set_variable = { UKR_shumskyi_authority = 45 }
	set_variable = { UKR_Calm_The_Borotbysts_amount_var = 0 } #how many times you took UKR_Calm_The_Borotbysts focus
		
	set_variable = { UKR_petliura_stability = 0 }
	set_variable = { UKR_petliura_pp = 0 }
	set_variable = { UKR_petliura_war_support = 0 }
	set_variable = { UKR_shumskyi_max_efficency = 0 }
	set_variable = { UKR_shumskyi_factory_efficiency = 0 }
	
	add_dynamic_modifier = {
		modifier = UKR_shumskyi_modifier
	}
	add_dynamic_modifier = {
		modifier = UKR_petliura_modifier
	}
	add_ideas = UKR_duumvirat_idea
	UKR_create_petliura_progress_bar = yes
	UKR_update_petliura_progress_bar = yes	
	
	activate_mission = UKR_petliura_resistance_mission
	activate_mission = UKR_shumskyi_resistance_mission
}
UKR_setup_petliura_national_union = {
	set_country_flag = UKR_petliura_national_union
	clr_country_flag = UKR_petliura_shumskyi
	clr_country_flag = UKR_petliura_melnyk
	set_variable = { UKR_uns_left_authority = party_popularity@social_democrat }
	add_to_variable = { UKR_uns_left_authority = party_popularity@radical_socialist }
	add_to_variable = { UKR_uns_left_authority = party_popularity@totalist }
	multiply_variable = { UKR_uns_left_authority = 100 }
	add_to_variable = { UKR_uns_left_authority = UKR_petliura_authority }
	
	set_variable = { UKR_uns_right_authority = 100 }
	subtract_from_variable = { UKR_uns_right_authority = UKR_uns_left_authority }
		
	UKR_create_petliura_progress_bar = yes
	UKR_update_petliura_progress_bar = yes	
}
UKR_increase_duumvirate_ideas = {
	if = {
		limit = { has_idea = UKR_duumvirat_idea_7 }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea_7
			add_idea = UKR_duumvirat_idea_8
		}
	}
	else_if = {
		limit = { has_idea = UKR_duumvirat_idea_6 }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea_6
			add_idea = UKR_duumvirat_idea_7
		}
	}
	else_if = {
		limit = { has_idea = UKR_duumvirat_idea_5 }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea_5
			add_idea = UKR_duumvirat_idea_6
		}
	}
	else_if = {
		limit = { has_idea = UKR_duumvirat_idea_4 }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea_4
			add_idea = UKR_duumvirat_idea_5
		}
	}
	else_if = {
		limit = { has_idea = UKR_duumvirat_idea_3 }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea_3
			add_idea = UKR_duumvirat_idea_4
		}
	}
	else_if = {
		limit = { has_idea = UKR_duumvirat_idea_2 }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea_2
			add_idea = UKR_duumvirat_idea_3
		}
	}
	else_if = {
		limit = { has_idea = UKR_duumvirat_idea_1 }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea_1
			add_idea = UKR_duumvirat_idea_2
		}
	}
	else_if = {
		limit = { has_idea = UKR_duumvirat_idea }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea
			add_idea = UKR_duumvirat_idea_1
		}
	}
}
UKR_decrease_duumvirate_ideas = {
	if = {
		limit = { has_idea = UKR_duumvirat_idea_8 }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea_8
			add_idea = UKR_duumvirat_idea_7
		}
	}
	else_if = {
		limit = { has_idea = UKR_duumvirat_idea_7 }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea_7
			add_idea = UKR_duumvirat_idea_6
		}
	}
	else_if = {
		limit = { has_idea = UKR_duumvirat_idea_6 }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea_6
			add_idea = UKR_duumvirat_idea_5
		}
	}
	else_if = {
		limit = { has_idea = UKR_duumvirat_idea_5 }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea_5
			add_idea = UKR_duumvirat_idea_4
		}
	}
	else_if = {
		limit = { has_idea = UKR_duumvirat_idea_4 }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea_4
			add_idea = UKR_duumvirat_idea_3
		}
	}
	else_if = {
		limit = { has_idea = UKR_duumvirat_idea_3 }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea_3
			add_idea = UKR_duumvirat_idea_2
		}
	}
	else_if = {
		limit = { has_idea = UKR_duumvirat_idea_2 }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea_2
			add_idea = UKR_duumvirat_idea_1
		}
	}
	else_if = {
		limit = { has_idea = UKR_duumvirat_idea_1 }
		swap_ideas = {
			remove_idea = UKR_duumvirat_idea_1
			add_idea = UKR_duumvirat_idea
		}
	}
}
UKR_increase_petliura_influence = {
	if = {
		limit = { 
			OR = {
				has_country_flag = UKR_petliura_influence_blocked 
				AND = {
					is_ai = yes
					has_game_rule = { rule = UKR_PEOPLES_REPUBLIC option = UKR_FUTURE_PETLIURA_SHUMSKYI }
				}
			}
		}
		custom_effect_tooltip = UKR_cannot_change_petliura_influence
		if = {
			limit = { has_country_flag = UKR_petliura_shumskyi }
			UKR_decrease_duumvirate_ideas = yes
		}
	}
	else = {
		custom_effect_tooltip = UKR_increase_petliura_influence
		hidden_effect = {
			if = {
				limit = { has_country_flag = UKR_petliura_melnyk }
				random_list = {
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = 10 }
						add_to_variable = { UKR_melnyk_pm_authority = -5 }
						add_to_variable = { UKR_usdrp_pm_authority = -5 }					
						add_popularity = {
							ideology = social_democrat
							popularity = 0.01
						}
					}
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = 12 }
						add_to_variable = { UKR_melnyk_pm_authority = -6 }	
						add_to_variable = { UKR_usdrp_pm_authority = -6 }					
						add_popularity = {
							ideology = social_democrat
							popularity = 0.02
						}
					}
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = 15 }
						add_to_variable = { UKR_melnyk_pm_authority = -7 }	
						add_to_variable = { UKR_usdrp_pm_authority = -8 }					
						add_popularity = {
							ideology = social_democrat
							popularity = 0.03
						}
					}
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = 17 }
						add_to_variable = { UKR_melnyk_pm_authority = -8 }					
						add_to_variable = { UKR_usdrp_pm_authority = -9 }					
						add_popularity = {
							ideology = social_democrat
							popularity = 0.04
						}
					}
				}			
			}
			else = {
				random_list = {
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = 10 }
						add_to_variable = { UKR_shumskyi_authority = -10 }					
						add_popularity = {
							ideology = social_democrat
							popularity = 0.01
						}
					}
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = 12 }
						add_to_variable = { UKR_shumskyi_authority = -12 }					
						add_popularity = {
							ideology = social_democrat
							popularity = 0.02
						}
					}
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = 15 }
						add_to_variable = { UKR_shumskyi_authority = -15 }					
						add_popularity = {
							ideology = social_democrat
							popularity = 0.03
						}
					}
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = 17 }
						add_to_variable = { UKR_shumskyi_authority = -17 }					
						add_popularity = {
							ideology = social_democrat
							popularity = 0.04
						}
					}
				}
				UKR_recheck_duumvirate_and_collapse_if_yes = yes
			}
			UKR_update_petliura_progress_bar = yes
		}
	}
}
UKR_decrease_petliura_influence = {
	if = {
		limit = { 
			OR = {
				has_country_flag = UKR_petliura_influence_blocked 
				AND = {
					is_ai = yes
					has_game_rule = { rule = UKR_PEOPLES_REPUBLIC option = UKR_FUTURE_PETLIURA_SHUMSKYI }
				}
			}
		}
		custom_effect_tooltip = UKR_cannot_change_petliura_influence
		if = {
			limit = { has_country_flag = UKR_petliura_shumskyi }
			UKR_increase_duumvirate_ideas = yes
		}
	}
	else = {
		custom_effect_tooltip = UKR_decrease_petliura_influence
		hidden_effect = {
			if = {
				limit = { has_country_flag = UKR_petliura_melnyk }
				random_list = {
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = -10 }
						add_to_variable = { UKR_melnyk_pm_authority = 10 }					
						add_popularity = {
							ideology = social_democrat
							popularity = -0.01
						}
					}
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = -12 }
						add_to_variable = { UKR_melnyk_pm_authority = 12 }					
						add_popularity = {
							ideology = social_democrat
							popularity = -0.02
						}
					}
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = -15 }
						add_to_variable = { UKR_melnyk_pm_authority = 15 }					
						add_popularity = {
							ideology = social_democrat
							popularity = -0.03
						}
					}
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = -17 }
						add_to_variable = { UKR_melnyk_pm_authority = 17 }					
						add_popularity = {
							ideology = social_democrat
							popularity = -0.04
						}
					}
				}	
			}
			else = {
				UKR_decrease_duumvirate_ideas = yes
				random_list = {
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = -10 }
						add_to_variable = { UKR_shumskyi_authority = 10 }					
						add_popularity = {
							ideology = social_democrat
							popularity = -0.01
						}
					}
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = -12 }
						add_to_variable = { UKR_shumskyi_authority = 12 }					
						add_popularity = {
							ideology = social_democrat
							popularity = -0.02
						}
					}
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = -15 }
						add_to_variable = { UKR_shumskyi_authority = 15 }					
						add_popularity = {
							ideology = social_democrat
							popularity = -0.03
						}
					}
					25 = {
						add_to_variable = { UKR_petliura_pm_authority = -17 }
						add_to_variable = { UKR_shumskyi_authority = 17 }					
						add_popularity = {
							ideology = social_democrat
							popularity = -0.04
						}
					}
				}
				UKR_recheck_duumvirate_and_collapse_if_yes = yes
			}
			UKR_update_petliura_progress_bar = yes
		}
	}
}
UKR_increase_melnyk_influence = {
	custom_effect_tooltip = UKR_increase_melnyk_influence
	hidden_effect = {
		random_list = {
			25 = {
				add_to_variable = { UKR_melnyk_pm_authority = 10 }
				add_to_variable = { UKR_petliura_pm_authority = -5 }					
				add_to_variable = { UKR_usdrp_pm_authority = -5 }					
				add_popularity = {
					ideology = paternal_autocrat
					popularity = 0.01
				}
			}
			25 = {
				add_to_variable = { UKR_melnyk_pm_authority = 12 }
				add_to_variable = { UKR_petliura_pm_authority = -6 }					
				add_to_variable = { UKR_usdrp_pm_authority = -6 }					
				add_popularity = {
					ideology = paternal_autocrat
					popularity = 0.02
				}
				add_popularity = {
					ideology = national_populist
					popularity = 0.01
				}
			}
			25 = {
				add_to_variable = { UKR_melnyk_pm_authority = 15 }
				add_to_variable = { UKR_petliura_pm_authority = -7 }					
				add_to_variable = { UKR_usdrp_pm_authority = -8 }					
				add_popularity = {
					ideology = paternal_autocrat
					popularity = 0.03
				}
				add_popularity = {
					ideology = national_populist
					popularity = 0.02
				}
			}
			25 = {
				add_to_variable = { UKR_melnyk_pm_authority = 17 }
				add_to_variable = { UKR_petliura_pm_authority = -8 }					
				add_to_variable = { UKR_usdrp_pm_authority = -9 }					
				add_popularity = {
					ideology = paternal_autocrat
					popularity = 0.04
				}
				add_popularity = {
					ideology = national_populist
					popularity = 0.03
				}
			}
		}	
		UKR_update_petliura_progress_bar = yes
	}
}
UKR_decrease_melnyk_influence = {
	custom_effect_tooltip = UKR_decrease_melnyk_influence
	hidden_effect = {
		random_list = {
			25 = {
				add_to_variable = { UKR_melnyk_pm_authority = -10 }
				add_to_variable = { UKR_petliura_pm_authority = 10 }					
				add_popularity = {
					ideology = paternal_autocrat
					popularity = -0.01
				}
			}
			25 = {
				add_to_variable = { UKR_melnyk_pm_authority = -12 }
				add_to_variable = { UKR_petliura_pm_authority = 12 }					
				add_popularity = {
					ideology = paternal_autocrat
					popularity = -0.02
				}
				add_popularity = {
					ideology = national_populist
					popularity = -0.01
				}
			}
			25 = {
				add_to_variable = { UKR_melnyk_pm_authority = -15 }
				add_to_variable = { UKR_petliura_pm_authority = 15 }					
				add_popularity = {
					ideology = paternal_autocrat
					popularity = -0.03
				}
				add_popularity = {
					ideology = national_populist
					popularity = -0.02
				}
			}
			25 = {
				add_to_variable = { UKR_melnyk_pm_authority = -17 }
				add_to_variable = { UKR_petliura_pm_authority = 17 }					
				add_popularity = {
					ideology = paternal_autocrat
					popularity = -0.04
				}
				add_popularity = {
					ideology = national_populist
					popularity = -0.03
				}
			}
		}	
		UKR_update_petliura_progress_bar = yes
	}
}
UKR_increase_shumskyi_influence = {
	if = {
		limit = { 
			OR = {
				has_country_flag = UKR_shumskyi_influence_blocked 
				AND = {
					is_ai = yes
					has_game_rule = { rule = UKR_PEOPLES_REPUBLIC option = UKR_FUTURE_PETLIURA_SHUMSKYI }
				}
			}
		}
		custom_effect_tooltip = UKR_cannot_change_shumskyi_influence
		UKR_increase_duumvirate_ideas = yes
	}
	else = {
		custom_effect_tooltip = UKR_increase_shumskyi_influence
		hidden_effect = {
			random_list = {
				25 = {
					add_to_variable = { UKR_petliura_pm_authority = -6 }
					add_to_variable = { UKR_shumskyi_authority = 6 }					
					add_popularity = {
						ideology = syndicalist
						popularity = 0.01
					}
				}
				25 = {
					add_to_variable = { UKR_petliura_pm_authority = -8 }
					add_to_variable = { UKR_shumskyi_authority = 8 }					
					add_popularity = {
						ideology = syndicalist
						popularity = 0.02
					}
				}
				25 = {
					add_to_variable = { UKR_petliura_pm_authority = -10 }
					add_to_variable = { UKR_shumskyi_authority = 10 }					
					add_popularity = {
						ideology = syndicalist
						popularity = 0.03
					}
				}
				25 = {
					add_to_variable = { UKR_petliura_pm_authority = -12 }
					add_to_variable = { UKR_shumskyi_authority = 12 }					
					add_popularity = {
						ideology = syndicalist
						popularity = 0.04
					}
				}
			}	
			UKR_update_petliura_progress_bar = yes
		}
		UKR_increase_duumvirate_ideas = yes
		UKR_recheck_duumvirate_and_collapse_if_yes = yes
	}
}
UKR_decrease_shumskyi_influence = {
	if = {
		limit = { 
			OR = {
				has_country_flag = UKR_shumskyi_influence_blocked
				AND = {
					is_ai = yes
					has_game_rule = { rule = UKR_PEOPLES_REPUBLIC option = UKR_FUTURE_PETLIURA_SHUMSKYI }
				}
			}
		}
		custom_effect_tooltip = UKR_cannot_change_shumskyi_influence
		UKR_decrease_duumvirate_ideas = yes
	}
	else = {
		custom_effect_tooltip = UKR_decrease_shumskyi_influence
		hidden_effect = {
			random_list = {
				25 = {
					add_to_variable = { UKR_petliura_pm_authority = 6 }
					add_to_variable = { UKR_shumskyi_authority = -6 }					
					add_popularity = {
						ideology = syndicalist
						popularity = -0.01
					}
				}
				25 = {
					add_to_variable = { UKR_petliura_pm_authority = 8 }
					add_to_variable = { UKR_shumskyi_authority = -8 }					
					add_popularity = {
						ideology = syndicalist
						popularity = -0.02
					}
				}
				25 = {
					add_to_variable = { UKR_petliura_pm_authority = 10 }
					add_to_variable = { UKR_shumskyi_authority = -10 }					
					add_popularity = {
						ideology = syndicalist
						popularity = -0.03
					}
				}
				25 = {
					add_to_variable = { UKR_petliura_pm_authority = 12 }
					add_to_variable = { UKR_shumskyi_authority = -12 }					
					add_popularity = {
						ideology = syndicalist
						popularity = -0.04
					}
				}
			}	
			UKR_update_petliura_progress_bar = yes
		}
		UKR_decrease_duumvirate_ideas = yes
		UKR_recheck_duumvirate_and_collapse_if_yes = yes
	}
}
UKR_recheck_duumvirate_and_collapse_if_yes = {
	if = {
		limit = {
			OR = {
				check_variable = { UKR_petliura_pm_authority > 70 }
				check_variable = { UKR_shumskyi_authority > 70 }
				AND = {
					is_ai = yes
					has_game_rule = { rule = UKR_PEOPLES_REPUBLIC option = UKR_FUTURE_PETLIURA_FAILED_STATE }
					OR = {
						has_completed_focus = UKR_Two_Great_Revolutionaries
						has_completed_focus = UKR_Time_Of_Compromises
					}
				}
			}			
		}
		UKR_collapse_duumvirate = yes
	}
}
UKR_collapse_duumvirate = {
	set_country_flag = UKR_duumvirate_colapsed
	if = {
		limit = {
			NOT = { 
				OR = {
					has_completed_focus = UKR_Two_Great_Revolutionaries
					has_completed_focus = UKR_Time_Of_Compromises
				}
			}
		}		
		unlock_national_focus = UKR_Borotbyst_Petliura_Withstand
		unlock_national_focus = UKR_Meet_Shumskyi_Petliura
		unlock_national_focus = UKR_Call_Tiutiunnyk
		complete_national_focus = UKR_The_Great_Tragedy
	}
	else_if = {
		limit = {
			OR = {
				has_completed_focus = UKR_Two_Great_Revolutionaries
				has_completed_focus = UKR_Time_Of_Compromises
			}
			NOT = { has_completed_focus = UKR_Vague_Balance_Holds }
		}				
		unlock_national_focus = UKR_Committees_Ukrainisation
		unlock_national_focus = UKR_Land_Reform
		unlock_national_focus = UKR_Socialization_Of_Factories
		complete_national_focus = UKR_Duumvirate_Breaks			
	}			
	clr_country_flag = UKR_petliura_shumskyi		
	clr_country_flag = UKR_petliura_shumskyi_success
	if = {
		limit = { is_in_faction_with = USR }
		dismantle_faction = yes
	}
	if = {
		limit = {
			has_guaranteed = USR
		}
		USR = {
			diplomatic_relation = {
				country = ROOT
				relation = guarantee
				active = no
			}
		}
	}
	if = {
		limit = {
			USR = { has_guaranteed = ROOT }
		}
		ROOT = {
			diplomatic_relation = {
				country = USR
				relation = guarantee
				active = no
			}
		}
	}
	if = {
		limit = { has_non_aggression_pact_with = USR }
		diplomatic_relation = {
			country = USR
			relation = military_access
			active = no
		}
	}
	if = {
		limit = { has_military_access_to = USR }
		diplomatic_relation = {
			country = USR
			relation = military_access
			active = no
		}
	}
	if = {
		limit = { 
			USR = { has_military_access_to = ROOT }
		}
		USR = {
			diplomatic_relation = {
				country = ROOT
				relation = military_access
				active = no
			}
		}
	}
	declare_war_on = {
		target = USR
		type = civil_war
	}
	hidden_effect = {
		GER = {
			country_event = {
				id = ukrfor.252
				days = 2
				random_days = 5
			}
		}
		RUS = {
			country_event = {
				id = ukrfor.252
				days = 3
				random_days = 4
			}
		}
	}
}
UKR_increase_left_uns_influence = {
	custom_effect_tooltip = UKR_increase_left_uns_influence
	hidden_effect = {
		random_list = {
			25 = {
				add_to_variable = { UKR_uns_left_authority = 10 }
				add_to_variable = { UKR_uns_right_authority = -10 }					
				add_popularity = {
					ideology = social_democrat
					popularity = 0.01
				}
			}
			25 = {
				add_to_variable = { UKR_uns_left_authority = 12 }
				add_to_variable = { UKR_uns_right_authority = -12 }					
				add_popularity = {
					ideology = social_democrat
					popularity = 0.02
				}
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.01
				}
			}
			25 = {
				add_to_variable = { UKR_uns_left_authority = 15 }
				add_to_variable = { UKR_uns_right_authority = -15 }					
				add_popularity = {
					ideology = social_democrat
					popularity = 0.03
				}
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.02
				}
			}
			25 = {
				add_to_variable = { UKR_uns_left_authority = 17 }
				add_to_variable = { UKR_uns_right_authority = -17 }					
				add_popularity = {
					ideology = social_democrat
					popularity = 0.04
				}
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.03
				}
			}
		}	
		UKR_update_petliura_progress_bar = yes
	}
	if = {
		limit = {
			has_completed_focus = UKR_Apolitical_Army
			has_completed_focus = UKR_Moderate_Taxation
		}
		if = {
			limit = {
				is_ai = yes
				has_game_rule = { rule = UKR_PEOPLES_REPUBLIC option = UKR_FUTURE_PETLIURA }
			}
			complete_national_focus = UKR_National_Union_Holds
			add_stability = 0.1
			increase_ruling_party_popularity_by_10 = yes
		}
		else_if = {
			limit = {
				OR = {
					check_variable = { UKR_uns_right_authority > 65 }
					AND = {
						is_ai = yes
						has_game_rule = { rule = UKR_PEOPLES_REPUBLIC option = UKR_FUTURE_PETLIURA_FAILS_USDRP }
					}
				}
			}
			complete_national_focus = UKR_Left_Wing_Splits
			add_stability = -0.1
			set_variable = { coalition_partner_var = token:social_liberal }
			remove_from_coalition = yes
			set_variable = { coalition_partner_var = token:market_liberal }
			remove_from_coalition = yes
			remove_all_ministers_but_hog = yes
			add_ideas = {
				UKR_Dmytro_Isaievych_for_sde
				UKR_Mykola_Porsh_eco_sde
				UKR_Isaak_Mazepa_sec_sde
			}
		}
		else_if = {
			limit = {
				OR = {
					check_variable = { UKR_uns_left_authority > 65 }
					AND = {
						is_ai = yes
						has_game_rule = { rule = UKR_PEOPLES_REPUBLIC option = UKR_FUTURE_PETLIURA_FAILS_UPSF }
					}
				}
			}
			complete_national_focus = UKR_Right_Wing_Splits
			add_stability = -0.1
			set_variable = { coalition_partner_var = token:radical_socialist }
			remove_from_coalition = yes
			set_variable = { coalition_partner_var = token:social_democrat}
			remove_from_coalition = yes
			remove_all_ministers_but_hog = yes
			add_ideas = {
				UKR_Alexander_Shulgin_for_sli
				UKR_Mykhailo_Korchinskyi_eco_sli
				UKR_Oleksandr_Lototskyi_sec_sli
			}
		}
		else = {
			complete_national_focus = UKR_National_Union_Holds
			add_stability = 0.1
			increase_ruling_party_popularity_by_10 = yes
		}
	}
}
UKR_increase_right_uns_influence = {
	custom_effect_tooltip = UKR_increase_right_uns_influence
	hidden_effect = {
		random_list = {
			25 = {
				add_to_variable = { UKR_uns_left_authority = -10 }
				add_to_variable = { UKR_uns_right_authority = 10 }					
				add_popularity = {
					ideology = social_liberal
					popularity = 0.01
				}
			}
			25 = {
				add_to_variable = { UKR_uns_left_authority = -12 }
				add_to_variable = { UKR_uns_right_authority = 12 }					
				add_popularity = {
					ideology = social_liberal
					popularity = 0.02
				}
				add_popularity = {
					ideology = market_liberal
					popularity = 0.01
				}
			}
			25 = {
				add_to_variable = { UKR_uns_left_authority = -15 }
				add_to_variable = { UKR_uns_right_authority = 15 }					
				add_popularity = {
					ideology = social_liberal
					popularity = 0.03
				}
				add_popularity = {
					ideology = market_liberal
					popularity = 0.02
				}
			}
			25 = {
				add_to_variable = { UKR_uns_left_authority = -17 }
				add_to_variable = { UKR_uns_right_authority = 17 }					
				add_popularity = {
					ideology = social_liberal
					popularity = 0.04
				}
				add_popularity = {
					ideology = market_liberal
					popularity = 0.02
				}
			}
		}	
		UKR_update_petliura_progress_bar = yes		
	}
	if = {
		limit = {
			has_completed_focus = UKR_Apolitical_Army
			has_completed_focus = UKR_Moderate_Taxation
		}
		if = {
			limit = {
				is_ai = yes
				has_game_rule = { rule = UKR_PEOPLES_REPUBLIC option = UKR_FUTURE_PETLIURA }
			}
			complete_national_focus = UKR_National_Union_Holds
			add_stability = 0.1
			increase_ruling_party_popularity_by_10 = yes
		}
		else_if = {
			limit = {
				OR = {
					check_variable = { UKR_uns_right_authority > 65 }
					AND = {
						is_ai = yes
						has_game_rule = { rule = UKR_PEOPLES_REPUBLIC option = UKR_FUTURE_PETLIURA_FAILS_USDRP }
					}
				}
			}
			complete_national_focus = UKR_Left_Wing_Splits
			add_stability = -0.1
			set_variable = { coalition_partner_var = token:social_liberal }
			remove_from_coalition = yes
			set_variable = { coalition_partner_var = token:market_liberal }
			remove_from_coalition = yes
			remove_all_ministers_but_hog = yes
			add_ideas = {
				UKR_Dmytro_Isaievych_for_sde
				UKR_Mykola_Porsh_eco_sde
				UKR_Isaak_Mazepa_sec_sde
			}
		}
		else_if = {
			limit = {
				OR = {
					check_variable = { UKR_uns_left_authority > 65 }
					AND = {
						is_ai = yes
						has_game_rule = { rule = UKR_PEOPLES_REPUBLIC option = UKR_FUTURE_PETLIURA_FAILS_UPSF }
					}
				}
			}
			complete_national_focus = UKR_Right_Wing_Splits
			add_stability = -0.1
			set_variable = { coalition_partner_var = token:radical_socialist }
			remove_from_coalition = yes
			set_variable = { coalition_partner_var = token:social_democrat}
			remove_from_coalition = yes
			remove_all_ministers_but_hog = yes
			add_ideas = {
				UKR_Alexander_Shulgin_for_sli
				UKR_Mykhailo_Korchinskyi_eco_sli
				UKR_Oleksandr_Lototskyi_sec_sli
			}
		}
		else = {
			complete_national_focus = UKR_National_Union_Holds
			add_stability = 0.1
			increase_ruling_party_popularity_by_10 = yes
		}
	}
}
UKR_increase_usdrp_influence = {
	custom_effect_tooltip = UKR_increase_usdrp_influence
	hidden_effect = {
		random_list = {
			25 = {
				add_to_variable = { UKR_usdrp_pm_authority = 6 }
				add_to_variable = { UKR_melnyk_pm_authority = -3 }
				add_to_variable = { UKR_petliura_pm_authority = -3 }					
				add_popularity = {
					ideology = social_democrat
					popularity = 0.02
				}
			}
			25 = {
				add_to_variable = { UKR_usdrp_pm_authority = 8 }
				add_to_variable = { UKR_melnyk_pm_authority = -4 }
				add_to_variable = { UKR_petliura_pm_authority = -4 }					
				add_popularity = {
					ideology = social_democrat
					popularity = 0.03
				}
			}
			25 = {
				add_to_variable = { UKR_usdrp_pm_authority = 10 }
				add_to_variable = { UKR_melnyk_pm_authority = -5 }
				add_to_variable = { UKR_petliura_pm_authority = -5 }					
				add_popularity = {
					ideology = social_democrat
					popularity = 0.04
				}
			}
			25 = {
				add_to_variable = { UKR_usdrp_pm_authority = 12 }
				add_to_variable = { UKR_melnyk_pm_authority = -6 }
				add_to_variable = { UKR_petliura_pm_authority = -6 }					
				add_popularity = {
					ideology = social_democrat
					popularity = 0.05
				}
			}
		}	
		UKR_update_petliura_progress_bar = yes
	}
}
UKR_decrease_usdrp_influence = {
	custom_effect_tooltip = UKR_decrease_usdrp_influence
	hidden_effect = {
		random_list = {
			25 = {
				add_to_variable = { UKR_usdrp_pm_authority = -10 }
				add_to_variable = { UKR_melnyk_pm_authority = 5 }
				add_to_variable = { UKR_petliura_pm_authority = 5 }					
				add_popularity = {
					ideology = social_democrat
					popularity = -0.02
				}
			}
			25 = {
				add_to_variable = { UKR_usdrp_pm_authority = -12 }
				add_to_variable = { UKR_melnyk_pm_authority = 6 }
				add_to_variable = { UKR_petliura_pm_authority = 6 }					
				add_popularity = {
					ideology = social_democrat
					popularity = -0.03
				}
			}
			25 = {
				add_to_variable = { UKR_usdrp_pm_authority = -14 }
				add_to_variable = { UKR_melnyk_pm_authority = 7 }
				add_to_variable = { UKR_petliura_pm_authority = 7 }					
				add_popularity = {
					ideology = social_democrat
					popularity = -0.04
				}
			}
			25 = {
				add_to_variable = { UKR_usdrp_pm_authority = -16 }
				add_to_variable = { UKR_melnyk_pm_authority = 8 }
				add_to_variable = { UKR_petliura_pm_authority = 8 }					
				add_popularity = {
					ideology = social_democrat
					popularity = -0.05
				}
			}
		}	
		UKR_update_petliura_progress_bar = yes
	}
}
UKR_setup_odesa = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = UKR
			
			save_global_event_target_as = UKR_odesa
			set_cosmetic_tag = ODS
			set_country_flag = KR_set_up_ai_templates
			set_country_flag = UKR_collapse_state			
			add_ideas = {
				UPR_no_diplomacy
				partial_economic_mobilisation
				extensive_conscription
			}
			set_stability = 0.5
			set_war_support = 0.5
			set_popularities = {
				totalist = 8
				radical_socialist = 13
				syndicalist = 5
				social_democrat = 11
				social_liberal = 32
				market_liberal = 31
				social_conservative = 0
				authoritarian_democrat = 0
				paternal_autocrat = 0
				national_populist = 0	
			}
			
			set_party_name = {
				ideology = totalist
				name = UKR_totalist_party
				long_name = UKR_totalist_party_long
			}
			set_party_name = {
				ideology = syndicalist
				name = UKR_syndicalist_party
				long_name = UKR_syndicalist_party_long
			}
			set_party_name = {
				ideology = radical_socialist
				name = ODS_radical_socialist_party
				long_name = ODS_radical_socialist_party_long
			}
			set_party_name = {
				ideology = social_democrat
				name = UKR_social_democrat_party4
				long_name = UKR_social_democrat_party4_long
			}
			set_party_name = {
				ideology = market_liberal
				name = ODS_market_liberal_party
				long_name = ODS_market_liberal_party_long
			}
			set_party_name = {
				ideology = social_liberal
				name = ODS_social_liberal_party
				long_name = ODS_social_liberal_party_long
			}
			set_party_name = {
				ideology = social_conservative
				name = UKR_social_conservative_party
				long_name = UKR_social_conservative_party_long
			}
			set_party_name = {
				ideology = authoritarian_democrat
				name = UKR_authoritarian_democrat_party
				long_name = UKR_authoritarian_democrat_party_long
			}
			set_party_name = {
				ideology = paternal_autocrat
				name = UKR_paternal_autocrat_party2
				long_name = UKR_paternal_autocrat_party2_long
			}
			set_party_name = {
				ideology = national_populist
				name = UKR_national_populist_party
				long_name = UKR_national_populist_party_long
			}

			every_state = {
				limit = {
					is_core_of = event_target:UKR_odesa
				}
				remove_core_of = event_target:UKR_odesa
			}
			add_ai_strategy = {
				type = contain
				id = "UKR"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "UKR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "UKR"
				value = 200
			}
			add_ai_strategy = { # dont burn PP on admirals (can still get free ones)
				type = pp_spend_priority
				id = admiral
				value = -1000
			}
			division_template = {
				name = "Pikhotna Dyviziia"
				division_names_group = UKR_INF_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
				}
				support = {
					artillery = { x = 0 y = 0 }
				}
			}

			division_template = {
				name = "Motostrilets'ka Dyviziia"
				division_names_group = UKR_MOT_01
				regiments = {
					motorized = { x = 0 y = 0 }
					motorized = { x = 0 y = 1 }
					motorized = { x = 0 y = 2 }
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }
					light_armor = { x = 2 y = 0 }
				}
				support = {
					engineer = { x = 0 y = 0 }
				}
			}

			division_template = {
				name = "Kinnyi Dyvizion"
				division_names_group = UKR_CAV_01
				regiments = {
					cavalry = { x = 0 y = 0 }
					cavalry = { x = 0 y = 1 }
					cavalry = { x = 0 y = 2 }
					cavalry = { x = 1 y = 0 }
					cavalry = { x = 1 y = 1 }
					cavalry = { x = 1 y = 2 }
				}
				support = {
					recon = { x = 0 y = 0 }
				}
			}
			create_country_leader = {
				name = "Ostap Bender"
				desc = "POLITICS_OSTAP_BENDER_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Ostap_Bender.png"
				expire = "1965.1.1"
				ideology = ancap_subtype
				traits = { ODS_great_combinator }
			}			
		}
	}
	event_target:UKR_odesa = {
		set_capital = { state = 192 }
		add_state_core = 192
		add_state_core = 791
		transfer_state = 192			
		transfer_state = 791			
		set_politics = {
			ruling_party = social_liberal
			elections_allowed = no
		}
	}
}
UKR_setup_pereiaslav = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = UKR
			
			save_global_event_target_as = UKR_pereiaslav
			set_cosmetic_tag = PLV
			set_country_flag = KR_set_up_ai_templates
			set_country_flag = UKR_collapse_state			
			add_ideas = {
				UPR_no_diplomacy
				partial_economic_mobilisation
				extensive_conscription
			}
			set_stability = 0.4
			set_war_support = 0.6
			set_popularities = {
				totalist = 8
				radical_socialist = 53
				syndicalist = 25
				social_democrat = 11
				social_liberal = 3
				market_liberal = 0
				social_conservative = 0
				authoritarian_democrat = 0
				paternal_autocrat = 0
				national_populist = 0	
			}
			
			set_party_name = {
				ideology = totalist
				name = UKR_totalist_party
				long_name = UKR_totalist_party_long
			}
			set_party_name = {
				ideology = syndicalist
				name = UKR_syndicalist_party
				long_name = UKR_syndicalist_party_long
			}
			set_party_name = {
				ideology = radical_socialist
				name = PLV_radical_socialist_party
				long_name = PLV_radical_socialist_party_long
			}
			set_party_name = {
				ideology = social_democrat
				name = UKR_social_democrat_party4
				long_name = UKR_social_democrat_party4_long
			}
			set_party_name = {
				ideology = market_liberal
				name = UKR_market_liberal_party
				long_name = UKR_market_liberal_party_long
			}
			set_party_name = {
				ideology = social_liberal
				name = UKR_social_liberal_party2
				long_name = UKR_social_liberal_party2_long
			}
			set_party_name = {
				ideology = social_conservative
				name = UKR_social_conservative_party
				long_name = UKR_social_conservative_party_long
			}
			set_party_name = {
				ideology = authoritarian_democrat
				name = UKR_authoritarian_democrat_party
				long_name = UKR_authoritarian_democrat_party_long
			}
			set_party_name = {
				ideology = paternal_autocrat
				name = UKR_paternal_autocrat_party2
				long_name = UKR_paternal_autocrat_party2_long
			}
			set_party_name = {
				ideology = national_populist
				name = UKR_national_populist_party
				long_name = UKR_national_populist_party_long
			}

			every_state = {
				limit = {
					is_core_of = event_target:UKR_pereiaslav
				}
				remove_core_of = event_target:UKR_pereiaslav
				add_claim_by = event_target:UKR_pereiaslav
			}
			add_ai_strategy = {
				type = contain
				id = "UKR"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "UKR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "UKR"
				value = 200
			}
			add_ai_strategy = { # dont burn PP on admirals (can still get free ones)
				type = pp_spend_priority
				id = admiral
				value = -1000
			}
			division_template = {
				name = "Povstanska Dyviziia"
				division_names_group = UKR_INF_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
				}
				support = {
					artillery = { x = 0 y = 0 }
				}
			}

			division_template = {
				name = "Kinnyi Dyvizion"
				division_names_group = UKR_CAV_01
				regiments = {
					cavalry = { x = 0 y = 0 }
					cavalry = { x = 0 y = 1 }
					cavalry = { x = 0 y = 2 }
					cavalry = { x = 1 y = 0 }
					cavalry = { x = 1 y = 1 }
					cavalry = { x = 1 y = 2 }
				}
				support = {
					recon = { x = 0 y = 0 }
				}
			}	
			create_country_leader = {
				name = "Danylo Terpylo"
				desc = "POLITICS_DANYLO_TERPYLO_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Danylo_Terpylo.png"
				expire = "1965.1.1"
				ideology = radsoc_red_junta_subtype
			}			
		}
	}
	event_target:UKR_pereiaslav = {
		set_capital = { state = 1237 }
		add_state_core = 1237
		transfer_state = 1237
		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = no
		}
	}
	random_unit_leader = {
		limit = { has_id = 17936 }
		set_nationality = event_target:UKR_pereiaslav
	}
	USR = {
		random_unit_leader = {
			limit = { has_id = 17936 }
			set_nationality = event_target:UKR_pereiaslav
		}
	}
}
UKR_setup_poltava = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = UKR
			
			save_global_event_target_as = UKR_poltava
			set_cosmetic_tag = PLT
			set_country_flag = KR_set_up_ai_templates
			set_country_flag = UKR_collapse_state			
			add_ideas = {
				UPR_no_diplomacy
				partial_economic_mobilisation
				extensive_conscription
				UKR_khmel_host
			}
			set_stability = 0.3
			set_war_support = 0.65
			set_popularities = {
				totalist = 0
				radical_socialist = 13
				syndicalist = 0
				social_democrat = 0
				social_liberal = 0
				market_liberal = 0
				social_conservative = 3
				authoritarian_democrat = 19
				paternal_autocrat = 57
				national_populist = 8	
			}
			
			set_party_name = {
				ideology = totalist
				name = UKR_totalist_party
				long_name = UKR_totalist_party_long
			}
			set_party_name = {
				ideology = syndicalist
				name = UKR_syndicalist_party
				long_name = UKR_syndicalist_party_long
			}
			set_party_name = {
				ideology = radical_socialist
				name = UKR_radical_socialist_party
				long_name = UKR_radical_socialist_party_long
			}
			set_party_name = {
				ideology = social_democrat
				name = UKR_social_democrat_party4
				long_name = UKR_social_democrat_party4_long
			}
			set_party_name = {
				ideology = market_liberal
				name = UKR_market_liberal_party
				long_name = UKR_market_liberal_party_long
			}
			set_party_name = {
				ideology = social_liberal
				name = UKR_social_liberal_party
				long_name = UKR_social_liberal_party_long
			}
			set_party_name = {
				ideology = social_conservative
				name = UKR_social_conservative_party
				long_name = UKR_social_conservative_party_long
			}
			set_party_name = {
				ideology = authoritarian_democrat
				name = UKR_paternal_autocrat_party4
				long_name = UKR_paternal_autocrat_party4_long
			}
			set_party_name = {
				ideology = paternal_autocrat
				name = UKR_paternal_autocrat_party4
				long_name = UKR_paternal_autocrat_party4_long
			}
			set_party_name = {
				ideology = national_populist
				name = UKR_national_populist_party
				long_name = UKR_national_populist_party_long
			}

			every_state = {
				limit = {
					is_core_of = event_target:UKR_poltava
				}
				remove_core_of = event_target:UKR_poltava
				add_claim_by = event_target:UKR_poltava
			}
			add_ai_strategy = {
				type = contain
				id = "UKR"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "UKR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "UKR"
				value = 200
			}
			add_ai_strategy = { # dont burn PP on admirals (can still get free ones)
				type = pp_spend_priority
				id = admiral
				value = -1000
			}
			create_country_leader = {
				name = "Ivan Poltavets-Ostrianytsia"
				desc = "POLITICS_IVAN_POLTAVETS_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Ivan_Poltavets_Ostrianytsia.png"
				expire = "1965.1.1"
				ideology = authdem_cossack_subtype
			}
			create_country_leader = {
				name = "Ivan Poltavets-Ostrianytsia"
				desc = "POLITICS_IVAN_POLTAVETS_DESC"
				picture = "gfx/leaders/UKR/Portrait_UKR_Ivan_Poltavets_Ostrianytsia.png"
				expire = "1965.1.1"
				ideology = pataut_cossack_subtype
			}
			division_template = {
				name = "Kozatska Dyviziia"
				division_names_group = UKR_CAV_02
				regiments = {
					irregular_cavalry = { x = 0 y = 0 }
					irregular_cavalry = { x = 0 y = 1 }
					irregular_cavalry = { x = 0 y = 2 }
					irregular_cavalry = { x = 1 y = 0 }
					irregular_cavalry = { x = 1 y = 1 }
					irregular_cavalry = { x = 1 y = 2 }
				}
				support = {
					recon = { x = 0 y = 0 }
				}
			}
			set_cosmetic_tag = UKR_cossack_state			
		}
	}
	event_target:UKR_poltava = {
		set_capital = { state = 259 }
		add_state_core = 259
		add_state_core = 1243
		add_state_core = 225
		add_state_core = 1238
		transfer_state = 259
		transfer_state = 1243
		transfer_state = 225
		transfer_state = 1238
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Kozatska Dyviziia\" start_experience_factor = 0.5"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Kozatska Dyviziia\" start_experience_factor = 0.4"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Kozatska Dyviziia\" start_experience_factor = 0.2"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Kozatska Dyviziia\" start_experience_factor = 0.2"
				owner = PREV
			}
		}
	}
	hidden_effect = {
		XXA = {
			every_unit_leader = {
				limit = { 
					has_unit_leader_flag = UKR_hetman_loyalist 
					NOT = { has_id = 17909 }
				}
				set_nationality = event_target:UKR_poltava
			}
		}
	}
}
UKR_setup_starobilske = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = UKR
			
			save_global_event_target_as = UKR_starobilske
			set_cosmetic_tag = STB
			set_country_flag = KR_set_up_ai_templates
			set_country_flag = UKR_collapse_state			
			add_ideas = {
				UPR_no_diplomacy
				partial_economic_mobilisation
				extensive_conscription
			}
			set_stability = 0.35
			set_war_support = 0.55
			set_popularities = {
				totalist = 16
				radical_socialist = 43
				syndicalist = 15
				social_democrat = 12
				social_liberal = 0
				market_liberal = 0
				social_conservative = 0
				authoritarian_democrat = 0
				paternal_autocrat = 14
				national_populist = 0	
			}
			
			set_party_name = {
				ideology = totalist
				name = UKR_totalist_party
				long_name = UKR_totalist_party_long
			}
			set_party_name = {
				ideology = syndicalist
				name = UKR_syndicalist_party2
				long_name = UKR_syndicalist_party2_long
			}
			set_party_name = {
				ideology = radical_socialist
				name = STB_radical_socialist_party
				long_name = STB_radical_socialist_party_long
			}
			set_party_name = {
				ideology = social_democrat
				name = UKR_social_democrat_party4
				long_name = UKR_social_democrat_party4_long
			}
			set_party_name = {
				ideology = market_liberal
				name = UKR_market_liberal_party
				long_name = UKR_market_liberal_party_long
			}
			set_party_name = {
				ideology = social_liberal
				name = UKR_social_liberal_party
				long_name = UKR_social_liberal_party_long
			}
			set_party_name = {
				ideology = social_conservative
				name = UKR_social_conservative_party
				long_name = UKR_social_conservative_party_long
			}
			set_party_name = {
				ideology = authoritarian_democrat
				name = UKR_paternal_autocrat_party4
				long_name = UKR_paternal_autocrat_party4_long
			}
			set_party_name = {
				ideology = paternal_autocrat
				name = UKR_paternal_autocrat_party4
				long_name = UKR_paternal_autocrat_party4_long
			}
			set_party_name = {
				ideology = national_populist
				name = UKR_national_populist_party
				long_name = UKR_national_populist_party_long
			}

			every_state = {
				limit = {
					is_core_of = event_target:UKR_starobilske
				}
				remove_core_of = event_target:UKR_starobilske
				add_claim_by = event_target:UKR_starobilske
			}
			add_ai_strategy = {
				type = contain
				id = "UKR"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "UKR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "UKR"
				value = 200
			}
			add_ai_strategy = { # dont burn PP on admirals (can still get free ones)
				type = pp_spend_priority
				id = admiral
				value = -1000
			}
			create_country_leader = {
				name = "Vitaly Primakov"
				picture = "gfx/leaders/UKR/Portrait_UKR_Vitaly_Primakov.png"
				expire = "1965.1.1"
				ideology = radsoc_red_junta_subtype
			}		
			division_template = {
				name = "Kozatska Dyviziia"
				division_names_group = UKR_CAV_02
				regiments = {
					irregular_cavalry = { x = 0 y = 0 }
					irregular_cavalry = { x = 0 y = 1 }
					irregular_cavalry = { x = 0 y = 2 }
					irregular_cavalry = { x = 1 y = 0 }
					irregular_cavalry = { x = 1 y = 1 }
					irregular_cavalry = { x = 1 y = 2 }
				}
				support = {
					recon = { x = 0 y = 0 }
				}
			}				
		}
	}
	event_target:UKR_starobilske = {
		set_capital = { state = 1282 }
		add_state_core = 1285
		add_state_core = 1282
		transfer_state = 1285
		transfer_state = 1282
		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = no
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Kozatska Dyviziia\" start_experience_factor = 0.4"
				owner = PREV
				count = 2
			}
			create_unit = {
				division = "division_template = \"Kozatska Dyviziia\" start_experience_factor = 0.2"
				owner = PREV
				count = 2
			}
		}
	}
	hidden_effect = {
		if = {
			limit = {
				FRA = { has_unit_leader = 1962 }
			}
			FRA = {
				random_unit_leader = {
					limit = { has_id = 1962 }
					set_nationality = event_target:UKR_starobilske
				}
			}			
		}
		else_if = {
			limit = {
				RUS = { has_unit_leader = 1962 }
			}
			RUS = {
				random_unit_leader = {
					limit = { has_id = 1962 }
					set_nationality = event_target:UKR_starobilske
				}
			}			
		}
		else_if = {
			limit = {
				XXA = { has_unit_leader = 1962 }
			}
			XXA = {
				random_unit_leader = {
					limit = { has_id = 1962 }
					set_nationality = event_target:UKR_starobilske
				}
			}			
		}
		else = {
			UKR = {
				if = {
					limit = { has_unit_leader = 1962 }
					random_unit_leader = {
						limit = { has_id = 1962 }
						set_nationality = event_target:UKR_starobilske
					}
				}
			}
		}
	}
}
UKR_setup_bila_tserkva = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = UKR
			
			save_global_event_target_as = UKR_bila_tserkva
			set_cosmetic_tag = BTV
			set_country_flag = KR_set_up_ai_templates
			set_country_flag = UKR_collapse_state			
			add_ideas = {
				UPR_no_diplomacy
				partial_economic_mobilisation
				extensive_conscription
			}
			set_stability = 0.65
			set_war_support = 0.75
			set_popularities = {
				totalist = 0
				radical_socialist = 0
				syndicalist = 0
				social_democrat = 7
				social_liberal = 0
				market_liberal = 0
				social_conservative = 0
				authoritarian_democrat = 13
				paternal_autocrat = 58
				national_populist = 22	
			}
			
			set_party_name = {
				ideology = totalist
				name = UKR_totalist_party
				long_name = UKR_totalist_party_long
			}
			set_party_name = {
				ideology = syndicalist
				name = UKR_syndicalist_party
				long_name = UKR_syndicalist_party_long
			}
			set_party_name = {
				ideology = radical_socialist
				name = UKR_radical_socialist_party
				long_name = UKR_radical_socialist_party_long
			}
			set_party_name = {
				ideology = social_democrat
				name = UKR_social_democrat_party4
				long_name = UKR_social_democrat_party4_long
			}
			set_party_name = {
				ideology = market_liberal
				name = UKR_market_liberal_party
				long_name = UKR_market_liberal_party_long
			}
			set_party_name = {
				ideology = social_liberal
				name = UKR_social_liberal_party
				long_name = UKR_social_liberal_party_long
			}
			set_party_name = {
				ideology = social_conservative
				name = UKR_social_conservative_party
				long_name = UKR_social_conservative_party_long
			}
			set_party_name = {
				ideology = authoritarian_democrat
				name = UKR_authoritarian_democrat_party
				long_name = UKR_authoritarian_democrat_party_long
			}
			if = {
				limit = { UKR = { has_country_flag = Yevhen_Konovalets_dead } }
				set_party_name = {
					ideology = paternal_autocrat
					name = UKR_paternal_autocrat_party2
					long_name = UKR_paternal_autocrat_party2_long
				}
				set_party_name = {
					ideology = national_populist
					name = UKR_paternal_autocrat_party2
					long_name = UKR_paternal_autocrat_party2_long
				}
				create_country_leader = {
					name = "Yevhen Konovalets"
					desc = "POLITICS_YEVHEN_KONOVALETS_DESC"
					picture = "gfx/leaders/UKR/Portrait_UKR_Yevhen_Konovalets_civilian.png"
					expire = "1965.1.1"
					ideology = junta_subtype
				}
				create_country_leader = {
					name = "Yevhen Konovalets"
					desc = "POLITICS_YEVHEN_KONOVALETS_DESC"
					picture = "gfx/leaders/UKR/Portrait_UKR_Yevhen_Konovalets_civilian.png"
					expire = "1965.1.1"
					ideology = militarism_subtype
				}
			}
			else = {
				set_party_name = {
					ideology = paternal_autocrat
					name = UKR_national_populist_party
					long_name = UKR_national_populist_party_long
				}
				set_party_name = {
					ideology = national_populist
					name = UKR_national_populist_party
					long_name = UKR_national_populist_party_long
				}
				create_country_leader = {
					name = "Andriy Melnyk"
					desc = "POLITICS_ANDRIY_MELNYK_DESC"
					picture = "gfx/leaders/UKR/Portrait_UKR_Andriy_Melnyk_Extra.png"
					expire = "1965.1.1"
					ideology = junta_subtype
				}
				create_country_leader = {
					name = "Andriy Melnyk"
					desc = "POLITICS_ANDRIY_MELNYK_DESC"
					picture = "gfx/leaders/UKR/Portrait_UKR_Andriy_Melnyk_Extra.png"
					expire = "1965.1.1"
					ideology = militarism_subtype
				}
			}

			every_state = {
				limit = {
					is_core_of = event_target:UKR_bila_tserkva
				}
				remove_core_of = event_target:UKR_bila_tserkva
				add_claim_by = event_target:UKR_bila_tserkva
			}
			add_ai_strategy = {
				type = contain
				id = "UKR"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "UKR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "UKR"
				value = 200
			}
			add_ai_strategy = { # dont burn PP on admirals (can still get free ones)
				type = pp_spend_priority
				id = admiral
				value = -1000
			}
			division_template = {
				name = "Sichovi Striltsi"
				division_names_group = UKR_ELI_01

				regiments = {
					elite_infantry = { x = 0 y = 0 }
					elite_infantry = { x = 0 y = 1 }
					elite_infantry = { x = 0 y = 2 }
					elite_infantry = { x = 0 y = 3 }
					elite_infantry = { x = 1 y = 0 }
					elite_infantry = { x = 1 y = 1 }
					elite_infantry = { x = 1 y = 2 }
					elite_infantry = { x = 1 y = 3 }
					elite_infantry = { x = 2 y = 0 }
					elite_infantry = { x = 2 y = 1 }
					elite_infantry = { x = 2 y = 2 }
					elite_infantry = { x = 2 y = 3 }
				}
				support = {
					artillery = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
					recon = { x = 0 y = 2 }
				}
			}				
		}
	}
	event_target:UKR_bila_tserkva = {
		set_capital = { state = 1240 }
		add_state_core = 1240
		add_state_core = 198
		add_state_core = 1241
		transfer_state = 1240
		transfer_state = 198
		transfer_state = 1241
		set_politics = {
			ruling_party = national_populist
			elections_allowed = no
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Sichovi Striltsi\" start_experience_factor = 0.4"
				owner = PREV
				count = 2
			}
			create_unit = {
				division = "division_template = \"Sichovi Striltsi\" start_experience_factor = 0.2"
				owner = PREV
				count = 2
			}
		}
	}
	hidden_effect = {
		XXA = {
			every_unit_leader = {
				limit = { 
					has_trait = UKR_uvo_officer 
					NOT = { has_id = 17927 }
				}
				set_nationality = event_target:UKR_bila_tserkva
			}
		}
		UKR = {
			every_unit_leader = {
				limit = { 
					has_trait = UKR_uvo_officer 
					NOT = { has_id = 17927 }
				}
				set_nationality = event_target:UKR_bila_tserkva
			}
		}
		WSU = {
			every_unit_leader = {
				limit = { 
					has_trait = UKR_uvo_officer 
					NOT = { has_id = 17927 }
				}
				set_nationality = event_target:UKR_bila_tserkva
			}
		}
		UPR = {
			every_unit_leader = {
				limit = { 
					has_trait = UKR_uvo_officer 
					NOT = { has_id = 17927 }
				}
				set_nationality = event_target:UKR_bila_tserkva
			}
		}
	}
}
UKR_setup_zaporizhian_sich = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = UKR
			
			save_global_event_target_as = UKR_zaporizhian_sich
			set_cosmetic_tag = ZPS
			set_country_flag = KR_set_up_ai_templates
			set_country_flag = UKR_collapse_state			
			add_ideas = {
				UPR_no_diplomacy
				partial_economic_mobilisation
				extensive_conscription
			}
			set_stability = 0.25
			set_war_support = 0.85
			set_popularities = {
				totalist = 0
				radical_socialist = 48
				syndicalist = 0
				social_democrat = 27
				social_liberal = 0
				market_liberal = 8
				social_conservative = 17
				authoritarian_democrat = 0
				paternal_autocrat = 0
				national_populist = 0	
			}
			
			set_party_name = {
				ideology = totalist
				name = UKR_totalist_party
				long_name = UKR_totalist_party_long
			}
			set_party_name = {
				ideology = syndicalist
				name = UKR_syndicalist_party
				long_name = UKR_syndicalist_party_long
			}
			set_party_name = {
				ideology = radical_socialist
				name = ZPS_radical_socialist_party
				long_name = ZPS_radical_socialist_party_long
			}
			set_party_name = {
				ideology = social_democrat
				name = UKR_social_democrat_party6
				long_name = UKR_social_democrat_party6_long
			}
			set_party_name = {
				ideology = market_liberal
				name = UKR_market_liberal_party
				long_name = UKR_market_liberal_party_long
			}
			set_party_name = {
				ideology = social_liberal
				name = UKR_social_liberal_party
				long_name = UKR_social_liberal_party_long
			}
			set_party_name = {
				ideology = social_conservative
				name = UKR_social_conservative_party
				long_name = UKR_social_conservative_party_long
			}
			set_party_name = {
				ideology = authoritarian_democrat
				name = UKR_authoritarian_democrat_party
				long_name = UKR_authoritarian_democrat_party_long
			}
			every_state = {
				limit = {
					is_core_of = event_target:UKR_zaporizhian_sich
				}
				remove_core_of = event_target:UKR_zaporizhian_sich
				add_claim_by = event_target:UKR_zaporizhian_sich
			}
			add_ai_strategy = {
				type = contain
				id = "UKR"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "UKR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "UKR"
				value = 200
			}
			add_ai_strategy = { # dont burn PP on admirals (can still get free ones)
				type = pp_spend_priority
				id = admiral
				value = -1000
			}
			create_country_leader = {
				name = "Yukhym Bozhko"
				picture = "gfx/leaders/UKR/Portrait_UKR_Yukhim_Bozhko.png"
				expire = "1965.1.1"
				ideology = radsoc_red_junta_subtype
			}
			division_template = {
				name = "Zaporozka Sich"
				division_names_group = UKR_INF_03

				regiments = {
					irregular_infantry = { x = 0 y = 0 }
					irregular_infantry = { x = 0 y = 1 }
					irregular_infantry = { x = 0 y = 2 }
					irregular_infantry = { x = 0 y = 3 }
					irregular_infantry = { x = 1 y = 0 }
					irregular_infantry = { x = 1 y = 1 }
					irregular_infantry = { x = 1 y = 2 }
					irregular_infantry = { x = 1 y = 3 }
				}
				support = {
					artillery = { x = 0 y = 0 }
					recon = { x = 0 y = 2 }
				}
			}				
		}
	}
	event_target:UKR_zaporizhian_sich = {
		set_capital = { state = 1245 }
		add_state_core = 199
		add_state_core = 1245		
		transfer_state = 199
		transfer_state = 1245
		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = no
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Zaporozka Sich\" start_experience_factor = 0.3"
				owner = PREV
				count = 3
			}
		}
	}
	hidden_effect = {
		XXA = {
			every_unit_leader = {
				limit = { has_id = 17934 }
				set_nationality = event_target:UKR_zaporizhian_sich
			}
		}
		UKR = {
			every_unit_leader = {
				limit = { has_id = 17934 }
				set_nationality = event_target:UKR_zaporizhian_sich
			}
		}
		USR = {
			every_unit_leader = {
				limit = { has_id = 17934 }
				set_nationality = event_target:UKR_zaporizhian_sich
			}
		}
		WSU = {
			every_unit_leader = {
				limit = { has_id = 17934 }
				set_nationality = event_target:UKR_zaporizhian_sich
			}
		}
		UPR = {
			every_unit_leader = {
				limit = { has_id = 17934 }
				set_nationality = event_target:UKR_zaporizhian_sich
			}
		}
	}
}
UKR_setup_donbas = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = UKR
			
			save_global_event_target_as = UKR_donbas
			set_cosmetic_tag = DBS
			set_country_flag = KR_set_up_ai_templates
			set_country_flag = UKR_collapse_state			
			add_ideas = {
				UPR_no_diplomacy
				partial_economic_mobilisation
				extensive_conscription
			}
			set_stability = 0.55
			set_war_support = 0.35
			set_popularities = {
				totalist = 24
				radical_socialist = 31
				syndicalist = 21
				social_democrat = 20
				social_liberal = 1
				market_liberal = 0
				social_conservative = 0
				authoritarian_democrat = 0
				paternal_autocrat = 0
				national_populist = 2	
			}
			
			set_party_name = {
				ideology = totalist
				name = DBS_totalist_party
				long_name = DBS_totalist_party_long
			}
			set_party_name = {
				ideology = syndicalist
				name = UKR_syndicalist_party2
				long_name = UKR_syndicalist_party2_long
			}
			set_party_name = {
				ideology = radical_socialist
				name = DBS_radical_socialist_party
				long_name = DBS_radical_socialist_party_long
			}
			set_party_name = {
				ideology = social_democrat
				name = DBS_social_democrat_party
				long_name = DBS_social_democrat_party_long
			}
			set_party_name = {
				ideology = market_liberal
				name = UKR_market_liberal_party
				long_name = UKR_market_liberal_party_long
			}
			set_party_name = {
				ideology = social_liberal
				name = UKR_social_liberal_party
				long_name = UKR_social_liberal_party_long
			}
			set_party_name = {
				ideology = social_conservative
				name = UKR_social_conservative_party
				long_name = UKR_social_conservative_party_long
			}
			set_party_name = {
				ideology = authoritarian_democrat
				name = UKR_authoritarian_democrat_party
				long_name = UKR_authoritarian_democrat_party_long
			}
			every_state = {
				limit = {
					is_core_of = event_target:UKR_donbas
				}
				remove_core_of = event_target:UKR_donbas
				add_claim_by = event_target:UKR_donbas
			}
			add_ai_strategy = {
				type = contain
				id = "UKR"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "UKR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "UKR"
				value = 200
			}
			add_ai_strategy = { # dont burn PP on admirals (can still get free ones)
				type = pp_spend_priority
				id = admiral
				value = -1000
			}
			create_country_leader = {
				name = "Yefim Shchadenko"
				picture = "gfx/leaders/UKR/Portrait_UKR_Yefim_Shchadenko.png"
				expire = "1965.1.1"
				ideology = red_junta_subtype
			}
			create_country_leader = {
				name = "Mikhail Muravyov"
				picture = "gfx/leaders/UKR/Portrait_UKR_Mikhail_Muravyov.png"
				expire = "1965.1.1"
				ideology = centralized_syndicalism_subtype
			}
			create_country_leader = {
				name = "Oleksandr Parkhomenko"
				picture = "gfx/leaders/UKR/Portrait_UKR_Oleksandr_Parkhomenko.png"
				expire = "1965.1.1"
				ideology = red_junta_subtype
			}
			division_template = {
				name = "Chervona Hvardiia"
				division_names_group = UKR_MIL_01
				is_locked = yes
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 0 y = 2 }
					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
					militia = { x = 1 y = 2 }
				}
			}
		}
	}
	event_target:UKR_donbas = {
		set_capital = { state = 227 }
		add_state_core = 1239
		add_state_core = 1283	
		add_state_core = 227	
		add_state_core = 1284
		add_state_core = 228
		transfer_state = 1239
		transfer_state = 1283
		transfer_state = 227
		transfer_state = 1284
		transfer_state = 228
		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = no
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.05"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.05"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.05"
				owner = PREV
			}
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.05"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.05"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.05"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.05"
				owner = PREV
			}
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.05"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.05"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.05"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.05"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Chervona Hvardiia\" start_experience_factor = 0.05"
				owner = PREV
			}
		}	
	}
	hidden_effect = {
		XXA = {
			every_unit_leader = {
				limit = { 
					OR = {
						has_unit_leader_flag = UKR_bolshevist_officer 
						has_id = 17933
						has_id = 17939
						has_id = 17932
						has_id = 17940
					}
				}
				set_nationality = event_target:UKR_donbas
			}
		}
		UKR = {
			every_unit_leader = {
				limit = { 
					OR = {
						has_unit_leader_flag = UKR_bolshevist_officer 
						has_id = 17933
						has_id = 17939
						has_id = 17932
						has_id = 17940
					}
				}
				set_nationality = event_target:UKR_donbas
			}
		}
		USR = {
			every_unit_leader = {
				limit = { 
					OR = {
						has_unit_leader_flag = UKR_bolshevist_officer 
						has_id = 17933
						has_id = 17939
						has_id = 17932
						has_id = 17940
					}
				}
				set_nationality = event_target:UKR_donbas
			}
		}
	}
}
UKR_setup_black_forest = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = UKR
			
			save_global_event_target_as = UKR_black_forest
			set_cosmetic_tag = BFR
			set_country_flag = KR_set_up_ai_templates
			set_country_flag = UKR_collapse_state			
			add_ideas = {
				UPR_no_diplomacy
				partial_economic_mobilisation
				extensive_conscription
			}
			set_stability = 0.35
			set_war_support = 0.75
			set_popularities = {
				totalist = 0
				radical_socialist = 2
				syndicalist = 1
				social_democrat = 21
				social_liberal = 3
				market_liberal = 2
				social_conservative = 1
				authoritarian_democrat = 1
				paternal_autocrat = 45
				national_populist = 21	
			}
			
			set_party_name = {
				ideology = totalist
				name = UKR_totalist_party
				long_name = UKR_totalist_party_long
			}
			set_party_name = {
				ideology = syndicalist
				name = UKR_syndicalist_party
				long_name = UKR_syndicalist_party_long
			}
			set_party_name = {
				ideology = radical_socialist
				name = BFR_radical_socialist_party
				long_name = BFR_radical_socialist_party_long
			}
			set_party_name = {
				ideology = social_democrat
				name = UKR_social_democrat_party4
				long_name = UKR_social_democrat_party4_long
			}
			set_party_name = {
				ideology = market_liberal
				name = UKR_market_liberal_party
				long_name = UKR_market_liberal_party_long
			}
			set_party_name = {
				ideology = social_liberal
				name = UKR_social_liberal_party
				long_name = UKR_social_liberal_party_long
			}
			set_party_name = {
				ideology = social_conservative
				name = UKR_social_conservative_party
				long_name = UKR_social_conservative_party_long
			}
			set_party_name = {
				ideology = authoritarian_democrat
				name = UKR_authoritarian_democrat_party
				long_name = UKR_authoritarian_democrat_party_long
			}
			set_party_name = {
				ideology = paternal_autocrat
				name = BFR_radical_socialist_party
				long_name = BFR_radical_socialist_party_long
			}
			every_state = {
				limit = {
					is_core_of = event_target:UKR_black_forest
				}
				remove_core_of = event_target:UKR_black_forest
				add_claim_by = event_target:UKR_black_forest
			}
			add_ai_strategy = {
				type = contain
				id = "UKR"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "UKR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "UKR"
				value = 200
			}
			add_ai_strategy = { # dont burn PP on admirals (can still get free ones)
				type = pp_spend_priority
				id = admiral
				value = -1000
			}
			create_country_leader = {
				name = "Mykola Kibets-Bondarenko"
				picture = "gfx/leaders/UKR/Portrait_UKR_Mykhailo_Kibets_Bondarenko.png"
				expire = "1965.1.1"
				ideology = radsoc_red_junta_subtype
			}
			create_country_leader = {
				name = "Mykola Kibets-Bondarenko"
				picture = "gfx/leaders/UKR/Portrait_UKR_Mykhailo_Kibets_Bondarenko.png"
				expire = "1965.1.1"
				ideology = red_tinted_autocracy_subtype
			}
			division_template = {
				name = "Povstanska Dyviziia"
				division_names_group = UKR_INF_03
				is_locked = yes
				regiments = {
					irregular_infantry = { x = 0 y = 0 }
					irregular_infantry = { x = 0 y = 1 }
					irregular_infantry = { x = 0 y = 2 }
					irregular_infantry = { x = 0 y = 3 }
					irregular_infantry = { x = 1 y = 0 }
					irregular_infantry = { x = 1 y = 1 }
					irregular_infantry = { x = 1 y = 2 }
					irregular_infantry = { x = 1 y = 3 }
				}
			}
		}
	}
	event_target:UKR_black_forest = {
		set_capital = { state = 1233 }
		add_state_core = 203
		add_state_core = 1233	
		add_state_core = 1232
		transfer_state = 203
		transfer_state = 1233
		transfer_state = 1232
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Povstanska Dyviziia\" start_experience_factor = 0.2"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Povstanska Dyviziia\" start_experience_factor = 0.2"
				owner = PREV
			}
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Povstanska Dyviziia\" start_experience_factor = 0.2"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Povstanska Dyviziia\" start_experience_factor = 0.2"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Povstanska Dyviziia\" start_experience_factor = 0.2"
				owner = PREV
			}
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Povstanska Dyviziia\" start_experience_factor = 0.2"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Povstanska Dyviziia\" start_experience_factor = 0.2"
				owner = PREV
			}
		}	
	}
	hidden_effect = {
		XXA = {
			every_unit_leader = {
				limit = { has_id = 17937 }
				set_nationality = event_target:UKR_black_forest
			}
		}
		UKR = {
			every_unit_leader = {
				limit = { has_id = 17937 }
				set_nationality = event_target:UKR_black_forest
			}
		}
		USR = {
			every_unit_leader = {
				limit = { has_id = 17937 }
				set_nationality = event_target:UKR_black_forest
			}
		}
		WSU = {
			every_unit_leader = {
				limit = { has_id = 17937 }
				set_nationality = event_target:UKR_black_forest
			}
		}
		UPR = {
			every_unit_leader = {
				limit = { has_id = 17937 }
				set_nationality = event_target:UKR_black_forest
			}
		}
	}
}
UKR_setup_ridnavera = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = UKR
			
			save_global_event_target_as = UKR_ridnavera
			set_cosmetic_tag = RDN
			set_country_flag = KR_set_up_ai_templates
			set_country_flag = UKR_collapse_state			
			add_ideas = {
				UPR_no_diplomacy
				partial_economic_mobilisation
				extensive_conscription
			}
			set_stability = 0.25
			set_war_support = 0.55
			set_popularities = {
				totalist = 0
				radical_socialist = 0
				syndicalist = 0
				social_democrat = 0
				social_liberal = 0
				market_liberal = 0
				social_conservative = 0
				authoritarian_democrat = 0
				paternal_autocrat = 0
				national_populist = 100	
			}			
			set_party_name = {
				ideology = national_populist
				name = RDN_national_populist_party
				long_name = RDN_national_populist_party_long
			}
			every_state = {
				limit = {
					is_core_of = event_target:UKR_ridnavera
				}
				remove_core_of = event_target:UKR_ridnavera
				add_claim_by = event_target:UKR_ridnavera
			}
			add_ai_strategy = {
				type = contain
				id = "UKR"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "UKR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "UKR"
				value = 200
			}
			add_ai_strategy = { # dont burn PP on admirals (can still get free ones)
				type = pp_spend_priority
				id = admiral
				value = -1000
			}
			create_country_leader = {
				name = "Volodymyr Shaian"
				picture = "gfx/leaders/UKR/Portrait_UKR_Volodymyr_Shaian.png"
				expire = "1965.1.1"
				ideology = occultism_subtype
			}
			division_template = {
				name = "Lytsary Ordena"
				division_names_group = UKR_INF_03
				is_locked = yes
				regiments = {
					irregular_infantry = { x = 0 y = 0 }
					irregular_infantry = { x = 0 y = 1 }
					irregular_infantry = { x = 0 y = 2 }
					irregular_infantry = { x = 0 y = 3 }
					irregular_infantry = { x = 1 y = 0 }
					irregular_infantry = { x = 1 y = 1 }
					irregular_infantry = { x = 1 y = 2 }
					irregular_infantry = { x = 1 y = 3 }
				}
			}
		}
	}
	event_target:UKR_ridnavera = {
		set_capital = { state = 1244 }
		add_state_core = 1244
		transfer_state = 1244
		set_politics = {
			ruling_party = national_populist
			elections_allowed = no
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Lytsary Ordena\" start_experience_factor = 0.8"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Lytsary Ordena\" start_experience_factor = 0.8"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Lytsary Ordena\" start_experience_factor = 0.8"
				owner = PREV
			}
		}	
	}	
}
UKR_setup_makhnovia = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = UKR
			
			save_global_event_target_as = UKR_makhnovia
			set_cosmetic_tag = VTR
			set_country_flag = KR_set_up_ai_templates
			set_country_flag = UKR_collapse_state			
			add_ideas = {
				UPR_no_diplomacy
				partial_economic_mobilisation
				extensive_conscription
			}
			set_stability = 0.45
			set_war_support = 0.7
			set_popularities = { 
				totalist = 43
				radical_socialist = 24
				syndicalist = 14
				social_democrat = 9
				social_liberal = 3
				market_liberal = 1
				social_conservative = 0
				authoritarian_democrat = 0
				paternal_autocrat = 2
				national_populist = 1	
			}			
			set_party_name = {
				ideology = totalist
				name = VTR_totalist_party
				long_name = VTR_totalist_party_long
			}
			set_party_name = {
				ideology = syndicalist
				name = UKR_syndicalist_party
				long_name = UKR_syndicalist_party_long
			}
			set_party_name = {
				ideology = radical_socialist
				name = DBS_radical_socialist_party
				long_name = DBS_radical_socialist_party_long
			}
			set_party_name = {
				ideology = social_democrat
				name = UKR_social_democrat_party4
				long_name = UKR_social_democrat_party4_long
			}
			set_party_name = {
				ideology = market_liberal
				name = UKR_market_liberal_party
				long_name = UKR_market_liberal_party_long
			}
			set_party_name = {
				ideology = social_liberal
				name = UKR_social_liberal_party
				long_name = UKR_social_liberal_party_long
			}
			set_party_name = {
				ideology = social_conservative
				name = UKR_social_conservative_party
				long_name = UKR_social_conservative_party_long
			}
			set_party_name = {
				ideology = authoritarian_democrat
				name = UKR_authoritarian_democrat_party
				long_name = UKR_authoritarian_democrat_party_long
			}
			every_state = {
				limit = {
					is_core_of = event_target:UKR_makhnovia
				}
				remove_core_of = event_target:UKR_makhnovia
				add_claim_by = event_target:UKR_makhnovia
			}
			add_ai_strategy = {
				type = contain
				id = "UKR"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "UKR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "UKR"
				value = 200
			}
			add_ai_strategy = { # dont burn PP on admirals (can still get free ones)
				type = pp_spend_priority
				id = admiral
				value = -1000
			}
			create_country_leader = {
				name = "Danylo Zinkovskyi"
				picture = "gfx/leaders/UKR/Portrait_UKR_Danylo_Zynkovskyi.png"
				expire = "1965.1.1"
				ideology = anarcho_bolshevism_subtype
			}
			division_template = {
				name = "Chorna Hvardiia"
				division_names_group = UKR_MIL_01
				is_locked = yes
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 0 y = 2 }
					militia = { x = 0 y = 3 }
					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
					militia = { x = 1 y = 2 }
					militia = { x = 1 y = 3 }
				}
			}
		}
	}
	event_target:UKR_makhnovia = {
		set_capital = { state = 1286 }
		add_state_core = 1286
		transfer_state = 1286
		set_politics = {
			ruling_party = totalist
			elections_allowed = no
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Chorna Hvardiia\" start_experience_factor = 0.2"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Chorna Hvardiia\" start_experience_factor = 0.2"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Chorna Hvardiia\" start_experience_factor = 0.2"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Chorna Hvardiia\" start_experience_factor = 0.2"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Chorna Hvardiia\" start_experience_factor = 0.2"
				owner = PREV
			}
		}	
	}
	hidden_effect = {
		XXA = {
			every_unit_leader = {
				limit = { has_id = 17935 }
				set_nationality = event_target:UKR_makhnovia
			}
		}
		UKR = {
			every_unit_leader = {
				limit = { has_id = 17935 }
				set_nationality = event_target:UKR_makhnovia
			}
		}
		USR = {
			every_unit_leader = {
				limit = { has_id = 17935 }
				set_nationality = event_target:UKR_makhnovia
			}
		}
		UPR = {
			every_unit_leader = {
				limit = { has_id = 17935 }
				set_nationality = event_target:UKR_makhnovia
			}
		}
	}
}
UKR_setup_zhytomyr = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = UKR
			
			save_global_event_target_as = UKR_zhytomyr
			set_cosmetic_tag = ZHT
			set_country_flag = KR_set_up_ai_templates
			set_country_flag = UKR_collapse_state			
			add_ideas = {
				UPR_no_diplomacy
				partial_economic_mobilisation
				extensive_conscription
			}
			set_stability = 0.45
			set_war_support = 0.7
			set_popularities = {
				totalist = 2
				radical_socialist = 31
				syndicalist = 3
				social_democrat = 54
				social_liberal = 2
				market_liberal = 2
				social_conservative = 0
				authoritarian_democrat = 0
				paternal_autocrat = 1
				national_populist = 2	
			}			
			set_party_name = {
				ideology = totalist
				name = UKR_totalist_party
				long_name = UKR_totalist_party_long
			}
			set_party_name = {
				ideology = syndicalist
				name = UKR_syndicalist_party
				long_name = UKR_syndicalist_party_long
			}
			set_party_name = {
				ideology = radical_socialist
				name = UKR_radical_socialist_party
				long_name = UKR_radical_socialist_party_long
			}
			set_party_name = {
				ideology = social_democrat
				name = UKR_social_democrat_party6
				long_name = UKR_social_democrat_party6_long
			}
			set_party_name = {
				ideology = market_liberal
				name = UKR_market_liberal_party
				long_name = UKR_market_liberal_party_long
			}
			set_party_name = {
				ideology = social_liberal
				name = UKR_social_liberal_party
				long_name = UKR_social_liberal_party_long
			}
			set_party_name = {
				ideology = social_conservative
				name = UKR_social_conservative_party
				long_name = UKR_social_conservative_party_long
			}
			set_party_name = {
				ideology = authoritarian_democrat
				name = UKR_authoritarian_democrat_party
				long_name = UKR_authoritarian_democrat_party_long
			}
			every_state = {
				limit = {
					is_core_of = event_target:UKR_zhytomyr
				}
				remove_core_of = event_target:UKR_zhytomyr
				add_claim_by = event_target:UKR_zhytomyr
			}
			add_ai_strategy = {
				type = contain
				id = "UKR"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "UKR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "UKR"
				value = 200
			}
			add_ai_strategy = { # dont burn PP on admirals (can still get free ones)
				type = pp_spend_priority
				id = admiral
				value = -1000
			}
			create_country_leader = {
				name = "Hryhorii Syrotenko"
				picture = "gfx/leaders/UKR/Portrait_UKR_Grygoriy_Sirotenko.png"
				expire = "1965.1.1"
				ideology = socdem_junta_subtype
			}
			division_template = {
				name = "Petliurivtsi"
				division_names_group = UKR_INF_02
				is_locked = yes
				regiments = {
					irregular_infantry = { x = 0 y = 0 }
					irregular_infantry = { x = 0 y = 1 }
					irregular_infantry = { x = 0 y = 2 }
					irregular_infantry = { x = 1 y = 0 }
					irregular_infantry = { x = 1 y = 1 }
					irregular_infantry = { x = 1 y = 2 }
				}
				support = {
					engineer = { x = 0 y = 0 }
				}
				template_counter = 68
			}
		}
	} 
	event_target:UKR_zhytomyr = {
		set_capital = { state = 201 }
		add_state_core = 201
		add_state_core = 1228
		transfer_state = 201
		transfer_state = 1228
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = no
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Petliurivtsi\" start_experience_factor = 0.2"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Petliurivtsi\" start_experience_factor = 0.2"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Petliurivtsi\" start_experience_factor = 0.2"
				owner = PREV
			}
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Petliurivtsi\" start_experience_factor = 0.2"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Petliurivtsi\" start_experience_factor = 0.2"
				owner = PREV
			}
		}	
	}
	hidden_effect = {
		XXA = {
			every_unit_leader = {
				limit = { has_id = 17923 }
				set_nationality = event_target:UKR_zhytomyr
			}
		}
		UKR = {
			every_unit_leader = {
				limit = { has_id = 17923 }
				set_nationality = event_target:UKR_zhytomyr
			}
		}
		USR = {
			every_unit_leader = {
				limit = { has_id = 17923 }
				set_nationality = event_target:UKR_zhytomyr
			}
		}
		UPR = {
			every_unit_leader = {
				limit = { has_id = 17923 }
				set_nationality = event_target:UKR_zhytomyr
			}
		}
	}
}
UKR_setup_chernihiv = {
	hidden_effect = { 
		create_dynamic_country = {
			original_tag = UKR
			
			save_global_event_target_as = UKR_chernihiv
			set_cosmetic_tag = CRV
			set_country_flag = KR_set_up_ai_templates
			set_country_flag = UKR_collapse_state			
			add_ideas = {
				UPR_no_diplomacy
				partial_economic_mobilisation
				extensive_conscription
			}
			set_stability = 0.40
			set_war_support = 0.65
			set_popularities = {
				totalist = 1
				radical_socialist = 15
				syndicalist = 2
				social_democrat = 34
				social_liberal = 6
				market_liberal = 5
				social_conservative = 0
				authoritarian_democrat = 0
				paternal_autocrat = 21
				national_populist = 13	
			}			
			set_party_name = {
				ideology = totalist
				name = UKR_totalist_party
				long_name = UKR_totalist_party_long
			}
			set_party_name = {
				ideology = syndicalist
				name = UKR_syndicalist_party
				long_name = UKR_syndicalist_party_long
			}
			set_party_name = {
				ideology = radical_socialist
				name = UKR_radical_socialist_party
				long_name = UKR_radical_socialist_party_long
			}
			set_party_name = {
				ideology = social_democrat
				name = UKR_social_democrat_party6
				long_name = UKR_social_democrat_party6_long
			}
			set_party_name = {
				ideology = market_liberal
				name = UKR_market_liberal_party
				long_name = UKR_market_liberal_party_long
			}
			set_party_name = {
				ideology = social_liberal
				name = UKR_social_liberal_party
				long_name = UKR_social_liberal_party_long
			}
			set_party_name = {
				ideology = social_conservative
				name = UKR_social_conservative_party
				long_name = UKR_social_conservative_party_long
			}
			set_party_name = {
				ideology = authoritarian_democrat
				name = UKR_authoritarian_democrat_party
				long_name = UKR_authoritarian_democrat_party_long
			}
			set_party_name = {
				ideology = paternal_autocrat
				name = UKR_social_democrat_party6
				long_name = UKR_social_democrat_party6_long
			}
			every_state = {
				limit = {
					is_core_of = event_target:UKR_chernihiv
				}
				remove_core_of = event_target:UKR_chernihiv
				add_claim_by = event_target:UKR_chernihiv
			}
			add_ai_strategy = {
				type = contain
				id = "UKR"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "UKR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "UKR"
				value = 200
			}
			add_ai_strategy = { # dont burn PP on admirals (can still get free ones)
				type = pp_spend_priority
				id = admiral
				value = -1000
			}
			create_country_leader = {
				name = "Averkii Honcharenko"
				picture = "gfx/leaders/UKR/Portrait_UKR_Averkiy_Goncharenko.png"
				expire = "1965.1.1"
				ideology = popular_patriotism_subtype
			}
			division_template = {
				name = "Petliurivtsi"
				division_names_group = UKR_INF_02
				is_locked = yes
				regiments = {
					irregular_infantry = { x = 0 y = 0 }
					irregular_infantry = { x = 0 y = 1 }
					irregular_infantry = { x = 0 y = 2 }
					irregular_infantry = { x = 1 y = 0 }
					irregular_infantry = { x = 1 y = 1 }
					irregular_infantry = { x = 1 y = 2 }
				}
				support = {
					engineer = { x = 0 y = 0 }
				}
				template_counter = 68
			}
		}
	}
	event_target:UKR_chernihiv = {
		set_capital = { state = 193 }
		add_state_core = 1230
		add_state_core = 1242
		add_state_core = 193
		transfer_state = 1242
		transfer_state = 1230
		transfer_state = 193
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Petliurivtsi\" start_experience_factor = 0.2"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Petliurivtsi\" start_experience_factor = 0.2"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Petliurivtsi\" start_experience_factor = 0.2"
				owner = PREV
			}
		}
		random_owned_controlled_state = {
			create_unit = {
				division = "division_template = \"Petliurivtsi\" start_experience_factor = 0.2"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Petliurivtsi\" start_experience_factor = 0.2"
				owner = PREV
			}
		}	
	}
	hidden_effect = {
		XXA = {
			every_unit_leader = {
				limit = { has_id = 17922 }
				set_nationality = event_target:UKR_chernihiv
			}
		}
		UKR = {
			every_unit_leader = {
				limit = { has_id = 17922 }
				set_nationality = event_target:UKR_chernihiv
			}
		}
		USR = {
			every_unit_leader = {
				limit = { has_id = 17922 }
				set_nationality = event_target:UKR_chernihiv
			}
		}
		UPR = {
			every_unit_leader = {
				limit = { has_id = 17922 }
				set_nationality = event_target:UKR_chernihiv
			}
		}
	}
}

UKR_setup_ukrainian_collapse = {
	country_event = {
		id = ukrsoc.300
		days = 10
		random_days = 5
	}
	country_event = {
		id = ukrsoc.311
		days = 5
		random_days = 5
	}
	country_event = {
		id = ukrsoc.301
		days = 12
		random_days = 5
	}
	country_event = {
		id = ukrsoc.302
		days = 14
		random_days = 5
	}
	country_event = {
		id = ukrsoc.303
		days = 16
		random_days = 5
	}
	country_event = {
		id = ukrsoc.304
		days = 18
		random_days = 5
	}	
	country_event = {
		id = ukrsoc.305
		days = 20
		random_days = 5
	}
	country_event = {
		id = ukrsoc.306
		days = 22
		random_days = 5
	}
	country_event = {
		id = ukrsoc.307
		days = 24
		random_days = 5
	}
	country_event = {
		id = ukrsoc.308
		days = 26
		random_days = 5
	}
	country_event = {
		id = ukrsoc.309
		days = 28
		random_days = 5
	}
	country_event = {
		id = ukrsoc.310
		days = 30
		random_days = 5
	}
} 
UKR_damage_relocated_military_factories_effect = {
	if = {
		limit = {
			FROM = {
				NOT = { is_fully_controlled_by = ROOT }
			}
		}
		damage_building = { type = arms_factory damage = 0.9 }
	}
	else = {
		damage_building = { type = arms_factory damage = 0.5 }
	}
}

UKR_damage_relocated_civilian_factories_effect = {
	if = {
		limit = {
			FROM = {
				NOT = { is_fully_controlled_by = ROOT }
			}
		}
		damage_building = { type = industrial_complex damage = 0.9 }
	}
	else = {
		damage_building = { type = industrial_complex damage = 0.5 }
	}
}
UKR_relocate_industry_in_appropriate_state_effect = {
	if = {
		limit = {
			OR = {
				has_state_flag = UKR_civs_removed_flag
				has_state_flag = UKR_mils_removed_flag
			}
		}
		ROOT = {
			if = { #Prio the Urals
				limit = {
					any_controlled_state = {
						UKR_is_industrial_relocation_destiny_state = yes
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				random_controlled_state = {
					limit = {
						UKR_is_industrial_relocation_destiny_state = yes
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					#FIRST FACTORY - Prio Mil
					if = {
						limit = {
							FROM = { has_state_flag = UKR_mils_removed_flag }
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						FROM = { modify_state_flag = { flag = UKR_mils_removed_flag value = -1 } }
						UKR_damage_relocated_military_factories_effect = yes
					}
					else_if = {
						limit = {
							FROM = { has_state_flag = UKR_civs_removed_flag }
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						FROM = { modify_state_flag = { flag = UKR_civs_removed_flag value = -1 } }
						UKR_damage_relocated_civilian_factories_effect = yes
					}
					#SECOND FACTORY - Prio Civ
					if = {
						limit = {
							FROM = { has_state_flag = UKR_civs_removed_flag }
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						FROM = { modify_state_flag = { flag = UKR_civs_removed_flag value = -1 } }
						UKR_damage_relocated_civilian_factories_effect = yes
					}
					else_if = {
						limit = {
							FROM = { has_state_flag = UKR_mils_removed_flag }
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						FROM = { modify_state_flag = { flag = UKR_mils_removed_flag value = -1 } }
						UKR_damage_relocated_military_factories_effect = yes
					}
				}
			}
			else_if = { #A bunch of historical fallbacks
				limit = {
					any_controlled_state = {
						UKR_is_industrial_relocation_destiny_fallback_state = yes
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				random_controlled_state = {
					limit = {
						UKR_is_industrial_relocation_destiny_fallback_state = yes
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					#FIRST FACTORY
					if = {
						limit = {
							FROM = { has_state_flag = UKR_mils_removed_flag }
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						FROM = { modify_state_flag = { flag = UKR_mils_removed_flag value = -1 } }
						UKR_damage_relocated_military_factories_effect = yes
					}
					else_if = {
						limit = {
							FROM = { has_state_flag = UKR_civs_removed_flag }
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						FROM = { modify_state_flag = { flag = UKR_civs_removed_flag value = -1 } }
						UKR_damage_relocated_civilian_factories_effect = yes
					}
					#SECOND FACTORY
					if = {
						limit = {
							FROM = { has_state_flag = UKR_mils_removed_flag }
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						FROM = { modify_state_flag = { flag = UKR_mils_removed_flag value = -1 } }
						UKR_damage_relocated_military_factories_effect = yes
					}
					else_if = {
						limit = {
							FROM = { has_state_flag = UKR_civs_removed_flag }
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						FROM = { modify_state_flag = { flag = UKR_civs_removed_flag value = -1 } }
						UKR_damage_relocated_civilian_factories_effect = yes
					}
				}
			}
			else_if = { #what the hell man? Your country is in flames you know?
				limit = {
					any_controlled_state = {
						UKR_is_industrial_relocation_destiny_state = no
						UKR_is_industrial_relocation_destiny_fallback_state = no
						is_on_continent = asia
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				random_controlled_state = {
					limit = {
						UKR_is_industrial_relocation_destiny_state = no
						UKR_is_industrial_relocation_destiny_fallback_state = no
						is_on_continent = asia
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					#FIRST FACTORY
					if = {
						limit = {
							FROM = { has_state_flag = UKR_mils_removed_flag }
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						FROM = { modify_state_flag = { flag = UKR_mils_removed_flag value = -1 } }
						UKR_damage_relocated_military_factories_effect = yes
					}
					else_if = {
						limit = {
							FROM = { has_state_flag = UKR_civs_removed_flag }
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						FROM = { modify_state_flag = { flag = UKR_civs_removed_flag value = -1 } }
						UKR_damage_relocated_civilian_factories_effect = yes
					}
					#SECOND FACTORY
					if = {
						limit = {
							FROM = { has_state_flag = UKR_mils_removed_flag }
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						FROM = { modify_state_flag = { flag = UKR_mils_removed_flag value = -1 } }
						UKR_damage_relocated_military_factories_effect = yes
					}
					else_if = {
						limit = {
							FROM = { has_state_flag = UKR_civs_removed_flag }
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						FROM = { modify_state_flag = { flag = UKR_civs_removed_flag value = -1 } }
						UKR_damage_relocated_civilian_factories_effect = yes
					}
				}
			}
		}
	}
}
UKR_clamp_sun_variables = {
	clamp_variable = { 
		var = UKR_sun_integralists 
		min = 0
		max = 1
	}
	clamp_variable = { 
		var = UKR_sun_old_guard 
		min = 0
		max = 1
	}
	clamp_variable = { 
		var = UKR_sun_nrm 
		min = 0
		max = 1
	}
}
UKR_clamp_petliura_variables = {
	clamp_variable = { 
		var = UKR_usdrp_pm_authority 
		min = 0
		max = 100
	}
	clamp_variable = { 
		var = UKR_petliura_pm_authority 
		min = 0
		max = 100
	}
	clamp_variable = { 
		var = UKR_melnyk_pm_authority
		min = 0
		max = 100
	}
	clamp_variable = { 
		var = UKR_shumskyi_authority
		min = 0
		max = 100
	}
	clamp_variable = { 
		var = UKR_uns_left_authority
		min = 0
		max = 100
	}
	clamp_variable = { 
		var = UKR_uns_right_authority
		min = 0
		max = 100
	}
}
UKR_recalculate_petliura_modifiers = {
	set_variable = { UKR_petliura_stability = UKR_petliura_pm_authority }
	set_variable = { UKR_petliura_pp = UKR_petliura_pm_authority }
	set_variable = { UKR_melnyk_war_support = UKR_melnyk_pm_authority }
	set_variable = { UKR_melnyk_army_org = UKR_melnyk_pm_authority }
	set_variable = { UKR_shumskyi_max_efficency = UKR_shumskyi_authority }
	set_variable = { UKR_shumskyi_factory_efficiency = UKR_shumskyi_authority }
	
	divide_variable = { UKR_petliura_stability = 500 }
	divide_variable = { UKR_petliura_pp = 500 }
	divide_variable = { UKR_melnyk_war_support = 500 }
	divide_variable = { UKR_melnyk_army_org = 500 }
	divide_variable = { UKR_shumskyi_max_efficency = 500 }
	divide_variable = { UKR_shumskyi_factory_efficiency = 500 }
	
	if = {
		limit = { 
			OR = {
				check_variable = { UKR_petliura_pm_authority < UKR_shumskyi_authority }
				check_variable = { UKR_petliura_pm_authority < UKR_melnyk_pm_authority }
			}
		}
		multiply_variable = { UKR_petliura_stability = -1 }
		multiply_variable = { UKR_petliura_pp = -1 }
	}
	if = {
		limit = {
			check_variable = { UKR_shumskyi_authority < UKR_petliura_pm_authority }
		}
		multiply_variable = { UKR_shumskyi_max_efficency = -1 }
		multiply_variable = { UKR_shumskyi_factory_efficiency = -1 }
	}
	if = {
		limit = {
			check_variable = { UKR_melnyk_pm_authority < UKR_petliura_pm_authority }
		}
		multiply_variable = { UKR_melnyk_war_support = -1 }
		multiply_variable = { UKR_melnyk_army_org = -1 }
	}
	if = {
		limit = { 
			has_completed_focus = UKR_Premier_Shumskyi_Commander_Petliura
			has_country_flag = UKR_petliura_shumskyi
		}
		add_to_variable = { UKR_shumskyi_factory_efficiency = 0.05 }
		add_to_variable = { UKR_petliura_war_support = 0.07 }
	}

	force_update_dynamic_modifier = yes
}
UKR_update_petliura_progress_bar = {
	UKR_clamp_petliura_variables = yes
	UKR_recalculate_petliura_modifiers = yes
	# SHOULD RECIZE 100 INTO 90
	if = {
		limit = { has_country_flag = UKR_petliura_shumskyi }
		set_temp_variable = { UKR_petliura_temp_pm_authority = UKR_petliura_pm_authority }
		multiply_temp_variable = { UKR_petliura_temp_pm_authority = 0.9 }
		round_variable = UKR_petliura_temp_pm_authority
		set_temp_variable = { UKR_shumskyi_temp_authority = 90 }
		subtract_from_temp_variable = { UKR_shumskyi_temp_authority = UKR_petliura_temp_pm_authority }
		round_variable = UKR_shumskyi_temp_authority
		
		set_temp_variable = { UKR_usdrp_temp_pm_authority = 0 }
		set_temp_variable = { UKR_uns_left_temp_authority = 0 }
		set_temp_variable = { UKR_uns_right_temp_authority = 0 }
		set_temp_variable = { UKR_melnyk_pm_temp_authority = 0 }
	}
	else_if = {
		limit = { has_country_flag = UKR_petliura_national_union }
		set_temp_variable = { UKR_uns_left_temp_authority = UKR_uns_left_authority }
		multiply_temp_variable = { UKR_uns_left_temp_authority = 0.9 }
		round_variable = UKR_uns_left_temp_authority
		set_temp_variable = { UKR_uns_right_temp_authority = 90 }
		subtract_from_temp_variable = { UKR_uns_right_temp_authority = UKR_uns_left_temp_authority }
		
		set_temp_variable = { UKR_usdrp_temp_pm_authority = 0 }
		set_temp_variable = { UKR_shumskyi_temp_authority = 0 }
		set_temp_variable = { UKR_petliura_temp_pm_authority = 0 }
		set_temp_variable = { UKR_melnyk_pm_temp_authority = 0 }
	}
	else_if = {
		limit = { has_country_flag = UKR_petliura_melnyk }
		set_temp_variable = { UKR_usdrp_temp_pm_authority = UKR_usdrp_pm_authority }
		set_temp_variable = { UKR_petliura_temp_pm_authority = UKR_petliura_pm_authority }
		multiply_temp_variable = { UKR_usdrp_temp_pm_authority = 0.9 }
		multiply_temp_variable = { UKR_petliura_temp_pm_authority = 0.9 }
		round_variable = UKR_usdrp_temp_pm_authority
		round_variable = UKR_petliura_temp_pm_authority
	
		set_temp_variable = { UKR_melnyk_pm_temp_authority = 90 }
		subtract_from_temp_variable = { UKR_melnyk_pm_temp_authority = UKR_usdrp_temp_pm_authority }
		subtract_from_temp_variable = { UKR_melnyk_pm_temp_authority = UKR_petliura_temp_pm_authority }
		round_variable = UKR_melnyk_pm_temp_authority
		
		set_temp_variable = { UKR_shumskyi_temp_authority = 0 }
		set_temp_variable = { UKR_uns_left_temp_authority = 0 }
		set_temp_variable = { UKR_uns_right_temp_authority = 0 }
	}
			
	set_variable = { UKR_usdrp_pm_frame = UKR_usdrp_temp_pm_authority }
	set_variable = { UKR_shumskyi_frame = UKR_shumskyi_temp_authority }
	set_variable = { UKR_petliura_pm_frame = UKR_petliura_temp_pm_authority }
	set_variable = { UKR_uns_left_frame = UKR_uns_left_temp_authority }
	set_variable = { UKR_uns_right_frame = UKR_uns_right_temp_authority }
	set_variable = { UKR_melnyk_pm_frame = UKR_melnyk_pm_temp_authority }
		
	# Generate partial sums t1 = (P1), t2 = (P1 + P2), t3 = (P1 + P2 + P3)
	
	# so that we can use resize_array to fill our array with the right number of seats for each party
	set_temp_variable = { t1 = UKR_shumskyi_frame }
	set_temp_variable = { t2 = UKR_petliura_pm_frame }
	set_temp_variable = { t3 = UKR_usdrp_pm_frame }
	set_temp_variable = { t4 = UKR_uns_left_frame }
	set_temp_variable = { t5 = UKR_uns_right_frame }
	set_temp_variable = { t6 = UKR_melnyk_pm_frame }
	
	add_to_temp_variable = { t2 = t1 }
	add_to_temp_variable = { t3 = t2 }
	add_to_temp_variable = { t4 = t3 }
	add_to_temp_variable = { t5 = t4 }
	add_to_temp_variable = { t6 = t5 }
		
	clear_array = UKR_Petliura_Progress_Bar_display
	
	# Resize array to t1 seats, setting P1 frame numbers to 1 (Party 1 color)
	resize_array = {
		array = UKR_Petliura_Progress_Bar_display
		value = 1
		size = t1
	}
	# Resize array to t2 seats, setting P2 frame numbers to 2 (Party 2 color)
	resize_array = {
		array = UKR_Petliura_Progress_Bar_display
		value = 2
		size = t2
	}
	# Resize array to t3 seats, setting P3 frame numbers to 3 (Party 3 color)
	resize_array = {
		array = UKR_Petliura_Progress_Bar_display
		value = 3
		size = t3
	}
	# Resize array to t3 seats, setting P3 frame numbers to 3 (Party 3 color)
	resize_array = {
		array = UKR_Petliura_Progress_Bar_display
		value = 4
		size = t4
	}
	# Resize array to t3 seats, setting P3 frame numbers to 3 (Party 3 color)
	resize_array = {
		array = UKR_Petliura_Progress_Bar_display
		value = 5
		size = t5
	}
	# Resize array to t3 seats, setting P3 frame numbers to 3 (Party 3 color)
	resize_array = {
		array = UKR_Petliura_Progress_Bar_display
		value = 6
		size = t6
	}	
}
UKR_create_petliura_progress_bar = {
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_y = 0 }	
	
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 0 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 4 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 8 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 12 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 16 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 20 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 24 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 28 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 32 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 36 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 40 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 44 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 48 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 52 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 56 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 60 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 64 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 68 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 72 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 76 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 80 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 84 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 88 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 92 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 96 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 100 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 102 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 106 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 110 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 114 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 118 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 122 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 126 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 130 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 134 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 138 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 142 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 146 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 150 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 154 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 158 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 162 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 166 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 170 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 174 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 178 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 182 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 186 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 190 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 194 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 198 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 202 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 206 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 210 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 214 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 218 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 222 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 226 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 230 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 234 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 238 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 242 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 246 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 250 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 254 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 258 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 262 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 266 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 270 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 274 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 278 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 282 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 286 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 290 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 294 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 298 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 300 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 302 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 306 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 310 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 314 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 318 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 322 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 326 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 330 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 334 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 338 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 342 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 346 }
	add_to_array = { UKR_Petliura_Progress_Bar_icon_x = 350 }		
}
UKR_update_military = {
	hidden_effect = {
		if = {
			limit = {
				has_completed_focus = UKR_shadow_of_mighty_wings
				NOT = { is_ally_with = GER }
			}
			uncomplete_national_focus = {
				focus = UKR_shadow_of_mighty_wings
				uncomplete_children = yes
			}
		}
		else_if = {
			limit = {
				has_completed_focus = UKR_protection_of_dual_monarchy
				NOT = { is_ally_with = AUS }
			}
			uncomplete_national_focus = {
				focus = UKR_protection_of_dual_monarchy
				uncomplete_children = yes
			}
		}
		else_if = {
			limit = {
				has_completed_focus = UKR_stronghold_of_internationale
				NOT = { is_ally_with = INT }
			}
			uncomplete_national_focus = {
				focus = UKR_stronghold_of_internationale
				uncomplete_children = yes
			}
		}		
	}
}