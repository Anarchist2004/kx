COG_increase_merc_reliance = {
	custom_effect_tooltip = COG_increase_merc_reliance_tt
	hidden_effect = {
		if = {
			limit = { has_idea = COG_reliance_on_mercs_idea }
			swap_ideas = {
				remove_idea = COG_reliance_on_mercs_idea
				add_idea = COG_reliance_on_mercs_idea2
			}
		}
		else_if = {
			limit = { has_idea = COG_reliance_on_mercs_idea2 }
			swap_ideas = {
				remove_idea = COG_reliance_on_mercs_idea2
				add_idea = COG_reliance_on_mercs_idea3
			}
		}
		else_if = {
			limit = { has_idea = COG_reliance_on_mercs_idea3 }
			swap_ideas = {
				remove_idea = COG_reliance_on_mercs_idea3
				add_idea = COG_reliance_on_mercs_idea4
			}
		}
		else_if = {
			limit = { has_idea = COG_reliance_on_mercs_idea4 }
			swap_ideas = {
				remove_idea = COG_reliance_on_mercs_idea4
				add_idea = COG_reliance_on_mercs_idea5
			}
		}
		KSV = {
			increase_merc_disunity = yes
		}
	}
}

COG_decrease_merc_reliance = {
	custom_effect_tooltip = COG_decrease_merc_reliance_tt
	hidden_effect = {
		if = { limit = { has_idea = COG_reliance_on_mercs_idea5 }
			swap_ideas = {
				remove_idea = COG_reliance_on_mercs_idea5
				add_idea = COG_reliance_on_mercs_idea4
			}
		}
		else_if = { limit = { has_idea = COG_reliance_on_mercs_idea4 }
			swap_ideas = {
				remove_idea = COG_reliance_on_mercs_idea4
				add_idea = COG_reliance_on_mercs_idea3
			}
		}
		else_if = { limit = { has_idea = COG_reliance_on_mercs_idea3 }
			swap_ideas = {
				remove_idea = COG_reliance_on_mercs_idea3
				add_idea = COG_reliance_on_mercs_idea2
			}
		}
		else_if = { limit = { has_idea = COG_reliance_on_mercs_idea2 }
			swap_ideas = {
				remove_idea = COG_reliance_on_mercs_idea2
				add_idea = COG_reliance_on_mercs_idea
			}
		}
		KSV = {
			decrease_merc_disunity = yes
		}
	}
}

KTG_congo_collapse = {
	#load_focus_tree = KTG_Civilwar
		set_global_flag = CONGO_SHITSHOW
		KTG = {
			every_owned_state = {
				limit = {
					OR = {
						state = 977
					}
				}
				KIV = { transfer_state = PREV }
			}
		}
		if = {
			limit = {
				country_exists = KIV
				KIV = { NOT = { has_country_flag = MAF_already_exists } }
			}
			KIV = {
				add_state_core = 718
				add_state_core = 1181
				add_state_core = 977
				load_oob = KIV
				#load_focus_tree = KTG_Civilwar
				complete_national_focus = KTG_tewapen
				mark_focus_tree_layout_dirty = yes
				add_to_array = { global.MAF_collapse_tags = THIS }
			}
		}
		if = {
			limit = {
				country_exists = KTG
				country_exists = KIV
				KTG = { NOT = { has_country_flag = MAF_already_exists } }
			}
			KIV = { declare_war_on = { target = KTG type = annex_everything } }
		}
		KTG = {
			every_owned_state = {
				limit = {
					OR = {
						state = 881
					}
				}
				LPD = { transfer_state = PREV }
			}
		}
		if = {
			limit = {
				country_exists = KIV
				LPD = { NOT = { has_country_flag = MAF_already_exists } }
			}
			LPD = {
				add_state_core = 881
				add_state_core = 295
				load_oob = LPD
				#load_focus_tree = KTG_Civilwar
				complete_national_focus = KTG_tewapen
				mark_focus_tree_layout_dirty = yes
				add_to_array = { global.MAF_collapse_tags = THIS }
			}
		}
		KTG = {
			every_owned_state = {
				limit = {
					OR = {
						state = 879
					}
				}
				UMN = { transfer_state = PREV }
			}
		}
		if = {
			limit = {
				country_exists = KIV
				UMN = { NOT = { has_country_flag = MAF_already_exists } }
			}
			UMN = {
				add_state_core = 879
				add_state_core = 1183
				load_oob = UMN
				#load_focus_tree = KTG_Civilwar
				complete_national_focus = KTG_tewapen
				mark_focus_tree_layout_dirty = yes
				add_to_array = { global.MAF_collapse_tags = THIS }
			}
		}
		KTG = {
			every_owned_state = {
				limit = {
					OR = {
						state = 1025
					}
				}
				KSV = { transfer_state = PREV }
			}
		}
		if = {
			limit = {
				country_exists = KSV
				KSV = { NOT = { has_country_flag = MAF_already_exists } }
			}
			KSV = {
				add_state_core = 538
				add_state_core = 1180
				add_state_core = 1025
				load_oob = KSV
				#load_focus_tree = KTG_Civilwar
				complete_national_focus = KTG_tewapen
				mark_focus_tree_layout_dirty = yes
				add_to_array = { global.MAF_collapse_tags = THIS }
			}
		}
		if = {
			limit = {
				country_exists = KTG
				country_exists = KSV
				KTG = { NOT = { has_country_flag = MAF_already_exists } }
			}
			KSV = { declare_war_on = { target = KTG type = annex_everything } }
		}

		if = {
			limit = {
				country_exists = KIV
				country_exists = KSV
				KSV = { NOT = { has_country_flag = MAF_already_exists } }
			}
			KSV = { declare_war_on = { target = KIV type = annex_everything } }
		}
		KTG = { 
			country_event = {
				id = conbel.7
				days = 1
			}
			add_to_array = { global.MAF_collapse_tags = THIS }
		}
		KTG = {
			set_cosmetic_tag = KTG_civilwar
			complete_national_focus = KTG_tewapen
			mark_focus_tree_layout_dirty = yes
			add_ideas = COG_lack_of_resources
			add_ideas = COG_reliance_on_mercs_idea
			remove_unit_leader = 12435
			every_unit_leader = {
				limit = { has_id = 89996 } 
				promote_leader = yes
				set_nationality = LPD
			}
		}
		set_global_flag = KTG_is_in_civil_war
}

merc_commander_cost = {
	if = {
		limit = { has_idea = COG_reliance_on_mercs_idea }
		add_political_power = -200
		COG_increase_merc_reliance = yes
	}
	else_if = {
		limit = { has_idea = COG_reliance_on_mercs_idea2 }
		add_political_power = -150
		COG_increase_merc_reliance = yes
	}
	else_if = {
		limit = { has_idea = COG_reliance_on_mercs_idea3 }
		add_political_power = -100
		COG_increase_merc_reliance = yes
	}
	else_if = {
		limit = { has_idea = COG_reliance_on_mercs_idea4 }
		add_political_power = -50
		COG_increase_merc_reliance = yes
	}
	else_if = {
		limit = { has_idea = COG_reliance_on_mercs_idea5 }
		add_political_power = -25
		COG_increase_merc_reliance = yes
	}
}

increase_merc_disunity = {
	custom_effect_tooltip = KSV_increase_merc_disunity
	hidden_effect = {
		if = {
			limit = { has_idea = KSV_merc_disunity_idea }
			swap_ideas = {
				remove_idea = KSV_merc_disunity_idea
				add_idea = KSV_merc_disunity_idea2
			}
		}
		else_if = {
			limit = { has_idea = KSV_merc_disunity_idea2 }
			swap_ideas = {
				remove_idea = KSV_merc_disunity_idea2
				add_idea = KSV_merc_disunity_idea3
			}
		}
		else_if = {
			limit = { has_idea = KSV_merc_disunity_idea3 }
			swap_ideas = {
				remove_idea = KSV_merc_disunity_idea3
				add_idea = KSV_merc_disunity_idea4
			}
		}
		else_if = {
			limit = { has_idea = KSV_merc_disunity_idea4 }
			swap_ideas = {
				remove_idea = KSV_merc_disunity_idea4
				add_idea = KSV_merc_disunity_idea5
			}
		}
	}
}

decrease_merc_disunity = {
	custom_effect_tooltip = KSV_decrease_merc_disunity
	hidden_effect = {
		if = { limit = { has_idea = KSV_merc_disunity_idea5 }
			swap_ideas = {
				remove_idea = KSV_merc_disunity_idea5
				add_idea = KSV_merc_disunity_idea4
			}
		}
		else_if = { limit = { has_idea = KSV_merc_disunity_idea4 }
			swap_ideas = {
				remove_idea = KSV_merc_disunity_idea4
				add_idea = KSV_merc_disunity_idea3
			}
		}
		else_if = { limit = { has_idea = KSV_merc_disunity_idea3 }
			swap_ideas = {
				remove_idea = KSV_merc_disunity_idea3
				add_idea = KSV_merc_disunity_idea2
			}
		}
		else_if = { limit = { has_idea = KSV_merc_disunity_idea2 }
			swap_ideas = {
				remove_idea = KSV_merc_disunity_idea2
				add_idea = KSV_merc_disunity_idea
			}
		}
	}
}
	