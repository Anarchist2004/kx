###########################
# Armenia Decisions
###########################
# By Bloxerbot
###########################

ARM_foreign_policy = {
	ARM_join_reichspakt = {
		icon = generic_political_discourse
		allowed = { always = no }

		available = {
			NOT = { TUR = { is_in_faction_with = FROM } }
			at_peace_or_same_enemies_as_FROM = yes
		}

		visible = {
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
			has_socialist_government = no
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				FROM = {
					any_owned_state = { is_claim_or_core_of_ROOT = yes }
				}
				NOT = { has_game_rule = { rule = ARM_forpol option = ARM_FORPOL_GER } }
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.1 }
				NOT = { has_game_rule = { rule = ARM_forpol option = ARM_FORPOL_GER } }
			}
			modifier = {
				factor = 0
				has_game_rule = { rule = ARM_forpol option = ARM_FORPOL_RUS }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ARM_join_reichspakt target: [From.GetName]"
			FROM = {
				country_event = arm.55
			}
		}
	}
	ARM_join_internationale = {
		icon = generic_political_discourse
		allowed = { always = no }

		available = {
			INT = { is_faction_leader = yes }
			at_peace_or_same_enemies_as_FROM = yes
		}

		visible = {
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
			has_socialist_government = yes
			is_in_faction = no
			
		}
		
		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ARM_join_internationale target: [From.GetName]"
			if = {
				limit = { 
					RUS = { 
						is_faction_leader = yes
						has_socialist_government = yes
					}
				}
				RUS = { country_event = arm.46 }
			}
			else = {
				INT = { country_event = arm.46 }
			}
		}
	}
	ARM_conquer_caucasus = {
		icon = hol_draw_up_staff_plans
		allowed = {
			always = no
		}

		available = {
			is_neighbor_of = FROM
		}

		visible = {
			can_declare_war_on = FROM
			FROM = {
				is_subject = no
				is_in_faction = no
			}
		}	
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				ROOT_is_threatened_cautious = yes
			}
			modifier = {
				factor = 0
				FROM = { is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
			modifier = {
				factor = 0
				FROM = { overlord_is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
			modifier = {
				factor = 0
				FROM = { faction_leader_is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
			modifier = {
				factor = 0
				FROM = { guarantor_is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
		}

		cost = 10
		days_remove = 14
		fire_only_once = yes
		war_with_target_on_remove = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ARM_conquer_caucasus target: [From.GetName]"
			setup_decision_attack_AI = yes
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ARM_conquer_caucasus target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
	ARM_proclaim_transcaucasia = {
		icon = hol_draw_up_staff_plans
		allowed = {
			always = no
		}

		available = {
			owns_state = 231
			owns_state = 990
		}

		visible = {
			has_socialist_government = yes
		}	
		
		ai_will_do = {
			factor = 100
		}

		cost = 0
		fire_only_once = yes
		war_with_target_on_remove = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ARM_proclaim_transcaucasia target: [From.GetName]"
			add_state_core = 230
			add_state_core = 229
			add_state_core = 998
			add_state_core = 1082
			add_state_core = 1081
			add_state_core = 990
			set_cosmetic_tag = ARM_TCU
		}
	}
}
