### by soclibdictator ###
KUB_Rada_Debate = {
	KUB_Prepare_1936_National_Budget = {
		icon = GFX_decision_generic_political_discourse
		available = {
			custom_trigger_tooltip = {
				tooltip = kub_black_monday_tt
				NOT = { has_idea = KUB_black_monday_1 }
			}
		}
		cost = 0
		days_remove = 50
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		cancel_trigger = {
			has_idea = KUB_black_monday_1
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision KUB_Prepare_1936_National_Budget target: [From.GetName]"
			country_event = {
				id = kub.7
				days = 8
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_Prepare_1936_National_Budget target: [From.GetName]"
			custom_effect_tooltip = kub_national_budget_tt
		}
	}
	KUB_Tax_Incentives_To_Proukrainian_Industries = {
		icon = GFX_decision_give_cash
		available = {
			custom_trigger_tooltip = {
				tooltip = kub_black_monday_tt
				NOT = { has_idea = KUB_black_monday_1 }
			}
		}
		cost = 50
		days_remove = 55
		fire_only_once = no
		days_re_enable = 70
		
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = KUB_path option = KUB_PATH_LIN }
			}
		}
		modifier = {
			political_power_cost = 0.15
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision KUB_Tax_Incentives_To_Proukrainian_Industries target: [From.GetName]"
			set_temp_variable_to_random = { 
				var = KUB_integration_process_change
				min = 4
				max = 8
			}
			KUB_change_integration_process = yes
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_Tax_Incentives_To_Proukrainian_Industries target: [From.GetName]"
			KUB_increase_chernomortsy = yes
		}
	}
	KUB_Threaten_To_Cut_Off_Funding_ForOppositional_Regions = {
		icon = GFX_decision_generic_break_treaty
		
		cost = 35
		days_remove = 70
		fire_only_once = no
		days_re_enable = 70
		
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = KUB_path option = KUB_PATH_LIN }
			}
		}
		modifier = {
			stability_weekly = -0.002
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision KUB_Threaten_To_Cut_Off_Funding_ForOppositional_Regions target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_Tax_Incentives_To_Proukrainian_Industries target: [From.GetName]"
			KUB_increase_chernomortsy = yes
		}
	}
	KUB_Lobby_Ukrainian_StatusQuo_Politicians = {
		icon = GFX_decision_give_cash
		
		cost = 35
		days_remove = 70
		fire_only_once = no
		days_re_enable = 70
		
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = KUB_path option = KUB_PATH_CHERN }
			}
		}
		modifier = {
			political_power_cost = 0.15
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision KUB_Lobby_Ukrainian_StatusQuo_Politicians target: [From.GetName]"
			set_temp_variable_to_random = { 
				var = KUB_integration_process_change
				min = -8
				max = -4
			}
			KUB_change_integration_process = yes
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_Lobby_Ukrainian_StatusQuo_Politicians target: [From.GetName]"
			KUB_increase_lineytsy = yes
		}
	}
	KUB_Demonstrate_Costs_And_Risks = {
		icon = GFX_decision_eng_propaganda_campaigns
		
		cost = 35
		days_remove = 55
		fire_only_once = no
		days_re_enable = 70
		
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = KUB_path option = KUB_PATH_LIN }
			}
		}
		modifier = {
			political_power_cost = -0.15
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision KUB_Demonstrate_Costs_And_Risks target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_Demonstrate_Costs_And_Risks target: [From.GetName]"
			KUB_increase_lineytsy = yes
		}
	}
	
}
KUB_Relief_Bill_decisions = {
	KUB_Crisis_Management = {
		icon = GFX_decision_generic_inflation
		allowed = { always = no }
		available = {
			hidden_trigger = {
				always = no
			}
		}
		cancel_trigger = {
			KUB_has_bolsheviks = yes
		}
		fire_only_once = yes
		days_remove = 0
			
		selectable_mission = no
		days_mission_timeout = 140
		is_good = no
		
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel KUB_Crisis_Management target: [From.GetName]"
			swap_ideas = {
				remove_idea = KUB_black_monday_1
				add_idea = KUB_black_monday_2
				days = kuban_recovery_days
			}
		}
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout KUB_Crisis_Management target: [From.GetName]"
			if = {
				limit = { 
					check_variable = { overall_support_bill < 1 }
					NOT = { has_country_flag = KUB_ataman_intervenes }
				}
				add_political_power = -100
				add_stability = -0.2
				increase_kuban_collapse = yes
				if = {
					limit = { KUB_has_chernomortsy = yes }
					add_power_balance_value = {
						id = KUB_rada_bop
						value = 0.5
					}
					set_temp_variable_to_random = {
						var = KUB_pop_added
						min = -0.2
						max = -0.1
					}
					if = {
						limit = { has_country_flag = KUB_chernomortsy_authoritarian }
						add_popularity = {
							ideology = authoritarian_democrat
							popularity = KUB_pop_added
						}
					}
					else_if = {
						limit = { has_country_flag = KUB_chernomortsy_socdem }
						add_popularity = {
							ideology = social_democrat
							popularity = KUB_pop_added
						}
					}
					else = {
						add_popularity = {
							ideology = social_liberal
							popularity = KUB_pop_added
						}
					}
				}
				else_if = {
					limit = { KUB_has_lineytsy = yes }
					add_power_balance_value = {
						id = KUB_rada_bop
						value = -0.5
					}
					set_temp_variable_to_random = {
						var = KUB_pop_added
						min = -0.2
						max = -0.1
					}
					if = {
						limit = { has_country_flag = KUB_chernomortsy_authoritarian }
						add_popularity = {
							ideology = social_conservative
							popularity = KUB_pop_added
						}
						else = {
							add_popularity = {
								ideology = authoritarian_democrat
								popularity = KUB_pop_added
							}
						}
					}
				}
			}
			else = {
				decrease_kuban_collapse = yes
				set_country_flag = KUB_bill_is_passed_or_rada_dissolved
				swap_ideas = {
					remove_idea = KUB_black_monday_1
					add_idea = KUB_black_monday_2
					days = kuban_recovery_days
				}
			}
		}
	}
	KUB_intervene_as_ataman = {
		icon = GFX_decision_generic_flags
		allowed = { always = no }
		
		visible = { 
			NOT = { has_country_flag = KUB_ataman_intervenes }
		}
		
		cost = 100
		fire_only_once = yes
				
		ai_will_do = {
			base = 0
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision KUB_intervene_as_ataman target: [From.GetName]"
			set_country_flag = KUB_ataman_intervenes
			effect_tooltip = { unlock_national_focus = KUB_Restore_Rada_Work }
			add_to_variable = { kubsoyuz_support_bill = -1 }
			KUB_calculate_bill_support = yes
			increase_kuban_collapse = yes
			KUB_increase_lineytsy = yes
			hidden_effect = {
				country_event = {
					id = kub.998
					days = 7
				}
			}			
		}
	}
	KUB_negotiate_with_kubsoyuz = {
		icon = GFX_decision_generic_political_discourse
		allowed = { always = no }
		
		visible = { 
			NOT = { has_country_flag = KUB_install_bread_monopoly_selected }
		}
		
		cost = 30
		fire_only_once = yes
				
		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				check_variable = { kubsoyuz_support_bill > 0 }
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision KUB_negotiate_with_kubsoyuz target: [From.GetName]"
			set_country_flag = KUB_rely_on_cooperatives_selected
			custom_effect_tooltip = KUB_lineytsy_support_bill_will_decrease
			custom_effect_tooltip = KUB_kubsoyuz_support_bill_will_increase
			add_to_variable = { kubsoyuz_support_bill = 1 }
			add_to_variable = { lineytsy_support_bill = -1 }
			add_power_balance_value = {
				id = KUB_rada_bop
				value = -0.05
			}
			set_temp_variable_to_random = {
				var = KUB_pop_added
				min = 0.02
				max = 0.07
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = KUB_pop_added
			}
			KUB_calculate_bill_support = yes
			if = {
				limit = { KUB_has_lineytsy = yes }
				custom_effect_tooltip = KUB_add_recovery_days_50
				add_to_variable = { kuban_recovery_days = 50 }
				else = {
					custom_effect_tooltip = KUB_add_recovery_days_50_good
					add_to_variable = { kuban_recovery_days = -50 }
				}
			}			
		}
	}
	KUB_negotiate_with_chernomortsy = {
		icon = GFX_decision_generic_political_discourse
		allowed = { always = no }
		
		visible = { 
			NOT = { has_country_flag = KUB_rely_on_cooperatives_selected }
			KUB_has_chernomortsy = no
		}
		
		cost = 30
		fire_only_once = yes
				
		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				check_variable = { chernomortsy_support_bill > 0 }
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision KUB_negotiate_with_chernomortsy target: [From.GetName]"
			custom_effect_tooltip = KUB_chernomortsy_support_bill_will_increase
			custom_effect_tooltip = KUB_lineytsy_support_bill_will_decrease
			add_to_variable = { lineytsy_support_bill = -1 }
			add_to_variable = { chernomortsy_support_bill = 1 }
			add_power_balance_value = {
				id = KUB_rada_bop
				value = -0.07
			}
			set_temp_variable_to_random = {
				var = KUB_pop_added
				min = -0.07
				max = -0.02
			}
			if = {
				limit = { has_country_flag = KUB_chernomortsy_authoritarian }
				add_popularity = {
					ideology = social_conservative
					popularity = KUB_pop_added
				}
				else = {
					add_popularity = {
						ideology = authoritarian_democrat
						popularity = KUB_pop_added
					}
				}
			}
			KUB_calculate_bill_support = yes
			if = {
				limit = { KUB_has_lineytsy = yes }
				custom_effect_tooltip = KUB_add_recovery_days_50
				add_to_variable = { kuban_recovery_days = 50 }
				else = {
					custom_effect_tooltip = KUB_add_recovery_days_50_good
					add_to_variable = { kuban_recovery_days = -50 }
				}
			}
		}
	}
	KUB_negotiate_with_lineytsy = {
		icon = GFX_decision_generic_political_discourse
		allowed = { always = no }
		
		visible = { 
			NOT = { has_country_flag = KUB_rely_on_cooperatives_selected }
			KUB_has_lineytsy = no
		}
		
		cost = 30
		fire_only_once = yes
				
		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				check_variable = { lineytsy_support_bill > 0 }
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision KUB_negotiate_with_lineytsy target: [From.GetName]"
			set_country_flag = KUB_install_bread_monopoly_selected
			custom_effect_tooltip = KUB_lineytsy_support_bill_will_increase
			custom_effect_tooltip = KUB_kubsoyuz_support_bill_will_decrease
			custom_effect_tooltip = KUB_chernomortsy_support_bill_will_decrease
			add_to_variable = { lineytsy_support_bill = 2 }
			add_to_variable = { chernomortsy_support_bill = -1 }
			add_power_balance_value = {
				id = KUB_rada_bop
				value = 0.1
			}
			set_temp_variable_to_random = {
				var = KUB_pop_added
				min = -0.08
				max = -0.03
			}
			if = {
				limit = { has_country_flag = KUB_chernomortsy_authoritarian }
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = KUB_pop_added
				}
			}
			else_if = {
				limit = { has_country_flag = KUB_chernomortsy_socdem }
				add_popularity = {
					ideology = social_democrat
					popularity = KUB_pop_added
				}
			}
			else = {
				add_popularity = {
					ideology = social_liberal
					popularity = KUB_pop_added
				}
			}
			KUB_calculate_bill_support = yes
			if = {
				limit = { KUB_has_lineytsy = yes }
				custom_effect_tooltip = KUB_add_recovery_days_50
				add_to_variable = { kuban_recovery_days = 50 }
				else = {
					custom_effect_tooltip = KUB_add_recovery_days_50_good
					add_to_variable = { kuban_recovery_days = -50 }
				}
			}
		}
	}
	KUB_negotiate_with_nonpartisans = {
		icon = GFX_decision_generic_political_discourse
		allowed = { always = no }
		
		visible = { 
			NOT = { has_country_flag = KUB_rely_on_cooperatives_selected }
			check_variable = { KUB_negotiate_with_nonpartisans_var < 2 }
		}
		
		cost = 40
		fire_only_once = no
		days_re_enable = 30
				
		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				check_variable = { nonpartisan_support_bill > 0 }
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision KUB_negotiate_with_nonpartisans target: [From.GetName]"
			custom_effect_tooltip = KUB_nonpartisan_support_bill_will_increase
			add_to_variable = { nonpartisan_support_bill = 1 }
			add_to_variable = { KUB_negotiate_with_nonpartisans_var = 1 }
			add_power_balance_value = {
				id = KUB_rada_bop
				value = 0.07
			}
			set_temp_variable_to_random = {
				var = KUB_pop_added
				min = -0.07
				max = -0.02
			}
			if = {
				limit = { has_country_flag = KUB_chernomortsy_authoritarian }
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = KUB_pop_added
				}
			}
			else_if = {
				limit = { has_country_flag = KUB_chernomortsy_socdem }
				add_popularity = {
					ideology = social_democrat
					popularity = KUB_pop_added
				}
			}
			else = {
				add_popularity = {
					ideology = social_liberal
					popularity = KUB_pop_added
				}
			}
			KUB_calculate_bill_support = yes
			if = {
				limit = { KUB_has_lineytsy = yes }
				custom_effect_tooltip = KUB_add_recovery_days_25
				add_to_variable = { kuban_recovery_days = -25 }
				else = {
					custom_effect_tooltip = KUB_add_recovery_days_25_good
					add_to_variable = { kuban_recovery_days = 25 }
				}
			}
		}
	}
}
KUB_Economy = {
	KUB_Ask_A_Bailout = {
		icon = GFX_decision_cash_flow
		allowed = { always = no }
		available = {
			has_idea = KUB_black_monday_1
			NOT = { has_country_flag = KUB_Announce_Ivanic_Retirement_unlocked }
		}
		visible = {
			has_completed_focus = KUB_Restore_Rada_Work
		}
		cost = 20
		days_remove = 12
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision KUB_Ask_A_Bailout target: [From.GetName]"
			if = {
				limit = { FROM = { tag = GER } }
				KUB_increase_chernomortsy = yes
				FROM = {
					country_event = {
						id = kub.13
						days = 2
					}
				}
			}
			else = {
				KUB_increase_lineytsy = yes
				FROM = {
					country_event = {
						id = kub.17
						days = 2
					}
				}
			}
			set_country_flag = black_monday_bailout_negotiations
		}
	}
	KUB_Cut_Defence_Expenditures = {
		icon = GFX_decision_generic_break_treaty
		allowed = { always = no }
		available = {
			has_idea = KUB_black_monday_1
			NOT = { has_country_flag = KUB_Announce_Ivanic_Retirement_unlocked }
		}
		visible = {
			has_country_flag = kub_black_monday
			NOT = { has_country_flag = KUB_Announce_Ivanic_Retirement_unlocked }
		}
		cost = 30
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 100
			modifier = {
			factor = 0
				OR = {
					has_game_rule = { rule = KUB_path option = KUB_PATH_BOLSH }
					has_game_rule = { rule = KUB_path option = KUB_PATH_RED_COS }
					AND = {
						has_game_rule = { rule = KUB_path option = KUB_PATH_KPA }
						NOT = { has_completed_focus = KUB_KPA_Restores_Control }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision KUB_Cut_Defence_Expenditures target: [From.GetName]"
			if = {
				limit = {
					NOT = { has_active_mission = KUB_Crisis_Management }
				}
				country_event = kub.998
			}		
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_Cut_Defence_Expenditures target: [From.GetName]"
			add_timed_idea = {
				idea = KUB_poor_defence
				days = 365
			}
			decrease_kuban_collapse = yes
		}
	}
	KUB_Human_Capital_Investments = {
		icon = GFX_decision_generic_healthcare
		allowed = { always = no }
		cost = 30
		days_remove = 30
		fire_only_once = yes
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = KUB_path option = KUB_PATH_BOLSH }
					has_game_rule = { rule = KUB_path option = KUB_PATH_RED_COS }
					AND = {
						has_game_rule = { rule = KUB_path option = KUB_PATH_KPA }
						NOT = { has_completed_focus = KUB_KPA_Restores_Control }
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_Human_Capital_Investments target: [From.GetName]"
			add_research_slot_until_five = yes
			add_ideas = KUB_education_healthcare
			decrease_kuban_collapse = yes
		}
	}
	KUB_Novorossiysk_Wine = {
		icon = GFX_decision_generic_healthcare
		allowed = { always = no }
		
		days_remove = 15
		cost = 35
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_Novorossiysk_Wine target: [From.GetName]"
			234 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_ideas = KUB_novorossiysk_vineyards
		}
	}
	KUB_Invite_Russian_Companies = {
		icon = GFX_decision_generic_factory
		allowed = { always = no }
		available = {
			soviets_exist = no
		}
		days_remove = 35
		cost = 35
		fire_only_once = yes
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = KUB_path option = KUB_PATH_CHERN }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_Invite_Russian_Companies target: [From.GetName]"
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
				}
				increase_state_category_by_one_level = yes
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			KUB_increase_lineytsy = yes		
		}
	}
	KUB_ask_for_investments = {
		icon = GFX_decision_cash_flow
		allowed = { always = no }
		available = {
			FROM = { is_faction_leader = yes }
		}
		days_remove = 35
		cost = 35
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_ask_for_investments target: [From.GetName]"
			FROM = {
				country_event = {
					id = kub.35
					days = 2
					random = 48
				}
			}
			KUB_increase_chernomortsy = yes
		}
	}

}
KUB_Kuban_Ukrainian_category = {
	KUB_Customs_With_Ukraine = {
		icon = GFX_decision_generic_flags
		visible = {
			tag = KUB
			has_idea = KUB_Unification_Sentiments_1
			kuban_is_pro_russian = no
		}
		days_remove = 15
		cost = 40
		fire_only_once = yes
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = KUB_path option = KUB_PATH_LIN }
			}
		}
		cancel_if_not_visible = yes
		cancel_effect = {
			add_political_power = 35
		}
		remove_effect = {
			KUB_increase_chernomortsy = yes
			UKR = { 
				country_event = kub.1022
			}
		}
	}
	KUB_Ukrainian_Fest = {
		icon = GFX_decision_generic_flags
		visible = {
			tag = KUB
			has_idea = KUB_Unification_Sentiments_1
			kuban_is_pro_russian = no
		}
		days_remove = 15
		days_re_enable = 70
		cost = 35
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = KUB_path option = KUB_PATH_LIN }
			}
		}
		cancel_if_not_visible = yes
		cancel_effect = {
			add_political_power = 35
		}
		remove_effect = {
			set_temp_variable = { KUB_increase_integration_process = 10 }
			KUB_change_integration_process = yes
			KUB_increase_chernomortsy = yes
		}
	}
	UKR_Sign_Convention = {
		icon = GFX_decision_generic_political_discourse
		allowed = { always = no }
		available = {
			FROM = {
				exists = yes
				has_war = no
			}
		}
		visible = {
			tag = UKR
		}
		fire_only_once = yes
		cost = 20
		days_remove = 14
		
		cancel_if_not_visible = yes
		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = KUB_path option = KUB_PATH_LIN }
			}
		}
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel UKR_Sign_Convention target: [From.GetName]"
			add_political_power = 20
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UKR_Sign_Convention target: [From.GetName]"
			KUB_increase_chernomortsy = yes
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove UKR_Sign_Convention target: [From.GetName]"
			FROM = {
				country_event = kub.1003
				KUB_increase_ukrainian_cooperation = yes	
			}
		}
	}
	UKR_Sign_Customs_Union = {
		icon = GFX_decision_generic_political_discourse
		allowed = { always = no }
		available = {
			FROM = {
				exists = yes
				has_war = no
			}
		}
		visible = {
			tag = UKR
		}
		fire_only_once = yes
		cost = 10
		days_remove = 14
		
		cancel_if_not_visible = yes
		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = KUB_path option = KUB_PATH_LIN }
			}
		}
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel UKR_Sign_Customs_Union target: [From.GetName]"
			add_political_power = 10
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UKR_Sign_Customs_Union target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove UKR_Sign_Customs_Union target: [From.GetName]"
			set_temp_variable = { KUB_increase_integration_process = 15 }
			KUB_change_integration_process = yes
			FROM = { country_event = kub.1023 }
		}
	}
	UKR_Open_Borders = {
		icon = GFX_decision_generic_political_discourse
		allowed = { always = no }
		available = {
			FROM = {
				exists = yes
				has_war = no
			}
		}
		visible = {
			tag = UKR
		}
		fire_only_once = yes
		cost = 15
		days_remove = 14
		
		cancel_if_not_visible = yes
		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = KUB_path option = KUB_PATH_LIN }
			}
		}
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel UKR_Open_Borders target: [From.GetName]"
			add_political_power = 15
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UKR_Open_Borders target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove UKR_Open_Borders target: [From.GetName]"
			FROM = { country_event = kub.1025 }
			give_military_access = FROM
			FROM = { give_military_access = ROOT }
			swap_ideas = {
				remove_idea = UKR_KUB_Convention
				add_idea = UKR_KUB_Convention_2
			}
		}
	}
	UKR_Sign_Federative_Treaty = {
		icon = GFX_decision_generic_political_discourse
		allowed = { always = no }
		available = {
			FROM = {
				exists = yes
				has_war = no
			}
			has_war = no
			is_subject = no
		}
		visible = {
			tag = UKR
		}
		fire_only_once = yes
		cost = 50
		days_remove = 30
		
		cancel_if_not_visible = yes
		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = KUB_path option = KUB_PATH_LIN }
			}
		}
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel UKR_Sign_Federative_Treaty target: [From.GetName]"
			add_political_power = 50
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UKR_Sign_Federative_Treaty target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove UKR_Sign_Federative_Treaty target: [From.GetName]"
			FROM = {
				set_cosmetic_tag = KUB_ukraine
				get_current_government_type = yes
			}
			set_autonomy = {
				target = FROM
				autonomous_state = kr_autonomous_puppet
				freedom_level = 0.75
			}
			FROM = { restore_previous_government_type = yes }	
			FROM = { country_event = kub.1027 }
			hidden_effect = {
				activate_targeted_decision = { target = KUB decision = UKR_Annex_Kuban }
			}
		}
	}
	UKR_Annex_Kuban = {
		icon = GFX_decision_generic_political_discourse
		allowed = { always = no }
		available = {
			FROM = {
				exists = yes
				has_war = no
				is_subject_of = ROOT
			}
			has_war = no
			is_subject = no
		}
		visible = {
			tag = UKR
		}
		fire_only_once = yes
		cost = 100
		days_remove = 14
				
		cancel_if_not_visible = yes
		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_socialist_government = yes
					has_left_democratic_government = yes
					UKR_pavlo_skoropadsky_in_power = yes
				}
			}
			modifier = {
				factor = 0
				FROM = { is_ai = no }
			}
		}
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel UKR_Annex_Kuban target: [From.GetName]"
			add_political_power = 100
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UKR_Annex_Kuban target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove UKR_Annex_Kuban target: [From.GetName]"
			annex_country = {
				target = FROM
				transfer_troops = yes
			}
			every_owned_state = {
				limit = { is_core_of = FROM }
				add_claim_by = ROOT
			}
		}
	}
	UKR_Restore_Zaporozhian_Host = {
		icon = GFX_decision_generic_political_discourse
		allowed = { tag = UKR }
		available = {
			FROM = {
				exists = yes
				has_war = no
				is_subject_of = ROOT
			}
		}
		visible = {
			tag = UKR
			has_idea = UKR_khmel_host
		}
		fire_only_once = yes
		cost = 15
		days_remove = 14
		targets = { KUB }
		target_root_trigger = {
			has_war = no
			is_subject = no
		}
		target_trigger = {
			FROM = {
				has_war = no
				is_subject_of = ROOT
			}
		}
		cancel_if_not_visible = yes
		ai_will_do = {
			base = 100
		}
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel UKR_Restore_Zaporozhian_Host target: [From.GetName]"
			add_political_power = 15
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UKR_Restore_Zaporozhian_Host target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove UKR_Restore_Zaporozhian_Host target: [From.GetName]"
			226 = { 
				add_dynamic_modifier = { modifier = UKR_Zaporozhian_Host } 
			}
			FROM = { country_event = kub.1028 }
		}
	}
	UKR_Invest_In_Kuban_Fleet = {
		icon = GFX_decision_generic_political_discourse
		allowed = { always = no }
		available = {
			FROM = {
				exists = yes
				has_war = no
			}
		}
		visible = {
			tag = UKR
		}
		fire_only_once = yes
		custom_cost_trigger = {
			has_navy_experience > 25
		}
		custom_cost_text = UKR_Invest_In_Kuban_Fleet_tooltip
		days_remove = 30
		
		cancel_if_not_visible = yes
		ai_will_do = {
			base = 100
			modifier = {
				factor = 0.5
				has_navy_experience < 75
			}
		}
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel UKR_Invest_In_Kuban_Fleet target: [From.GetName]"
			navy_experience = 25
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UKR_Invest_In_Kuban_Fleet target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove UKR_Invest_In_Kuban_Fleet target: [From.GetName]"
			hidden_effect = {
				transfer_ship = { prefer_name = "Petrovskiy" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "Pospeshnyy" type = destroyer target = XXA }
				annex_country = { target = XXA }			
			}
			KUB = { country_event = kub.1029 }
			set_temp_variable = { KUB_increase_integration_process = 10 }
			KUB_change_integration_process = yes
		}
	}
}
KUB_arms_trade = {
	KUB_buy_infantry = {
		icon = generic_prepare_civil_war
		allowed = { always = no }		
		
		visible = {
			FROM = { is_subject = no }
			is_subject = no
			NOT = { has_war_with = FROM }
		}
		
		cancel_if_not_visible = yes
		fire_only_once = no
		days_remove = 20
		days_re_enable = 90
		
		ai_will_do = {
			factor = 0
			modifier = {
				# avoid division by zero
				check_variable = { num_target_equipment_in_armies@infantry_equipment > 0 }

				set_temp_variable = { KUB_infantry_equipment_ratio = num_equipment_in_armies@infantry_equipment }
				divide_temp_variable = { KUB_infantry_equipment_ratio = num_target_equipment_in_armies@infantry_equipment }

				set_temp_variable = { KUB_purchase_infantry_equipment_factor = 1 }
				subtract_from_temp_variable = { KUB_purchase_infantry_equipment_factor = KUB_infantry_equipment_ratio }
				multiply_temp_variable = { KUB_purchase_infantry_equipment_factor = 20 }

				add = KUB_purchase_infantry_equipment_factor
			}			
		}
		cost = 40

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel KUB_buy_infantry"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_buy_infantry"
			add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = 2500
				producer = FROM
			}
		}
	}
	KUB_buy_support = { #purchase support equipment
		icon = GFX_decision_support_equipment
		allowed = { always = no }
		
		visible = {
			FROM = { is_subject = no }
			is_subject = no
			NOT = { has_war_with = FROM }
		}
		
		cancel_if_not_visible = yes
		fire_only_once = no
		days_remove = 30
		days_re_enable = 90

		ai_will_do = {
			factor = 0
			modifier = {
				# avoid division by zero
				check_variable = { num_target_equipment_in_armies@support_equipment > 0 }

				set_temp_variable = { KUB_support_ratio = num_equipment_in_armies@support_equipment }
				divide_temp_variable = { KUB_support_ratio = num_target_equipment_in_armies@support_equipment }

				set_temp_variable = { KUB_purchase_support_factor = 1 }
				subtract_from_temp_variable = { KUB_purchase_support_factor = KUB_support_ratio }
				multiply_temp_variable = { KUB_purchase_support_factor = 20 }

				add = KUB_purchase_support_factor
			}
		}

		cost = 30

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel KUB_buy_support"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_buy_support"
			add_equipment_to_stockpile = {
				type = support_equipment_1
				amount = 400
				producer = FROM
			}
		}
	}
	KUB_buy_artillery = { #purchase artillery
		icon = GFX_decision_artillery
		allowed = { always = no }
		visible = {
			FROM = { is_subject = no }
			is_subject = no
			NOT = { has_war_with = FROM }
		}
		cancel_if_not_visible = yes
		fire_only_once = no
		days_remove = 30
		days_re_enable = 120

		ai_will_do = {
			factor = 0
			modifier = {
				# avoid division by zero
				check_variable = { num_target_equipment_in_armies@artillery_equipment > 0 }

				set_temp_variable = { KUB_artillery_ratio = num_equipment_in_armies@artillery_equipment }
				divide_temp_variable = { KUB_artillery_ratio = num_target_equipment_in_armies@artillery_equipment }

				set_temp_variable = { KUB_purchase_artillery_factor = 1 }
				subtract_from_temp_variable = { KUB_purchase_artillery_factor = KUB_artillery_ratio }
				multiply_temp_variable = { KUB_purchase_artillery_factor = 20 }

				add = KUB_purchase_artillery_factor
			}
		}

		cost = 60

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel KUB_buy_artillery"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_buy_artillery"
			add_equipment_to_stockpile = {
				type = artillery_equipment_1
				amount = 400
				producer = FROM
			}
		}
	}
	KUB_buy_motorized = { #purchase German motorized
		icon = GFX_decision_generic_motorized
		allowed = { always = no }
		visible = {
			FROM = { is_subject = no }
			is_subject = no
			NOT = { has_war_with = FROM }
		}
		cancel_if_not_visible = yes
		fire_only_once = no
		days_remove = 40
		days_re_enable = 150

		ai_will_do = {
			factor = 0
			modifier = {
				# avoid division by zero
				check_variable = { num_target_equipment_in_armies@motorized_equipment > 0 }

				set_temp_variable = { KUB_motorised_ratio = num_equipment_in_armies@motorized_equipment }
				divide_temp_variable = { KUB_motorised_ratio = num_target_equipment_in_armies@motorized_equipment }

				set_temp_variable = { KUB_purchase_motorised_factor = 1 }
				subtract_from_temp_variable = { KUB_purchase_motorised_factor = KUB_motorised_ratio }
				multiply_temp_variable = { KUB_purchase_motorised_factor = 20 }

				add = KUB_purchase_motorised_factor
			}
		}

		cost = 80

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel KUB_buy_motorized"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_buy_motorized"
			add_equipment_to_stockpile = {
				type = motorized_equipment_1
				amount = 100
				producer = FROM
			}
		}
	}
	KUB_buy_tank = { 
		icon = GFX_decision_tank
		allowed = { always = no }
		visible = {
			FROM = { is_subject = no }
			is_subject = no
			NOT = { has_war_with = FROM }
		}
		cancel_if_not_visible = yes
		fire_only_once = no
		days_remove = 30
		days_re_enable = 120

		ai_will_do = {
			factor = 0
			modifier = {
				# avoid division by zero
				
				check_variable = { num_target_equipment_in_armies@light_tank_equipment_1 > 0 }
				
				set_temp_variable = { KUB_light_tank_ratio = num_equipment_in_armies@light_tank_equipment_1 }
				divide_temp_variable = { KUB_light_tank_ratio = num_target_equipment_in_armies@light_tank_equipment_1 }

				set_temp_variable = { KUB_purchase_light_tank_factor = 1 }
				subtract_from_temp_variable = { KUB_purchase_light_tank_factor = KUB_light_tank_ratio }
				multiply_temp_variable = { KUB_purchase_light_tank_factor = 20 }

				add = KUB_purchase_light_tank_factor
			}
		}

		cost = 80
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel KUB_buy_tank"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_buy_tank"
			if = {
				limit = {
					NOT = { has_dlc = "No Step Back" }
				}
				add_equipment_to_stockpile = {
					type = light_tank_equipment_1
					amount = 250
					producer = GER
				}
			}
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				add_equipment_to_stockpile = {
					type = light_tank_chassis_1
					amount = 250
					producer = GER
				}
			}
		}
	}
	KUB_buy_fighters = { #purchase german fighters
		icon = GFX_decision_generic_air
		allowed = { always = no }
		
		visible = {
			FROM = { is_subject = no }
			is_subject = no
			NOT = { has_war_with = FROM }
		}
		cancel_if_not_visible = yes
		fire_only_once = no
		days_remove = 60
		days_re_enable = 180

		ai_will_do = {
			factor = 0
			modifier = {
				add = 80
				stockpile_ratio = {
					archetype = small_plane_airframe
					ratio < 0.75
				}
			}
		}

		cost = 60

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel KUB_buy_fighters"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_buy_fighters"
			add_equipment_to_stockpile = {
				type = small_plane_airframe
				amount = 150
				producer = FROM
			}
		}
	}
	KUB_buy_bombers = { #purchase german tactical bombers
		icon = GFX_decision_bomber
		allowed = { always = no }
		
		visible = {
			FROM = { is_subject = no }
			is_subject = no
			NOT = { has_war_with = FROM }
		}
		cancel_if_not_visible = yes
		days_remove = 60
		days_re_enable = 180
		fire_only_once = no

		ai_will_do = {
			factor = 0
			modifier = {
				add = 80
				stockpile_ratio = {
					archetype = medium_plane_airframe
					ratio < 0.75
				}
			}
		}

		cost = 60 
		
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel KUB_buy_bombers"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_buy_bombers"
			add_equipment_to_stockpile = {
				type = medium_plane_airframe
				amount = 150
				producer = FROM
			}
		}
	}
}
KUB_foreign_policy_decisions = {
	KUB_join_internationale = {
		icon = generic_agreement
		allowed = { always = no } # Activated by focus

		available = {
			at_peace_or_same_enemies_as_FROM = yes
			OR = {
				russian_civil_war = no
				AND = {
					russian_civil_war = yes
					OR = {
						has_war_with = DKB
						is_owner_neighbor_of = ROOT
					}
				}
			}
		}

		visible = {
			is_subject = no
			is_in_faction = no
			KUB_has_bolsheviks = yes
			soviets_exist = yes
			FROM = { 
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes
		cost = 0
		
		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision KUB_join_internationale target: [From.GetName]"
			FROM = { country_event = kub.204 }
		}
	}
	KUB_all_russian_ambitions = {
		name = UKR_all_russian_ambitions		
		icon = generic_civil_support
		allowed = { always = no }
		available = {
			has_stability > 0
			is_owner_neighbor_of = FROM
		}
		visible = {
			KUB_has_bolsheviks = yes
		}
		
		cost = 0
		days_remove = 30
		fire_only_once = yes
		war_with_target_on_remove = yes
		
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 3
				FROM = {
					is_in_faction = no 
					has_war = yes
				}				
			}
			modifier = {
				factor = 0
				OR = {
					enemies_strength_ratio > 0.8
					surrender_progress > 0
					strength_ratio = { tag = FROM ratio < 1.0 }
					FROM = {
						is_subject = yes
						overlord = {
							strength_ratio = { tag = ROOT ratio > 0.8 }
						}
					}
					FROM = {
						is_in_faction = yes
						faction_leader = {
							strength_ratio = { tag = ROOT ratio > 0.8 }
						}
					}
					has_country_flag = imminent_war
				}	
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_all_russian_ambitions"
			set_country_flag = { flag = imminent_war days = 35 value = 1 }
			setup_decision_attack_AI = yes
			FROM = { country_event = kr.political.30 } #warning event
			clear_all_relations = yes
			for_each_scope_loop = {
				array = RUS.RUS_starting_states_array
				add_claim_by = ROOT
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove KUB_all_russian_ambitions"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
	KUB_SOV_Create_Soviet_Union = {
		name = LAT_SOV_Create_Soviet_Union
		icon = generic_prepare_civil_war
		allowed = { always = no }

		available = {
			219 = {
				is_owned_and_controlled_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
		}

		visible = {
			KUB_has_bolsheviks = yes
			is_subject = no
		}

		cost = 25
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision KUB_SOV_Create_Soviet_Union"
			add_stability = 0.1
			set_country_flag = RUS_can_integrate
			ROOT = { save_global_event_target_as = soviet_russia }
			set_country_flag = soviet_russia_restored
			set_cosmetic_tag = SOV
			increase_ruling_party_popularity_by_15 = yes
			hidden_effect = {
				for_each_scope_loop = {
					array = RUS.RUS_starting_states_array
					add_core_of = RUS
					remove_claim_by = ROOT
					add_core_of = ROOT
				}
				every_state = {
					limit = {
						is_core_rrf_state = yes
					}
					add_core_of = RUS
					remove_core_of = RRF
					cancel_resistance = yes
					force_disable_resistance = { clear = yes }
				}
			}
			set_capital = { state = 219 }
			set_party_name = {
				ideology = var:current_party_ideology_group
				name = SOV_totalist_party
				long_name = SOV_totalist_party_long
			}
			hidden_effect = {
				set_party_name = {
					ideology = national_populist
					long_name = RUS_national_populist_party_long
					name = RUS_national_populist_party
				}
				set_party_name = {
					ideology = paternal_autocrat
					long_name = RUS_paternal_autocrat_party_long
					name = RUS_paternal_autocrat_party
				}
				set_party_name = {
					ideology = authoritarian_democrat
					long_name = RUS_authoritarian_democrat_party_long
					name = RUS_authoritarian_democrat_party
				}
				set_party_name = {
					ideology = social_conservative
					long_name = RUS_social_conservative_party_long
					name = RUS_social_conservative_party
				}
				set_party_name = {
					ideology = market_liberal
					long_name = RUS_market_liberal_party_long
					name = RUS_market_liberal_party
				}
				set_party_name = {
					ideology = social_liberal
					long_name = RUS_social_liberal_party_long
					name = RUS_social_liberal_party
				}
				set_party_name = {
					ideology = social_democrat
					long_name = RUS_social_democrat_party_long
					name = RUS_social_democrat_party
				}
				set_party_name = {
					ideology = syndicalist
					long_name = RUS_syndicalist_party_long
					name = RUS_syndicalist_party
				}
				every_country = {
					limit = {
						OR = {
							tag = AST
							tag = CAF
							tag = CAN
							tag = CAR
							tag = COR
							tag = FIN
							tag = GER
							tag = NFA
							tag = SAF
							tag = SPR
							tag = TEX
						}
					}
					add_opinion_modifier = {
						modifier = embargo
						target = SOV
					}
					reverse_add_opinion_modifier = {
						modifier = embargo
						target = SOV
					}
				}
			}
		}
	}
}