# Scripted AI desire for peace actions.
# See documentation.info file for more detailed scripting information.

peace_ai_desires = {
	
	KX_disable_vanilla_ai_stuff = {
        peace_action_type = { liberate puppet force_government }
        enable = {
            always = yes
        }
        ai_desire = -1000
    }
	
	dont_take_non_neighboring_states_if_neighboring_one = {
		peace_action_type = { take_states }
		enable = {
			ROOT.FROM.FROM.FROM = {
				rule_take_bordering_first = yes
			}
		}
		ai_desire = -1000
	}
	
	take_only_acceptable_states = {
		peace_action_type = { take_states }
		enable = {
			set_temp_variable = { global.eval_state = ROOT.FROM.FROM.FROM.id }
			ROOT = { is_willing_to_take_state_ROOT = no	}
		}
		ai_desire = -1000
	}
	
	prevent_non_warring_countries_from_taking_states = {
		peace_action_type = { take_states }
		enable = {
			ROOT = { NOT = { has_war_with = ROOT.FROM.FROM.FROM.owner } }
		}
		ai_desire = -1000
	}
	
    take_our_cores = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = { is_core_of = ROOT.FROM } #It is ours
        }
        ai_desire = 200
    }
	
    take_our_claims = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = { NOT = { is_core_of = ROOT.FROM } }#It is ours
            ROOT.FROM.FROM.FROM = { is_claimed_by = ROOT.FROM } #It is ours
        }
        ai_desire = 100
    }
	
    take_our_ambition_areas = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = { is_claim_or_core_of_ROOT_FROM = no } #It is ours
            ROOT.FROM.FROM.FROM = { is_ambition_area_of_ROOT = yes } #It is ours
        }
        ai_desire = 2
    }
	
    take_important_state = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = { is_important_state = yes } #It is ours
        }
        ai_desire = 10
    }
	
    prioritize_neighboring_states = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = { num_owned_neighbour_states = { count > 0 owner = ROOT.FROM } }
        }
        ai_desire = 10
    }
	
    prioritize_pc_neighboring_states = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = { num_owned_neighbour_states = { count > 0 owner = ROOT.FROM } }
            ROOT.FROM.FROM.FROM = { 
				num_owned_neighbour_states = { 
					pc_is_state_claimed_by = ROOT.FROM
					count > 0 owner = FROM.FROM
				} 
			}
        }
        ai_desire = 8
    }
	
    prioritize_two_not_more_neighboring_states = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				# has two neighboring states
				OR = {
					num_owned_neighbour_states = { count > 1 owner = ROOT.FROM }
					num_owned_neighbour_states = { 
						pc_is_state_claimed_by = ROOT.FROM
						count > 1 owner = FROM.FROM
					}
					AND = {
						num_owned_neighbour_states = { count > 0 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 0 owner = FROM.FROM
						}
					}
				}
				# but not more
				NOT = {
					num_owned_neighbour_states = { count > 2 owner = ROOT.FROM }
					num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 2 owner = FROM.FROM
						}
					AND = {
						num_owned_neighbour_states = { count > 1 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 0 owner = FROM.FROM
						}
					}
					AND = {
						num_owned_neighbour_states = { count > 0 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 1 owner = FROM.FROM
						}
					}
				}
			}
        }
        ai_desire = 3
    }
	
    prioritize_three_not_more_neighboring_states = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				# has three neighboring states
				OR = {
					num_owned_neighbour_states = { count > 2 owner = ROOT.FROM }
					num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 2 owner = FROM.FROM
						}
					AND = {
						num_owned_neighbour_states = { count > 1 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 0 owner = FROM.FROM
						}
					}
					AND = {
						num_owned_neighbour_states = { count > 0 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 1 owner = FROM.FROM
						}
					}
				}
				# but not more
				NOT = {
					num_owned_neighbour_states = { count > 3 owner = ROOT.FROM }
					num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 3 owner = FROM.FROM
						}
					AND = {
						num_owned_neighbour_states = { count > 1 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 1 owner = FROM.FROM
						}
					}
					AND = {
						num_owned_neighbour_states = { count > 2 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 0 owner = FROM.FROM
						}
					}
					AND = {
						num_owned_neighbour_states = { count > 0 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 2 owner = FROM.FROM
						}
					}
				}
			}
        }
        ai_desire = 5
    }
	
    prioritize_four_not_more_neighboring_states = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				# has four neighboring states
				OR = {
					num_owned_neighbour_states = { count > 3 owner = ROOT.FROM }
					num_owned_neighbour_states = { 
						pc_is_state_claimed_by = ROOT.FROM
						count > 3 owner = FROM.FROM
					}
					AND = {
						num_owned_neighbour_states = { count > 1 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 1 owner = FROM.FROM
						}
					}
					AND = {
						num_owned_neighbour_states = { count > 2 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 0 owner = FROM.FROM
						}
					}
					AND = {
						num_owned_neighbour_states = { count > 0 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 2 owner = FROM.FROM
						}
					}
				}
				# but not more
				NOT = {
					num_owned_neighbour_states = { count > 4 owner = ROOT.FROM }
					num_owned_neighbour_states = { 
						pc_is_state_claimed_by = ROOT.FROM
						count > 4 owner = FROM.FROM
					}
					AND = {
						num_owned_neighbour_states = { count > 2 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 1 owner = FROM.FROM
						}
					}
					AND = {
						num_owned_neighbour_states = { count > 1 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 2 owner = FROM.FROM
						}
					}
					AND = {
						num_owned_neighbour_states = { count > 0 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 3 owner = FROM.FROM
						}
					}
					AND = {
						num_owned_neighbour_states = { count > 3 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 0 owner = FROM.FROM
						}
					}
				}
			}
        }
        ai_desire = 7
    }
	
    prioritize_five_not_more_neighboring_states = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				# has five or more neighboring states
				OR = {
					num_owned_neighbour_states = { count > 4 owner = ROOT.FROM }
					num_owned_neighbour_states = { 
						pc_is_state_claimed_by = ROOT.FROM
						count > 4 owner = FROM.FROM
					}
					AND = {
						num_owned_neighbour_states = { count > 2 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 1 owner = FROM.FROM
						}
					}
					AND = {
						num_owned_neighbour_states = { count > 1 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 2 owner = FROM.FROM
						}
					}
					AND = {
						num_owned_neighbour_states = { count > 0 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 3 owner = FROM.FROM
						}
					}
					AND = {
						num_owned_neighbour_states = { count > 3 owner = ROOT.FROM }
						num_owned_neighbour_states = { 
							pc_is_state_claimed_by = ROOT.FROM
							count > 0 owner = FROM.FROM
						}
					}
				}
			}
        }
        ai_desire = 9
    }
	
    prioritize_states_next_to_pc_claimed = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				num_owned_neighbour_states = { 
					pc_is_state_claimed_by = ROOT.FROM
					count > 0 owner = FROM.FROM
				}
			}
        }
        ai_desire = 1
    }
	
    prioritize_more_important_states_10 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value < 11
			}
        }
        ai_desire = -15
    }
	
    prioritize_more_important_states_20 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value > 10
			}
        }
        ai_desire = 1
    }
	
    prioritize_more_important_states_30 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value > 20
			}
        }
        ai_desire = 2
    }
	
    prioritize_more_important_states_40 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value > 30
			}
        }
        ai_desire = 3
    }
	
    prioritize_more_important_states_50 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value > 40
			}
        }
        ai_desire = 4
    }
	
    prioritize_more_important_states_60 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value > 50
			}
        }
        ai_desire = 5
    }
	
    prioritize_more_important_states_70 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value > 60
			}
        }
        ai_desire = 6
    }
	
    prioritize_more_important_states_80 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value > 70
			}
        }
        ai_desire = 7
    }
	
    prioritize_more_important_states_90 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value > 80
			}
        }
        ai_desire = 8
    }
	
    prioritize_more_important_states_100 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value > 90
			}
        }
        ai_desire = 9
    }
	
    prioritize_more_important_states_110 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value > 100
			}
        }
        ai_desire = 10
    }
	
    prioritize_more_important_states_120 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value > 110
			}
        }
        ai_desire = 11
    }
	
    prioritize_more_important_states_130 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value > 120
			}
        }
        ai_desire = 12
    }
	
    prioritize_more_important_states_140 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value > 130
			}
        }
        ai_desire = 13
    }
	
    prioritize_more_important_states_150 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value > 140
			}
        }
        ai_desire = 14
    }
	
    prioritize_more_important_states_160 = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				state_and_terrain_strategic_value > 150
			}
        }
        ai_desire = 15
    }
	
    prioritize_controlled_states = {
        peace_action_type = { take_states }
        enable = {
            ROOT = { tag = ROOT.FROM } #We are negotiating for ourselves
            ROOT.FROM.FROM.FROM = {
				is_controlled_by = ROOT.FROM
			}
        }
        ai_desire = 20
    }
	### Special Countries ###
	
	GER_prioritize_taking_france = {
		peace_action_type = { take_states }
        enable = {
            ROOT.FROM = { 
				tag = GER
				is_faction_leader = yes
			}
            ROOT.FROM.FROM.FROM = {
				OR = {
					region = 19 #Northern France
					region = 164 #Western France
				}
			}
        }
		ai_desire = 100
	}
	GER_prioritize_taking_southern_france = {
		peace_action_type = { take_states }
        enable = {
            ROOT.FROM = { 
				tag = GER
				is_faction_leader = yes
			}
            ROOT.FROM.FROM.FROM = {
				region = 20
			}
        }
		ai_desire = 50
	}
	NFA_prioritize_taking_france = {
		peace_action_type = { take_states }
        enable = {
            ROOT.FROM = { 
				tag = NFA
			}
            ROOT.FROM.FROM.FROM = {
				region = 20
			}
        }
		ai_desire = 100
	}
	NFA_prioritize_taking_northern_france = {
		peace_action_type = { take_states }
        enable = {
            ROOT.FROM = { 
				tag = NFA
			}
            ROOT.FROM.FROM.FROM = {
				OR = {
					region = 19 #Northern France
					region = 164 #Western France
				}
			}
        }
		ai_desire = 50
	}
	CAN_prioritize_taking_uk = {
		peace_action_type = { take_states }
        enable = {
            ROOT.FROM = { 
				tag = ENT
				is_faction_leader = yes
			}
            ROOT.FROM.FROM.FROM = {
				is_british_isles = yes
			}
        }
		ai_desire = 50
	}
	AUS_prioritize_taking_balkans = {
		peace_action_type = { take_states }
        enable = {
            ROOT.FROM = { 
				tag = AUS
				is_faction_leader = yes
				is_actual_major = yes
			}
            ROOT.FROM.FROM.FROM = {
				OR = {
					region = 15 #Romania
					region = 24 #Southern Balkans
					region = 25 #Greece
					region = 26 #Bulgaria
					region = 143 #Northern Balkans
					region = 144 #Transylvania
					region = 223 #Aegean Sea
				}
			}
        }
		ai_desire = 50
	}
	CSA_prioritize_taking_north_in_acw = {
		peace_action_type = { take_states }
        enable = {
            ROOT.FROM = { 
				tag = CSA
				USA = { is_in_peace_conference = yes }
				TEX = { is_in_peace_conference = yes }			
			}
            ROOT.FROM.FROM.FROM = {
				OR = {
					region = 186 #North-East
					region = 120 #Mid-West
					region = 185 #NorthWest
					region = 226 #Mid-Atlantic
					region = 228 #Great Plains
					region = 230 #Great Lakes
					region = 231 #Steel Belt
				}
			}
        }
		ai_desire = 50
	}
	TEX_prioritize_taking_everywhere_else = {
		peace_action_type = { take_states }
        enable = {
            ROOT.FROM = { 
				tag = TEX
				USA = { is_in_peace_conference = yes }
				TEX = { is_in_peace_conference = yes }			
			}
            ROOT.FROM.FROM.FROM = {
				is_core_of = USA
				NOT = {
					state = 359 #New Jersey
					state = 360 #Philadelphia
					state = 361 #Maryland
					state = 975 #Pittsburgh
					region = 186 #New England
					region = 120 #Midwest
					region = 185 #Cascades
					region = 228 #Northern Rockies
					region = 230 #Great Lakes
				}
			}
        }
		ai_desire = 50
	}
	CAN_give_preference_to_certain_states_acw = {
		peace_action_type = { take_states }
        enable = {
            ROOT.FROM = { 
				tag = CAN
				OR = {
					USA = { at_conference_has_war_with_ROOT = yes }
					CSA = { at_conference_has_war_with_ROOT = yes }
					TEX = { at_conference_has_war_with_ROOT = yes }
				}	
			}
            ROOT.FROM.FROM.FROM = {
				OR = {
					region = 186 #New England
					region = 230 #Great Lakes
					state = 386 #Washington
				}
			}
        }
		ai_desire = 50
	}
	
	#############
	# Puppets
	#############
	
	puppets_dont_interfere_take_states = { #Puppets will focus on helping others most likely, or biidding on their own claims/cores
		peace_action_type = take_states
		enable = {
			is_subject = yes
			NOT = {
				OR = {
					ROOT.FROM.FROM.FROM = { is_claimed_by = ROOT.FROM }
					ROOT.FROM.FROM.FROM = { is_core_of = ROOT.FROM }
				}
			}
		}
		ai_desire = -200
	}
	
	
}
